{"version":3,"file":"/js/fullcalendar.js","mappings":"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","sources":["webpack:///./resources/js/fullcalendar/packages/core/index.global.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["/*!\nFullCalendar Core v6.1.4\nDocs & License: https://fullcalendar.io\n(c) 2023 Adam Shaw\n*/\nvar FullCalendar = (function (exports) {\n    'use strict';\n\n    function removeElement(el) {\n        if (el.parentNode) {\n            el.parentNode.removeChild(el);\n        }\n    }\n    // Querying\n    // ----------------------------------------------------------------------------------------------------------------\n    function elementClosest(el, selector) {\n        if (el.closest) {\n            return el.closest(selector);\n            // really bad fallback for IE\n            // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n        }\n        if (!document.documentElement.contains(el)) {\n            return null;\n        }\n        do {\n            if (elementMatches(el, selector)) {\n                return el;\n            }\n            el = (el.parentElement || el.parentNode);\n        } while (el !== null && el.nodeType === 1);\n        return null;\n    }\n    function elementMatches(el, selector) {\n        let method = el.matches || el.matchesSelector || el.msMatchesSelector;\n        return method.call(el, selector);\n    }\n    // accepts multiple subject els\n    // returns a real array. good for methods like forEach\n    // TODO: accept the document\n    function findElements(container, selector) {\n        let containers = container instanceof HTMLElement ? [container] : container;\n        let allMatches = [];\n        for (let i = 0; i < containers.length; i += 1) {\n            let matches = containers[i].querySelectorAll(selector);\n            for (let j = 0; j < matches.length; j += 1) {\n                allMatches.push(matches[j]);\n            }\n        }\n        return allMatches;\n    }\n    // accepts multiple subject els\n    // only queries direct child elements // TODO: rename to findDirectChildren!\n    function findDirectChildren(parent, selector) {\n        let parents = parent instanceof HTMLElement ? [parent] : parent;\n        let allMatches = [];\n        for (let i = 0; i < parents.length; i += 1) {\n            let childNodes = parents[i].children; // only ever elements\n            for (let j = 0; j < childNodes.length; j += 1) {\n                let childNode = childNodes[j];\n                if (!selector || elementMatches(childNode, selector)) {\n                    allMatches.push(childNode);\n                }\n            }\n        }\n        return allMatches;\n    }\n    // Style\n    // ----------------------------------------------------------------------------------------------------------------\n    const PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\n    function applyStyle(el, props) {\n        for (let propName in props) {\n            applyStyleProp(el, propName, props[propName]);\n        }\n    }\n    function applyStyleProp(el, name, val) {\n        if (val == null) {\n            el.style[name] = '';\n        }\n        else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n            el.style[name] = `${val}px`;\n        }\n        else {\n            el.style[name] = val;\n        }\n    }\n    // Event Handling\n    // ----------------------------------------------------------------------------------------------------------------\n    // if intercepting bubbled events at the document/window/body level,\n    // and want to see originating element (the 'target'), use this util instead\n    // of `ev.target` because it goes within web-component boundaries.\n    function getEventTargetViaRoot(ev) {\n        var _a, _b;\n        return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n    }\n    // Unique ID for DOM attribute\n    let guid$1 = 0;\n    function getUniqueDomId() {\n        guid$1 += 1;\n        return 'fc-dom-' + guid$1;\n    }\n\n    // Stops a mouse/touch event from doing it's native browser action\n    function preventDefault(ev) {\n        ev.preventDefault();\n    }\n    // Event Delegation\n    // ----------------------------------------------------------------------------------------------------------------\n    function buildDelegationHandler(selector, handler) {\n        return (ev) => {\n            let matchedChild = elementClosest(ev.target, selector);\n            if (matchedChild) {\n                handler.call(matchedChild, ev, matchedChild);\n            }\n        };\n    }\n    function listenBySelector(container, eventType, selector, handler) {\n        let attachedHandler = buildDelegationHandler(selector, handler);\n        container.addEventListener(eventType, attachedHandler);\n        return () => {\n            container.removeEventListener(eventType, attachedHandler);\n        };\n    }\n    function listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n        let currentMatchedChild;\n        return listenBySelector(container, 'mouseover', selector, (mouseOverEv, matchedChild) => {\n            if (matchedChild !== currentMatchedChild) {\n                currentMatchedChild = matchedChild;\n                onMouseEnter(mouseOverEv, matchedChild);\n                let realOnMouseLeave = (mouseLeaveEv) => {\n                    currentMatchedChild = null;\n                    onMouseLeave(mouseLeaveEv, matchedChild);\n                    matchedChild.removeEventListener('mouseleave', realOnMouseLeave);\n                };\n                // listen to the next mouseleave, and then unattach\n                matchedChild.addEventListener('mouseleave', realOnMouseLeave);\n            }\n        });\n    }\n    // Animation\n    // ----------------------------------------------------------------------------------------------------------------\n    const transitionEventNames = [\n        'webkitTransitionEnd',\n        'otransitionend',\n        'oTransitionEnd',\n        'msTransitionEnd',\n        'transitionend',\n    ];\n    // triggered only when the next single subsequent transition finishes\n    function whenTransitionDone(el, callback) {\n        let realCallback = (ev) => {\n            callback(ev);\n            transitionEventNames.forEach((eventName) => {\n                el.removeEventListener(eventName, realCallback);\n            });\n        };\n        transitionEventNames.forEach((eventName) => {\n            el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n        });\n    }\n    // ARIA workarounds\n    // ----------------------------------------------------------------------------------------------------------------\n    function createAriaClickAttrs(handler) {\n        return Object.assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n    }\n    function createAriaKeyboardAttrs(handler) {\n        return {\n            tabIndex: 0,\n            onKeyDown(ev) {\n                if (ev.key === 'Enter' || ev.key === ' ') {\n                    handler(ev);\n                    ev.preventDefault(); // if space, don't scroll down page\n                }\n            },\n        };\n    }\n\n    let guidNumber = 0;\n    function guid() {\n        guidNumber += 1;\n        return String(guidNumber);\n    }\n    /* FullCalendar-specific DOM Utilities\n    ----------------------------------------------------------------------------------------------------------------------*/\n    // Make the mouse cursor express that an event is not allowed in the current area\n    function disableCursor() {\n        document.body.classList.add('fc-not-allowed');\n    }\n    // Returns the mouse cursor to its original look\n    function enableCursor() {\n        document.body.classList.remove('fc-not-allowed');\n    }\n    /* Selection\n    ----------------------------------------------------------------------------------------------------------------------*/\n    function preventSelection(el) {\n        el.classList.add('fc-unselectable');\n        el.addEventListener('selectstart', preventDefault);\n    }\n    function allowSelection(el) {\n        el.classList.remove('fc-unselectable');\n        el.removeEventListener('selectstart', preventDefault);\n    }\n    /* Context Menu\n    ----------------------------------------------------------------------------------------------------------------------*/\n    function preventContextMenu(el) {\n        el.addEventListener('contextmenu', preventDefault);\n    }\n    function allowContextMenu(el) {\n        el.removeEventListener('contextmenu', preventDefault);\n    }\n    function parseFieldSpecs(input) {\n        let specs = [];\n        let tokens = [];\n        let i;\n        let token;\n        if (typeof input === 'string') {\n            tokens = input.split(/\\s*,\\s*/);\n        }\n        else if (typeof input === 'function') {\n            tokens = [input];\n        }\n        else if (Array.isArray(input)) {\n            tokens = input;\n        }\n        for (i = 0; i < tokens.length; i += 1) {\n            token = tokens[i];\n            if (typeof token === 'string') {\n                specs.push(token.charAt(0) === '-' ?\n                    { field: token.substring(1), order: -1 } :\n                    { field: token, order: 1 });\n            }\n            else if (typeof token === 'function') {\n                specs.push({ func: token });\n            }\n        }\n        return specs;\n    }\n    function compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n        let i;\n        let cmp;\n        for (i = 0; i < fieldSpecs.length; i += 1) {\n            cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n            if (cmp) {\n                return cmp;\n            }\n        }\n        return 0;\n    }\n    function compareByFieldSpec(obj0, obj1, fieldSpec) {\n        if (fieldSpec.func) {\n            return fieldSpec.func(obj0, obj1);\n        }\n        return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n            * (fieldSpec.order || 1);\n    }\n    function flexibleCompare(a, b) {\n        if (!a && !b) {\n            return 0;\n        }\n        if (b == null) {\n            return -1;\n        }\n        if (a == null) {\n            return 1;\n        }\n        if (typeof a === 'string' || typeof b === 'string') {\n            return String(a).localeCompare(String(b));\n        }\n        return a - b;\n    }\n    /* String Utilities\n    ----------------------------------------------------------------------------------------------------------------------*/\n    function padStart(val, len) {\n        let s = String(val);\n        return '000'.substr(0, len - s.length) + s;\n    }\n    function formatWithOrdinals(formatter, args, fallbackText) {\n        if (typeof formatter === 'function') {\n            return formatter(...args);\n        }\n        if (typeof formatter === 'string') { // non-blank string\n            return args.reduce((str, arg, index) => (str.replace('$' + index, arg || '')), formatter);\n        }\n        return fallbackText;\n    }\n    /* Number Utilities\n    ----------------------------------------------------------------------------------------------------------------------*/\n    function compareNumbers(a, b) {\n        return a - b;\n    }\n    function isInt(n) {\n        return n % 1 === 0;\n    }\n    /* FC-specific DOM dimension stuff\n    ----------------------------------------------------------------------------------------------------------------------*/\n    function computeSmallestCellWidth(cellEl) {\n        let allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n        let contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n        if (!allWidthEl) {\n            throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n        }\n        if (!contentWidthEl) {\n            throw new Error('needs fc-scrollgrid-shrink-cushion className');\n        }\n        return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n            contentWidthEl.getBoundingClientRect().width;\n    }\n\n    const INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\n    const PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n    // Parsing and Creation\n    function createDuration(input, unit) {\n        if (typeof input === 'string') {\n            return parseString(input);\n        }\n        if (typeof input === 'object' && input) { // non-null object\n            return parseObject(input);\n        }\n        if (typeof input === 'number') {\n            return parseObject({ [unit || 'milliseconds']: input });\n        }\n        return null;\n    }\n    function parseString(s) {\n        let m = PARSE_RE.exec(s);\n        if (m) {\n            let sign = m[1] ? -1 : 1;\n            return {\n                years: 0,\n                months: 0,\n                days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n                milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                    (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                    (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                    (m[6] ? parseInt(m[6], 10) : 0) // ms\n                ),\n            };\n        }\n        return null;\n    }\n    function parseObject(obj) {\n        let duration = {\n            years: obj.years || obj.year || 0,\n            months: obj.months || obj.month || 0,\n            days: obj.days || obj.day || 0,\n            milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n                (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n                (obj.seconds || obj.second || 0) * 1000 + // seconds\n                (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n        };\n        let weeks = obj.weeks || obj.week;\n        if (weeks) {\n            duration.days += weeks * 7;\n            duration.specifiedWeeks = true;\n        }\n        return duration;\n    }\n    // Equality\n    function durationsEqual(d0, d1) {\n        return d0.years === d1.years &&\n            d0.months === d1.months &&\n            d0.days === d1.days &&\n            d0.milliseconds === d1.milliseconds;\n    }\n    function asCleanDays(dur) {\n        if (!dur.years && !dur.months && !dur.milliseconds) {\n            return dur.days;\n        }\n        return 0;\n    }\n    // Simple Math\n    function addDurations(d0, d1) {\n        return {\n            years: d0.years + d1.years,\n            months: d0.months + d1.months,\n            days: d0.days + d1.days,\n            milliseconds: d0.milliseconds + d1.milliseconds,\n        };\n    }\n    function subtractDurations(d1, d0) {\n        return {\n            years: d1.years - d0.years,\n            months: d1.months - d0.months,\n            days: d1.days - d0.days,\n            milliseconds: d1.milliseconds - d0.milliseconds,\n        };\n    }\n    function multiplyDuration(d, n) {\n        return {\n            years: d.years * n,\n            months: d.months * n,\n            days: d.days * n,\n            milliseconds: d.milliseconds * n,\n        };\n    }\n    // Conversions\n    // \"Rough\" because they are based on average-case Gregorian months/years\n    function asRoughYears(dur) {\n        return asRoughDays(dur) / 365;\n    }\n    function asRoughMonths(dur) {\n        return asRoughDays(dur) / 30;\n    }\n    function asRoughDays(dur) {\n        return asRoughMs(dur) / 864e5;\n    }\n    function asRoughMinutes(dur) {\n        return asRoughMs(dur) / (1000 * 60);\n    }\n    function asRoughSeconds(dur) {\n        return asRoughMs(dur) / 1000;\n    }\n    function asRoughMs(dur) {\n        return dur.years * (365 * 864e5) +\n            dur.months * (30 * 864e5) +\n            dur.days * 864e5 +\n            dur.milliseconds;\n    }\n    // Advanced Math\n    function wholeDivideDurations(numerator, denominator) {\n        let res = null;\n        for (let i = 0; i < INTERNAL_UNITS.length; i += 1) {\n            let unit = INTERNAL_UNITS[i];\n            if (denominator[unit]) {\n                let localRes = numerator[unit] / denominator[unit];\n                if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                    return null;\n                }\n                res = localRes;\n            }\n            else if (numerator[unit]) {\n                // needs to divide by something but can't!\n                return null;\n            }\n        }\n        return res;\n    }\n    function greatestDurationDenominator(dur) {\n        let ms = dur.milliseconds;\n        if (ms) {\n            if (ms % 1000 !== 0) {\n                return { unit: 'millisecond', value: ms };\n            }\n            if (ms % (1000 * 60) !== 0) {\n                return { unit: 'second', value: ms / 1000 };\n            }\n            if (ms % (1000 * 60 * 60) !== 0) {\n                return { unit: 'minute', value: ms / (1000 * 60) };\n            }\n            if (ms) {\n                return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n            }\n        }\n        if (dur.days) {\n            if (dur.specifiedWeeks && dur.days % 7 === 0) {\n                return { unit: 'week', value: dur.days / 7 };\n            }\n            return { unit: 'day', value: dur.days };\n        }\n        if (dur.months) {\n            return { unit: 'month', value: dur.months };\n        }\n        if (dur.years) {\n            return { unit: 'year', value: dur.years };\n        }\n        return { unit: 'millisecond', value: 0 };\n    }\n\n    const { hasOwnProperty } = Object.prototype;\n    // Merges an array of objects into a single object.\n    // The second argument allows for an array of property names who's object values will be merged together.\n    function mergeProps(propObjs, complexPropsMap) {\n        let dest = {};\n        if (complexPropsMap) {\n            for (let name in complexPropsMap) {\n                if (complexPropsMap[name] === isMaybeObjectsEqual) { // implies that it's object-mergeable\n                    let complexObjs = [];\n                    // collect the trailing object values, stopping when a non-object is discovered\n                    for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n                        let val = propObjs[i][name];\n                        if (typeof val === 'object' && val) { // non-null object\n                            complexObjs.unshift(val);\n                        }\n                        else if (val !== undefined) {\n                            dest[name] = val; // if there were no objects, this value will be used\n                            break;\n                        }\n                    }\n                    // if the trailing values were objects, use the merged value\n                    if (complexObjs.length) {\n                        dest[name] = mergeProps(complexObjs);\n                    }\n                }\n            }\n        }\n        // copy values into the destination, going from last to first\n        for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n            let props = propObjs[i];\n            for (let name in props) {\n                if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                    dest[name] = props[name];\n                }\n            }\n        }\n        return dest;\n    }\n    function filterHash(hash, func) {\n        let filtered = {};\n        for (let key in hash) {\n            if (func(hash[key], key)) {\n                filtered[key] = hash[key];\n            }\n        }\n        return filtered;\n    }\n    function mapHash(hash, func) {\n        let newHash = {};\n        for (let key in hash) {\n            newHash[key] = func(hash[key], key);\n        }\n        return newHash;\n    }\n    function arrayToHash(a) {\n        let hash = {};\n        for (let item of a) {\n            hash[item] = true;\n        }\n        return hash;\n    }\n    // TODO: reassess browser support\n    // https://caniuse.com/?search=object.values\n    function hashValuesToArray(obj) {\n        let a = [];\n        for (let key in obj) {\n            a.push(obj[key]);\n        }\n        return a;\n    }\n    function isPropsEqual(obj0, obj1) {\n        if (obj0 === obj1) {\n            return true;\n        }\n        for (let key in obj0) {\n            if (hasOwnProperty.call(obj0, key)) {\n                if (!(key in obj1)) {\n                    return false;\n                }\n            }\n        }\n        for (let key in obj1) {\n            if (hasOwnProperty.call(obj1, key)) {\n                if (obj0[key] !== obj1[key]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    const HANDLER_RE = /^on[A-Z]/;\n    function isNonHandlerPropsEqual(obj0, obj1) {\n        const keys = getUnequalProps(obj0, obj1);\n        for (let key of keys) {\n            if (!HANDLER_RE.test(key)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    function getUnequalProps(obj0, obj1) {\n        let keys = [];\n        for (let key in obj0) {\n            if (hasOwnProperty.call(obj0, key)) {\n                if (!(key in obj1)) {\n                    keys.push(key);\n                }\n            }\n        }\n        for (let key in obj1) {\n            if (hasOwnProperty.call(obj1, key)) {\n                if (obj0[key] !== obj1[key]) {\n                    keys.push(key);\n                }\n            }\n        }\n        return keys;\n    }\n    function compareObjs(oldProps, newProps, equalityFuncs = {}) {\n        if (oldProps === newProps) {\n            return true;\n        }\n        for (let key in newProps) {\n            if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n            else {\n                return false;\n            }\n        }\n        // check for props that were omitted in the new\n        for (let key in oldProps) {\n            if (!(key in newProps)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /*\n    assumed \"true\" equality for handler names like \"onReceiveSomething\"\n    */\n    function isObjValsEqual(val0, val1, comparator) {\n        if (val0 === val1 || comparator === true) {\n            return true;\n        }\n        if (comparator) {\n            return comparator(val0, val1);\n        }\n        return false;\n    }\n    function collectFromHash(hash, startIndex = 0, endIndex, step = 1) {\n        let res = [];\n        if (endIndex == null) {\n            endIndex = Object.keys(hash).length;\n        }\n        for (let i = startIndex; i < endIndex; i += step) {\n            let val = hash[i];\n            if (val !== undefined) { // will disregard undefined for sparse arrays\n                res.push(val);\n            }\n        }\n        return res;\n    }\n\n    // TODO: new util arrayify?\n    function removeExact(array, exactVal) {\n        let removeCnt = 0;\n        let i = 0;\n        while (i < array.length) {\n            if (array[i] === exactVal) {\n                array.splice(i, 1);\n                removeCnt += 1;\n            }\n            else {\n                i += 1;\n            }\n        }\n        return removeCnt;\n    }\n    function isArraysEqual(a0, a1, equalityFunc) {\n        if (a0 === a1) {\n            return true;\n        }\n        let len = a0.length;\n        let i;\n        if (len !== a1.length) { // not array? or not same length?\n            return false;\n        }\n        for (i = 0; i < len; i += 1) {\n            if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    const DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n    // Adding\n    function addWeeks(m, n) {\n        let a = dateToUtcArray(m);\n        a[2] += n * 7;\n        return arrayToUtcDate(a);\n    }\n    function addDays(m, n) {\n        let a = dateToUtcArray(m);\n        a[2] += n;\n        return arrayToUtcDate(a);\n    }\n    function addMs(m, n) {\n        let a = dateToUtcArray(m);\n        a[6] += n;\n        return arrayToUtcDate(a);\n    }\n    // Diffing (all return floats)\n    // TODO: why not use ranges?\n    function diffWeeks(m0, m1) {\n        return diffDays(m0, m1) / 7;\n    }\n    function diffDays(m0, m1) {\n        return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n    }\n    function diffHours(m0, m1) {\n        return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n    }\n    function diffMinutes(m0, m1) {\n        return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n    }\n    function diffSeconds(m0, m1) {\n        return (m1.valueOf() - m0.valueOf()) / 1000;\n    }\n    function diffDayAndTime(m0, m1) {\n        let m0day = startOfDay(m0);\n        let m1day = startOfDay(m1);\n        return {\n            years: 0,\n            months: 0,\n            days: Math.round(diffDays(m0day, m1day)),\n            milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n        };\n    }\n    // Diffing Whole Units\n    function diffWholeWeeks(m0, m1) {\n        let d = diffWholeDays(m0, m1);\n        if (d !== null && d % 7 === 0) {\n            return d / 7;\n        }\n        return null;\n    }\n    function diffWholeDays(m0, m1) {\n        if (timeAsMs(m0) === timeAsMs(m1)) {\n            return Math.round(diffDays(m0, m1));\n        }\n        return null;\n    }\n    // Start-Of\n    function startOfDay(m) {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n            m.getUTCDate(),\n        ]);\n    }\n    function startOfHour(m) {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n            m.getUTCDate(),\n            m.getUTCHours(),\n        ]);\n    }\n    function startOfMinute(m) {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n            m.getUTCDate(),\n            m.getUTCHours(),\n            m.getUTCMinutes(),\n        ]);\n    }\n    function startOfSecond(m) {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n            m.getUTCDate(),\n            m.getUTCHours(),\n            m.getUTCMinutes(),\n            m.getUTCSeconds(),\n        ]);\n    }\n    // Week Computation\n    function weekOfYear(marker, dow, doy) {\n        let y = marker.getUTCFullYear();\n        let w = weekOfGivenYear(marker, y, dow, doy);\n        if (w < 1) {\n            return weekOfGivenYear(marker, y - 1, dow, doy);\n        }\n        let nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n        if (nextW >= 1) {\n            return Math.min(w, nextW);\n        }\n        return w;\n    }\n    function weekOfGivenYear(marker, year, dow, doy) {\n        let firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n        let dayStart = startOfDay(marker);\n        let days = Math.round(diffDays(firstWeekStart, dayStart));\n        return Math.floor(days / 7) + 1; // zero-indexed\n    }\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        let fwd = 7 + dow - doy;\n        // first-week day local weekday -- which local weekday is fwd\n        let fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n        return -fwdlw + fwd - 1;\n    }\n    // Array Conversion\n    function dateToLocalArray(date) {\n        return [\n            date.getFullYear(),\n            date.getMonth(),\n            date.getDate(),\n            date.getHours(),\n            date.getMinutes(),\n            date.getSeconds(),\n            date.getMilliseconds(),\n        ];\n    }\n    function arrayToLocalDate(a) {\n        return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n        a[3] || 0, a[4] || 0, a[5] || 0);\n    }\n    function dateToUtcArray(date) {\n        return [\n            date.getUTCFullYear(),\n            date.getUTCMonth(),\n            date.getUTCDate(),\n            date.getUTCHours(),\n            date.getUTCMinutes(),\n            date.getUTCSeconds(),\n            date.getUTCMilliseconds(),\n        ];\n    }\n    function arrayToUtcDate(a) {\n        // according to web standards (and Safari), a month index is required.\n        // massage if only given a year.\n        if (a.length === 1) {\n            a = a.concat([0]);\n        }\n        return new Date(Date.UTC(...a));\n    }\n    // Other Utils\n    function isValidDate(m) {\n        return !isNaN(m.valueOf());\n    }\n    function timeAsMs(m) {\n        return m.getUTCHours() * 1000 * 60 * 60 +\n            m.getUTCMinutes() * 1000 * 60 +\n            m.getUTCSeconds() * 1000 +\n            m.getUTCMilliseconds();\n    }\n\n    // timeZoneOffset is in minutes\n    function buildIsoString(marker, timeZoneOffset, stripZeroTime = false) {\n        let s = marker.toISOString();\n        s = s.replace('.000', '');\n        if (stripZeroTime) {\n            s = s.replace('T00:00:00Z', '');\n        }\n        if (s.length > 10) { // time part wasn't stripped, can add timezone info\n            if (timeZoneOffset == null) {\n                s = s.replace('Z', '');\n            }\n            else if (timeZoneOffset !== 0) {\n                s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n            }\n            // otherwise, its UTC-0 and we want to keep the Z\n        }\n        return s;\n    }\n    // formats the date, but with no time part\n    // TODO: somehow merge with buildIsoString and stripZeroTime\n    // TODO: rename. omit \"string\"\n    function formatDayString(marker) {\n        return marker.toISOString().replace(/T.*$/, '');\n    }\n    function formatIsoMonthStr(marker) {\n        return marker.toISOString().match(/^\\d{4}-\\d{2}/)[0];\n    }\n    // TODO: use Date::toISOString and use everything after the T?\n    function formatIsoTimeString(marker) {\n        return padStart(marker.getUTCHours(), 2) + ':' +\n            padStart(marker.getUTCMinutes(), 2) + ':' +\n            padStart(marker.getUTCSeconds(), 2);\n    }\n    function formatTimeZoneOffset(minutes, doIso = false) {\n        let sign = minutes < 0 ? '-' : '+';\n        let abs = Math.abs(minutes);\n        let hours = Math.floor(abs / 60);\n        let mins = Math.round(abs % 60);\n        if (doIso) {\n            return `${sign + padStart(hours, 2)}:${padStart(mins, 2)}`;\n        }\n        return `GMT${sign}${hours}${mins ? `:${padStart(mins, 2)}` : ''}`;\n    }\n\n    function memoize(workerFunc, resEquality, teardownFunc) {\n        let currentArgs;\n        let currentRes;\n        return function (...newArgs) {\n            if (!currentArgs) {\n                currentRes = workerFunc.apply(this, newArgs);\n            }\n            else if (!isArraysEqual(currentArgs, newArgs)) {\n                if (teardownFunc) {\n                    teardownFunc(currentRes);\n                }\n                let res = workerFunc.apply(this, newArgs);\n                if (!resEquality || !resEquality(res, currentRes)) {\n                    currentRes = res;\n                }\n            }\n            currentArgs = newArgs;\n            return currentRes;\n        };\n    }\n    function memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n        let currentArg;\n        let currentRes;\n        return (newArg) => {\n            if (!currentArg) {\n                currentRes = workerFunc.call(this, newArg);\n            }\n            else if (!isPropsEqual(currentArg, newArg)) {\n                if (teardownFunc) {\n                    teardownFunc(currentRes);\n                }\n                let res = workerFunc.call(this, newArg);\n                if (!resEquality || !resEquality(res, currentRes)) {\n                    currentRes = res;\n                }\n            }\n            currentArg = newArg;\n            return currentRes;\n        };\n    }\n    function memoizeArraylike(// used at all?\n    workerFunc, resEquality, teardownFunc) {\n        let currentArgSets = [];\n        let currentResults = [];\n        return (newArgSets) => {\n            let currentLen = currentArgSets.length;\n            let newLen = newArgSets.length;\n            let i = 0;\n            for (; i < currentLen; i += 1) {\n                if (!newArgSets[i]) { // one of the old sets no longer exists\n                    if (teardownFunc) {\n                        teardownFunc(currentResults[i]);\n                    }\n                }\n                else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                    if (teardownFunc) {\n                        teardownFunc(currentResults[i]);\n                    }\n                    let res = workerFunc.apply(this, newArgSets[i]);\n                    if (!resEquality || !resEquality(res, currentResults[i])) {\n                        currentResults[i] = res;\n                    }\n                }\n            }\n            for (; i < newLen; i += 1) {\n                currentResults[i] = workerFunc.apply(this, newArgSets[i]);\n            }\n            currentArgSets = newArgSets;\n            currentResults.splice(newLen); // remove excess\n            return currentResults;\n        };\n    }\n    function memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n        let currentArgHash = {};\n        let currentResHash = {};\n        return (newArgHash) => {\n            let newResHash = {};\n            for (let key in newArgHash) {\n                if (!currentResHash[key]) {\n                    newResHash[key] = workerFunc.apply(this, newArgHash[key]);\n                }\n                else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                    if (teardownFunc) {\n                        teardownFunc(currentResHash[key]);\n                    }\n                    let res = workerFunc.apply(this, newArgHash[key]);\n                    newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                        ? currentResHash[key]\n                        : res;\n                }\n                else {\n                    newResHash[key] = currentResHash[key];\n                }\n            }\n            currentArgHash = newArgHash;\n            currentResHash = newResHash;\n            return newResHash;\n        };\n    }\n\n    const EXTENDED_SETTINGS_AND_SEVERITIES = {\n        week: 3,\n        separator: 0,\n        omitZeroMinute: 0,\n        meridiem: 0,\n        omitCommas: 0,\n    };\n    const STANDARD_DATE_PROP_SEVERITIES = {\n        timeZoneName: 7,\n        era: 6,\n        year: 5,\n        month: 4,\n        day: 2,\n        weekday: 2,\n        hour: 1,\n        minute: 1,\n        second: 1,\n    };\n    const MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\n    const COMMA_RE = /,/g; // we need re for globalness\n    const MULTI_SPACE_RE = /\\s+/g;\n    const LTR_RE = /\\u200e/g; // control character\n    const UTC_RE = /UTC|GMT/;\n    class NativeFormatter {\n        constructor(formatSettings) {\n            let standardDateProps = {};\n            let extendedSettings = {};\n            let severity = 0;\n            for (let name in formatSettings) {\n                if (name in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                    extendedSettings[name] = formatSettings[name];\n                    severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name], severity);\n                }\n                else {\n                    standardDateProps[name] = formatSettings[name];\n                    if (name in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                        severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name], severity);\n                    }\n                }\n            }\n            this.standardDateProps = standardDateProps;\n            this.extendedSettings = extendedSettings;\n            this.severity = severity;\n            this.buildFormattingFunc = memoize(buildFormattingFunc);\n        }\n        format(date, context) {\n            return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n        }\n        formatRange(start, end, context, betterDefaultSeparator) {\n            let { standardDateProps, extendedSettings } = this;\n            let diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n            if (!diffSeverity) {\n                return this.format(start, context);\n            }\n            let biggestUnitForPartial = diffSeverity;\n            if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n                (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n                (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n                (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n                biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n            }\n            let full0 = this.format(start, context);\n            let full1 = this.format(end, context);\n            if (full0 === full1) {\n                return full0;\n            }\n            let partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n            let partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n            let partial0 = partialFormattingFunc(start);\n            let partial1 = partialFormattingFunc(end);\n            let insertion = findCommonInsertion(full0, partial0, full1, partial1);\n            let separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n            if (insertion) {\n                return insertion.before + partial0 + separator + partial1 + insertion.after;\n            }\n            return full0 + separator + full1;\n        }\n        getLargestUnit() {\n            switch (this.severity) {\n                case 7:\n                case 6:\n                case 5:\n                    return 'year';\n                case 4:\n                    return 'month';\n                case 3:\n                    return 'week';\n                case 2:\n                    return 'day';\n                default:\n                    return 'time'; // really?\n            }\n        }\n    }\n    function buildFormattingFunc(standardDateProps, extendedSettings, context) {\n        let standardDatePropCnt = Object.keys(standardDateProps).length;\n        if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n            return (date) => (formatTimeZoneOffset(date.timeZoneOffset));\n        }\n        if (standardDatePropCnt === 0 && extendedSettings.week) {\n            return (date) => (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week));\n        }\n        return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n    }\n    function buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n        standardDateProps = Object.assign({}, standardDateProps); // copy\n        extendedSettings = Object.assign({}, extendedSettings); // copy\n        sanitizeSettings(standardDateProps, extendedSettings);\n        standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n        let normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n        let zeroFormat; // needed?\n        if (extendedSettings.omitZeroMinute) {\n            let zeroProps = Object.assign({}, standardDateProps);\n            delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n            zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n        }\n        return (date) => {\n            let { marker } = date;\n            let format;\n            if (zeroFormat && !marker.getUTCMinutes()) {\n                format = zeroFormat;\n            }\n            else {\n                format = normalFormat;\n            }\n            let s = format.format(marker);\n            return postProcess(s, date, standardDateProps, extendedSettings, context);\n        };\n    }\n    function sanitizeSettings(standardDateProps, extendedSettings) {\n        // deal with a browser inconsistency where formatting the timezone\n        // requires that the hour/minute be present.\n        if (standardDateProps.timeZoneName) {\n            if (!standardDateProps.hour) {\n                standardDateProps.hour = '2-digit';\n            }\n            if (!standardDateProps.minute) {\n                standardDateProps.minute = '2-digit';\n            }\n        }\n        // only support short timezone names\n        if (standardDateProps.timeZoneName === 'long') {\n            standardDateProps.timeZoneName = 'short';\n        }\n        // if requesting to display seconds, MUST display minutes\n        if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n            delete extendedSettings.omitZeroMinute;\n        }\n    }\n    function postProcess(s, date, standardDateProps, extendedSettings, context) {\n        s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n        if (standardDateProps.timeZoneName === 'short') {\n            s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n                'UTC' : // important to normalize for IE, which does \"GMT\"\n                formatTimeZoneOffset(date.timeZoneOffset));\n        }\n        if (extendedSettings.omitCommas) {\n            s = s.replace(COMMA_RE, '').trim();\n        }\n        if (extendedSettings.omitZeroMinute) {\n            s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n        }\n        // ^ do anything that might create adjacent spaces before this point,\n        // because MERIDIEM_RE likes to eat up loading spaces\n        if (extendedSettings.meridiem === false) {\n            s = s.replace(MERIDIEM_RE, '').trim();\n        }\n        else if (extendedSettings.meridiem === 'narrow') { // a/p\n            s = s.replace(MERIDIEM_RE, (m0, m1) => m1.toLocaleLowerCase());\n        }\n        else if (extendedSettings.meridiem === 'short') { // am/pm\n            s = s.replace(MERIDIEM_RE, (m0, m1) => `${m1.toLocaleLowerCase()}m`);\n        }\n        else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n            s = s.replace(MERIDIEM_RE, (m0) => m0.toLocaleLowerCase());\n        }\n        s = s.replace(MULTI_SPACE_RE, ' ');\n        s = s.trim();\n        return s;\n    }\n    function injectTzoStr(s, tzoStr) {\n        let replaced = false;\n        s = s.replace(UTC_RE, () => {\n            replaced = true;\n            return tzoStr;\n        });\n        // IE11 doesn't include UTC/GMT in the original string, so append to end\n        if (!replaced) {\n            s += ` ${tzoStr}`;\n        }\n        return s;\n    }\n    function formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n        let parts = [];\n        if (display === 'long') {\n            parts.push(weekTextLong);\n        }\n        else if (display === 'short' || display === 'narrow') {\n            parts.push(weekText);\n        }\n        if (display === 'long' || display === 'short') {\n            parts.push(' ');\n        }\n        parts.push(locale.simpleNumberFormat.format(num));\n        if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n            parts.reverse();\n        }\n        return parts.join('');\n    }\n    // Range Formatting Utils\n    // 0 = exactly the same\n    // 1 = different by time\n    // and bigger\n    function computeMarkerDiffSeverity(d0, d1, ca) {\n        if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n            return 5;\n        }\n        if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n            return 4;\n        }\n        if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n            return 2;\n        }\n        if (timeAsMs(d0) !== timeAsMs(d1)) {\n            return 1;\n        }\n        return 0;\n    }\n    function computePartialFormattingOptions(options, biggestUnit) {\n        let partialOptions = {};\n        for (let name in options) {\n            if (!(name in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n                STANDARD_DATE_PROP_SEVERITIES[name] <= biggestUnit) {\n                partialOptions[name] = options[name];\n            }\n        }\n        return partialOptions;\n    }\n    function findCommonInsertion(full0, partial0, full1, partial1) {\n        let i0 = 0;\n        while (i0 < full0.length) {\n            let found0 = full0.indexOf(partial0, i0);\n            if (found0 === -1) {\n                break;\n            }\n            let before0 = full0.substr(0, found0);\n            i0 = found0 + partial0.length;\n            let after0 = full0.substr(i0);\n            let i1 = 0;\n            while (i1 < full1.length) {\n                let found1 = full1.indexOf(partial1, i1);\n                if (found1 === -1) {\n                    break;\n                }\n                let before1 = full1.substr(0, found1);\n                i1 = found1 + partial1.length;\n                let after1 = full1.substr(i1);\n                if (before0 === before1 && after0 === after1) {\n                    return {\n                        before: before0,\n                        after: after0,\n                    };\n                }\n            }\n        }\n        return null;\n    }\n\n    function expandZonedMarker(dateInfo, calendarSystem) {\n        let a = calendarSystem.markerToArray(dateInfo.marker);\n        return {\n            marker: dateInfo.marker,\n            timeZoneOffset: dateInfo.timeZoneOffset,\n            array: a,\n            year: a[0],\n            month: a[1],\n            day: a[2],\n            hour: a[3],\n            minute: a[4],\n            second: a[5],\n            millisecond: a[6],\n        };\n    }\n\n    function createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n        let startInfo = expandZonedMarker(start, context.calendarSystem);\n        let endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n        return {\n            date: startInfo,\n            start: startInfo,\n            end: endInfo,\n            timeZone: context.timeZone,\n            localeCodes: context.locale.codes,\n            defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n        };\n    }\n\n    /*\n    TODO: fix the terminology of \"formatter\" vs \"formatting func\"\n    */\n    /*\n    At the time of instantiation, this object does not know which cmd-formatting system it will use.\n    It receives this at the time of formatting, as a setting.\n    */\n    class CmdFormatter {\n        constructor(cmdStr) {\n            this.cmdStr = cmdStr;\n        }\n        format(date, context, betterDefaultSeparator) {\n            return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n        }\n        formatRange(start, end, context, betterDefaultSeparator) {\n            return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n        }\n    }\n\n    class FuncFormatter {\n        constructor(func) {\n            this.func = func;\n        }\n        format(date, context, betterDefaultSeparator) {\n            return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n        }\n        formatRange(start, end, context, betterDefaultSeparator) {\n            return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n        }\n    }\n\n    function createFormatter(input) {\n        if (typeof input === 'object' && input) { // non-null object\n            return new NativeFormatter(input);\n        }\n        if (typeof input === 'string') {\n            return new CmdFormatter(input);\n        }\n        if (typeof input === 'function') {\n            return new FuncFormatter(input);\n        }\n        return null;\n    }\n\n    // base options\n    // ------------\n    const BASE_OPTION_REFINERS = {\n        navLinkDayClick: identity,\n        navLinkWeekClick: identity,\n        duration: createDuration,\n        bootstrapFontAwesome: identity,\n        buttonIcons: identity,\n        customButtons: identity,\n        defaultAllDayEventDuration: createDuration,\n        defaultTimedEventDuration: createDuration,\n        nextDayThreshold: createDuration,\n        scrollTime: createDuration,\n        scrollTimeReset: Boolean,\n        slotMinTime: createDuration,\n        slotMaxTime: createDuration,\n        dayPopoverFormat: createFormatter,\n        slotDuration: createDuration,\n        snapDuration: createDuration,\n        headerToolbar: identity,\n        footerToolbar: identity,\n        defaultRangeSeparator: String,\n        titleRangeSeparator: String,\n        forceEventDuration: Boolean,\n        dayHeaders: Boolean,\n        dayHeaderFormat: createFormatter,\n        dayHeaderClassNames: identity,\n        dayHeaderContent: identity,\n        dayHeaderDidMount: identity,\n        dayHeaderWillUnmount: identity,\n        dayCellClassNames: identity,\n        dayCellContent: identity,\n        dayCellDidMount: identity,\n        dayCellWillUnmount: identity,\n        initialView: String,\n        aspectRatio: Number,\n        weekends: Boolean,\n        weekNumberCalculation: identity,\n        weekNumbers: Boolean,\n        weekNumberClassNames: identity,\n        weekNumberContent: identity,\n        weekNumberDidMount: identity,\n        weekNumberWillUnmount: identity,\n        editable: Boolean,\n        viewClassNames: identity,\n        viewDidMount: identity,\n        viewWillUnmount: identity,\n        nowIndicator: Boolean,\n        nowIndicatorClassNames: identity,\n        nowIndicatorContent: identity,\n        nowIndicatorDidMount: identity,\n        nowIndicatorWillUnmount: identity,\n        showNonCurrentDates: Boolean,\n        lazyFetching: Boolean,\n        startParam: String,\n        endParam: String,\n        timeZoneParam: String,\n        timeZone: String,\n        locales: identity,\n        locale: identity,\n        themeSystem: String,\n        dragRevertDuration: Number,\n        dragScroll: Boolean,\n        allDayMaintainDuration: Boolean,\n        unselectAuto: Boolean,\n        dropAccept: identity,\n        eventOrder: parseFieldSpecs,\n        eventOrderStrict: Boolean,\n        handleWindowResize: Boolean,\n        windowResizeDelay: Number,\n        longPressDelay: Number,\n        eventDragMinDistance: Number,\n        expandRows: Boolean,\n        height: identity,\n        contentHeight: identity,\n        direction: String,\n        weekNumberFormat: createFormatter,\n        eventResizableFromStart: Boolean,\n        displayEventTime: Boolean,\n        displayEventEnd: Boolean,\n        weekText: String,\n        weekTextLong: String,\n        progressiveEventRendering: Boolean,\n        businessHours: identity,\n        initialDate: identity,\n        now: identity,\n        eventDataTransform: identity,\n        stickyHeaderDates: identity,\n        stickyFooterScrollbar: identity,\n        viewHeight: identity,\n        defaultAllDay: Boolean,\n        eventSourceFailure: identity,\n        eventSourceSuccess: identity,\n        eventDisplay: String,\n        eventStartEditable: Boolean,\n        eventDurationEditable: Boolean,\n        eventOverlap: identity,\n        eventConstraint: identity,\n        eventAllow: identity,\n        eventBackgroundColor: String,\n        eventBorderColor: String,\n        eventTextColor: String,\n        eventColor: String,\n        eventClassNames: identity,\n        eventContent: identity,\n        eventDidMount: identity,\n        eventWillUnmount: identity,\n        selectConstraint: identity,\n        selectOverlap: identity,\n        selectAllow: identity,\n        droppable: Boolean,\n        unselectCancel: String,\n        slotLabelFormat: identity,\n        slotLaneClassNames: identity,\n        slotLaneContent: identity,\n        slotLaneDidMount: identity,\n        slotLaneWillUnmount: identity,\n        slotLabelClassNames: identity,\n        slotLabelContent: identity,\n        slotLabelDidMount: identity,\n        slotLabelWillUnmount: identity,\n        dayMaxEvents: identity,\n        dayMaxEventRows: identity,\n        dayMinWidth: Number,\n        slotLabelInterval: createDuration,\n        allDayText: String,\n        allDayClassNames: identity,\n        allDayContent: identity,\n        allDayDidMount: identity,\n        allDayWillUnmount: identity,\n        slotMinWidth: Number,\n        navLinks: Boolean,\n        eventTimeFormat: createFormatter,\n        rerenderDelay: Number,\n        moreLinkText: identity,\n        moreLinkHint: identity,\n        selectMinDistance: Number,\n        selectable: Boolean,\n        selectLongPressDelay: Number,\n        eventLongPressDelay: Number,\n        selectMirror: Boolean,\n        eventMaxStack: Number,\n        eventMinHeight: Number,\n        eventMinWidth: Number,\n        eventShortHeight: Number,\n        slotEventOverlap: Boolean,\n        plugins: identity,\n        firstDay: Number,\n        dayCount: Number,\n        dateAlignment: String,\n        dateIncrement: createDuration,\n        hiddenDays: identity,\n        fixedWeekCount: Boolean,\n        validRange: identity,\n        visibleRange: identity,\n        titleFormat: identity,\n        eventInteractive: Boolean,\n        // only used by list-view, but languages define the value, so we need it in base options\n        noEventsText: String,\n        viewHint: identity,\n        navLinkHint: identity,\n        closeHint: String,\n        timeHint: String,\n        eventHint: String,\n        moreLinkClick: identity,\n        moreLinkClassNames: identity,\n        moreLinkContent: identity,\n        moreLinkDidMount: identity,\n        moreLinkWillUnmount: identity,\n        monthStartFormat: createFormatter,\n        // for connectors\n        // (can't be part of plugin system b/c must be provided at runtime)\n        handleCustomRendering: identity,\n        customRenderingMetaMap: identity,\n        customRenderingReplacesEl: Boolean,\n    };\n    // do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n    // raw values.\n    const BASE_OPTION_DEFAULTS = {\n        eventDisplay: 'auto',\n        defaultRangeSeparator: ' - ',\n        titleRangeSeparator: ' \\u2013 ',\n        defaultTimedEventDuration: '01:00:00',\n        defaultAllDayEventDuration: { day: 1 },\n        forceEventDuration: false,\n        nextDayThreshold: '00:00:00',\n        dayHeaders: true,\n        initialView: '',\n        aspectRatio: 1.35,\n        headerToolbar: {\n            start: 'title',\n            center: '',\n            end: 'today prev,next',\n        },\n        weekends: true,\n        weekNumbers: false,\n        weekNumberCalculation: 'local',\n        editable: false,\n        nowIndicator: false,\n        scrollTime: '06:00:00',\n        scrollTimeReset: true,\n        slotMinTime: '00:00:00',\n        slotMaxTime: '24:00:00',\n        showNonCurrentDates: true,\n        lazyFetching: true,\n        startParam: 'start',\n        endParam: 'end',\n        timeZoneParam: 'timeZone',\n        timeZone: 'local',\n        locales: [],\n        locale: '',\n        themeSystem: 'standard',\n        dragRevertDuration: 500,\n        dragScroll: true,\n        allDayMaintainDuration: false,\n        unselectAuto: true,\n        dropAccept: '*',\n        eventOrder: 'start,-duration,allDay,title',\n        dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        handleWindowResize: true,\n        windowResizeDelay: 100,\n        longPressDelay: 1000,\n        eventDragMinDistance: 5,\n        expandRows: false,\n        navLinks: false,\n        selectable: false,\n        eventMinHeight: 15,\n        eventMinWidth: 30,\n        eventShortHeight: 30,\n        monthStartFormat: { month: 'long', day: 'numeric' },\n    };\n    // calendar listeners\n    // ------------------\n    const CALENDAR_LISTENER_REFINERS = {\n        datesSet: identity,\n        eventsSet: identity,\n        eventAdd: identity,\n        eventChange: identity,\n        eventRemove: identity,\n        windowResize: identity,\n        eventClick: identity,\n        eventMouseEnter: identity,\n        eventMouseLeave: identity,\n        select: identity,\n        unselect: identity,\n        loading: identity,\n        // internal\n        _unmount: identity,\n        _beforeprint: identity,\n        _afterprint: identity,\n        _noEventDrop: identity,\n        _noEventResize: identity,\n        _resize: identity,\n        _scrollRequest: identity,\n    };\n    // calendar-specific options\n    // -------------------------\n    const CALENDAR_OPTION_REFINERS = {\n        buttonText: identity,\n        buttonHints: identity,\n        views: identity,\n        plugins: identity,\n        initialEvents: identity,\n        events: identity,\n        eventSources: identity,\n    };\n    const COMPLEX_OPTION_COMPARATORS = {\n        headerToolbar: isMaybeObjectsEqual,\n        footerToolbar: isMaybeObjectsEqual,\n        buttonText: isMaybeObjectsEqual,\n        buttonHints: isMaybeObjectsEqual,\n        buttonIcons: isMaybeObjectsEqual,\n        dateIncrement: isMaybeObjectsEqual,\n        plugins: isMaybeArraysEqual,\n        events: isMaybeArraysEqual,\n        eventSources: isMaybeArraysEqual,\n        ['resources']: isMaybeArraysEqual,\n    };\n    function isMaybeObjectsEqual(a, b) {\n        if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n            return isPropsEqual(a, b);\n        }\n        return a === b;\n    }\n    function isMaybeArraysEqual(a, b) {\n        if (Array.isArray(a) && Array.isArray(b)) {\n            return isArraysEqual(a, b);\n        }\n        return a === b;\n    }\n    // view-specific options\n    // ---------------------\n    const VIEW_OPTION_REFINERS = {\n        type: String,\n        component: identity,\n        buttonText: String,\n        buttonTextKey: String,\n        dateProfileGeneratorClass: identity,\n        usesMinMaxTime: Boolean,\n        classNames: identity,\n        content: identity,\n        didMount: identity,\n        willUnmount: identity,\n    };\n    // util funcs\n    // ----------------------------------------------------------------------------------------------------\n    function mergeRawOptions(optionSets) {\n        return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n    }\n    function refineProps(input, refiners) {\n        let refined = {};\n        let extra = {};\n        for (let propName in refiners) {\n            if (propName in input) {\n                refined[propName] = refiners[propName](input[propName]);\n            }\n        }\n        for (let propName in input) {\n            if (!(propName in refiners)) {\n                extra[propName] = input[propName];\n            }\n        }\n        return { refined, extra };\n    }\n    function identity(raw) {\n        return raw;\n    }\n\n    function createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n        return {\n            instanceId: guid(),\n            defId,\n            range,\n            forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n            forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n        };\n    }\n\n    function parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n        for (let i = 0; i < recurringTypes.length; i += 1) {\n            let parsed = recurringTypes[i].parse(refined, dateEnv);\n            if (parsed) {\n                let { allDay } = refined;\n                if (allDay == null) {\n                    allDay = defaultAllDay;\n                    if (allDay == null) {\n                        allDay = parsed.allDayGuess;\n                        if (allDay == null) {\n                            allDay = false;\n                        }\n                    }\n                }\n                return {\n                    allDay,\n                    duration: parsed.duration,\n                    typeData: parsed.typeData,\n                    typeId: i,\n                };\n            }\n        }\n        return null;\n    }\n    function expandRecurring(eventStore, framingRange, context) {\n        let { dateEnv, pluginHooks, options } = context;\n        let { defs, instances } = eventStore;\n        // remove existing recurring instances\n        // TODO: bad. always expand events as a second step\n        instances = filterHash(instances, (instance) => !defs[instance.defId].recurringDef);\n        for (let defId in defs) {\n            let def = defs[defId];\n            if (def.recurringDef) {\n                let { duration } = def.recurringDef;\n                if (!duration) {\n                    duration = def.allDay ?\n                        options.defaultAllDayEventDuration :\n                        options.defaultTimedEventDuration;\n                }\n                let starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n                for (let start of starts) {\n                    let instance = createEventInstance(defId, {\n                        start,\n                        end: dateEnv.add(start, duration),\n                    });\n                    instances[instance.instanceId] = instance;\n                }\n            }\n        }\n        return { defs, instances };\n    }\n    /*\n    Event MUST have a recurringDef\n    */\n    function expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n        let typeDef = recurringTypes[eventDef.recurringDef.typeId];\n        let markers = typeDef.expand(eventDef.recurringDef.typeData, {\n            start: dateEnv.subtract(framingRange.start, duration),\n            end: framingRange.end,\n        }, dateEnv);\n        // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n        if (eventDef.allDay) {\n            markers = markers.map(startOfDay);\n        }\n        return markers;\n    }\n\n    function parseEvents(rawEvents, eventSource, context, allowOpenRange, defIdMap, instanceIdMap) {\n        let eventStore = createEmptyEventStore();\n        let eventRefiners = buildEventRefiners(context);\n        for (let rawEvent of rawEvents) {\n            let tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners, defIdMap, instanceIdMap);\n            if (tuple) {\n                eventTupleToStore(tuple, eventStore);\n            }\n        }\n        return eventStore;\n    }\n    function eventTupleToStore(tuple, eventStore = createEmptyEventStore()) {\n        eventStore.defs[tuple.def.defId] = tuple.def;\n        if (tuple.instance) {\n            eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n        }\n        return eventStore;\n    }\n    // retrieves events that have the same groupId as the instance specified by `instanceId`\n    // or they are the same as the instance.\n    // why might instanceId not be in the store? an event from another calendar?\n    function getRelevantEvents(eventStore, instanceId) {\n        let instance = eventStore.instances[instanceId];\n        if (instance) {\n            let def = eventStore.defs[instance.defId];\n            // get events/instances with same group\n            let newStore = filterEventStoreDefs(eventStore, (lookDef) => isEventDefsGrouped(def, lookDef));\n            // add the original\n            // TODO: wish we could use eventTupleToStore or something like it\n            newStore.defs[def.defId] = def;\n            newStore.instances[instance.instanceId] = instance;\n            return newStore;\n        }\n        return createEmptyEventStore();\n    }\n    function isEventDefsGrouped(def0, def1) {\n        return Boolean(def0.groupId && def0.groupId === def1.groupId);\n    }\n    function createEmptyEventStore() {\n        return { defs: {}, instances: {} };\n    }\n    function mergeEventStores(store0, store1) {\n        return {\n            defs: Object.assign(Object.assign({}, store0.defs), store1.defs),\n            instances: Object.assign(Object.assign({}, store0.instances), store1.instances),\n        };\n    }\n    function filterEventStoreDefs(eventStore, filterFunc) {\n        let defs = filterHash(eventStore.defs, filterFunc);\n        let instances = filterHash(eventStore.instances, (instance) => (defs[instance.defId] // still exists?\n        ));\n        return { defs, instances };\n    }\n    function excludeSubEventStore(master, sub) {\n        let { defs, instances } = master;\n        let filteredDefs = {};\n        let filteredInstances = {};\n        for (let defId in defs) {\n            if (!sub.defs[defId]) { // not explicitly excluded\n                filteredDefs[defId] = defs[defId];\n            }\n        }\n        for (let instanceId in instances) {\n            if (!sub.instances[instanceId] && // not explicitly excluded\n                filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n            ) {\n                filteredInstances[instanceId] = instances[instanceId];\n            }\n        }\n        return {\n            defs: filteredDefs,\n            instances: filteredInstances,\n        };\n    }\n\n    function normalizeConstraint(input, context) {\n        if (Array.isArray(input)) {\n            return parseEvents(input, null, context, true); // allowOpenRange=true\n        }\n        if (typeof input === 'object' && input) { // non-null object\n            return parseEvents([input], null, context, true); // allowOpenRange=true\n        }\n        if (input != null) {\n            return String(input);\n        }\n        return null;\n    }\n\n    function parseClassNames(raw) {\n        if (Array.isArray(raw)) {\n            return raw;\n        }\n        if (typeof raw === 'string') {\n            return raw.split(/\\s+/);\n        }\n        return [];\n    }\n\n    // TODO: better called \"EventSettings\" or \"EventConfig\"\n    // TODO: move this file into structs\n    // TODO: separate constraint/overlap/allow, because selection uses only that, not other props\n    const EVENT_UI_REFINERS = {\n        display: String,\n        editable: Boolean,\n        startEditable: Boolean,\n        durationEditable: Boolean,\n        constraint: identity,\n        overlap: identity,\n        allow: identity,\n        className: parseClassNames,\n        classNames: parseClassNames,\n        color: String,\n        backgroundColor: String,\n        borderColor: String,\n        textColor: String,\n    };\n    const EMPTY_EVENT_UI = {\n        display: null,\n        startEditable: null,\n        durationEditable: null,\n        constraints: [],\n        overlap: null,\n        allows: [],\n        backgroundColor: '',\n        borderColor: '',\n        textColor: '',\n        classNames: [],\n    };\n    function createEventUi(refined, context) {\n        let constraint = normalizeConstraint(refined.constraint, context);\n        return {\n            display: refined.display || null,\n            startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n            durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n            constraints: constraint != null ? [constraint] : [],\n            overlap: refined.overlap != null ? refined.overlap : null,\n            allows: refined.allow != null ? [refined.allow] : [],\n            backgroundColor: refined.backgroundColor || refined.color || '',\n            borderColor: refined.borderColor || refined.color || '',\n            textColor: refined.textColor || '',\n            classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n        };\n    }\n    // TODO: prevent against problems with <2 args!\n    function combineEventUis(uis) {\n        return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n    }\n    function combineTwoEventUis(item0, item1) {\n        return {\n            display: item1.display != null ? item1.display : item0.display,\n            startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n            durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n            constraints: item0.constraints.concat(item1.constraints),\n            overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n            allows: item0.allows.concat(item1.allows),\n            backgroundColor: item1.backgroundColor || item0.backgroundColor,\n            borderColor: item1.borderColor || item0.borderColor,\n            textColor: item1.textColor || item0.textColor,\n            classNames: item0.classNames.concat(item1.classNames),\n        };\n    }\n\n    const EVENT_NON_DATE_REFINERS = {\n        id: String,\n        groupId: String,\n        title: String,\n        url: String,\n        interactive: Boolean,\n    };\n    const EVENT_DATE_REFINERS = {\n        start: identity,\n        end: identity,\n        date: identity,\n        allDay: Boolean,\n    };\n    const EVENT_REFINERS = Object.assign(Object.assign(Object.assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\n    function parseEvent(raw, eventSource, context, allowOpenRange, refiners = buildEventRefiners(context), defIdMap, instanceIdMap) {\n        let { refined, extra } = refineEventDef(raw, context, refiners);\n        let defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n        let recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n        if (recurringRes) {\n            let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context, defIdMap);\n            def.recurringDef = {\n                typeId: recurringRes.typeId,\n                typeData: recurringRes.typeData,\n                duration: recurringRes.duration,\n            };\n            return { def, instance: null };\n        }\n        let singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n        if (singleRes) {\n            let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context, defIdMap);\n            let instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n            if (instanceIdMap && def.publicId && instanceIdMap[def.publicId]) {\n                instance.instanceId = instanceIdMap[def.publicId];\n            }\n            return { def, instance };\n        }\n        return null;\n    }\n    function refineEventDef(raw, context, refiners = buildEventRefiners(context)) {\n        return refineProps(raw, refiners);\n    }\n    function buildEventRefiners(context) {\n        return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n    }\n    /*\n    Will NOT populate extendedProps with the leftover properties.\n    Will NOT populate date-related props.\n    */\n    function parseEventDef(refined, extra, sourceId, allDay, hasEnd, context, defIdMap) {\n        let def = {\n            title: refined.title || '',\n            groupId: refined.groupId || '',\n            publicId: refined.id || '',\n            url: refined.url || '',\n            recurringDef: null,\n            defId: ((defIdMap && refined.id) ? defIdMap[refined.id] : '') || guid(),\n            sourceId,\n            allDay,\n            hasEnd,\n            interactive: refined.interactive,\n            ui: createEventUi(refined, context),\n            extendedProps: Object.assign(Object.assign({}, (refined.extendedProps || {})), extra),\n        };\n        for (let memberAdder of context.pluginHooks.eventDefMemberAdders) {\n            Object.assign(def, memberAdder(refined));\n        }\n        // help out EventImpl from having user modify props\n        Object.freeze(def.ui.classNames);\n        Object.freeze(def.extendedProps);\n        return def;\n    }\n    function parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n        let { allDay } = refined;\n        let startMeta;\n        let startMarker = null;\n        let hasEnd = false;\n        let endMeta;\n        let endMarker = null;\n        let startInput = refined.start != null ? refined.start : refined.date;\n        startMeta = context.dateEnv.createMarkerMeta(startInput);\n        if (startMeta) {\n            startMarker = startMeta.marker;\n        }\n        else if (!allowOpenRange) {\n            return null;\n        }\n        if (refined.end != null) {\n            endMeta = context.dateEnv.createMarkerMeta(refined.end);\n        }\n        if (allDay == null) {\n            if (defaultAllDay != null) {\n                allDay = defaultAllDay;\n            }\n            else {\n                // fall back to the date props LAST\n                allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                    (!endMeta || endMeta.isTimeUnspecified);\n            }\n        }\n        if (allDay && startMarker) {\n            startMarker = startOfDay(startMarker);\n        }\n        if (endMeta) {\n            endMarker = endMeta.marker;\n            if (allDay) {\n                endMarker = startOfDay(endMarker);\n            }\n            if (startMarker && endMarker <= startMarker) {\n                endMarker = null;\n            }\n        }\n        if (endMarker) {\n            hasEnd = true;\n        }\n        else if (!allowOpenRange) {\n            hasEnd = context.options.forceEventDuration || false;\n            endMarker = context.dateEnv.add(startMarker, allDay ?\n                context.options.defaultAllDayEventDuration :\n                context.options.defaultTimedEventDuration);\n        }\n        return {\n            allDay,\n            hasEnd,\n            range: { start: startMarker, end: endMarker },\n            forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n            forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n        };\n    }\n    function computeIsDefaultAllDay(eventSource, context) {\n        let res = null;\n        if (eventSource) {\n            res = eventSource.defaultAllDay;\n        }\n        if (res == null) {\n            res = context.options.defaultAllDay;\n        }\n        return res;\n    }\n\n    const DEF_DEFAULTS = {\n        startTime: '09:00',\n        endTime: '17:00',\n        daysOfWeek: [1, 2, 3, 4, 5],\n        display: 'inverse-background',\n        classNames: 'fc-non-business',\n        groupId: '_businessHours', // so multiple defs get grouped\n    };\n    /*\n    TODO: pass around as EventDefHash!!!\n    */\n    function parseBusinessHours(input, context) {\n        return parseEvents(refineInputs(input), null, context);\n    }\n    function refineInputs(input) {\n        let rawDefs;\n        if (input === true) {\n            rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n        }\n        else if (Array.isArray(input)) {\n            // if specifying an array, every sub-definition NEEDS a day-of-week\n            rawDefs = input.filter((rawDef) => rawDef.daysOfWeek);\n        }\n        else if (typeof input === 'object' && input) { // non-null object\n            rawDefs = [input];\n        }\n        else { // is probably false\n            rawDefs = [];\n        }\n        rawDefs = rawDefs.map((rawDef) => (Object.assign(Object.assign({}, DEF_DEFAULTS), rawDef)));\n        return rawDefs;\n    }\n\n    /* Date stuff that doesn't belong in datelib core\n    ----------------------------------------------------------------------------------------------------------------------*/\n    // given a timed range, computes an all-day range that has the same exact duration,\n    // but whose start time is aligned with the start of the day.\n    function computeAlignedDayRange(timedRange) {\n        let dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n        let start = startOfDay(timedRange.start);\n        let end = addDays(start, dayCnt);\n        return { start, end };\n    }\n    // given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n    // TODO: give nextDayThreshold a default arg\n    function computeVisibleDayRange(timedRange, nextDayThreshold = createDuration(0)) {\n        let startDay = null;\n        let endDay = null;\n        if (timedRange.end) {\n            endDay = startOfDay(timedRange.end);\n            let endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n            // If the end time is actually inclusively part of the next day and is equal to or\n            // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n            // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n            if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n                endDay = addDays(endDay, 1);\n            }\n        }\n        if (timedRange.start) {\n            startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n            // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n            if (endDay && endDay <= startDay) {\n                endDay = addDays(startDay, 1);\n            }\n        }\n        return { start: startDay, end: endDay };\n    }\n    // spans from one day into another?\n    function isMultiDayRange(range) {\n        let visibleRange = computeVisibleDayRange(range);\n        return diffDays(visibleRange.start, visibleRange.end) > 1;\n    }\n    function diffDates(date0, date1, dateEnv, largeUnit) {\n        if (largeUnit === 'year') {\n            return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n        }\n        if (largeUnit === 'month') {\n            return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n        }\n        return diffDayAndTime(date0, date1); // returns a duration\n    }\n\n    function pointInsideRect(point, rect) {\n        return point.left >= rect.left &&\n            point.left < rect.right &&\n            point.top >= rect.top &&\n            point.top < rect.bottom;\n    }\n    // Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\n    function intersectRects(rect1, rect2) {\n        let res = {\n            left: Math.max(rect1.left, rect2.left),\n            right: Math.min(rect1.right, rect2.right),\n            top: Math.max(rect1.top, rect2.top),\n            bottom: Math.min(rect1.bottom, rect2.bottom),\n        };\n        if (res.left < res.right && res.top < res.bottom) {\n            return res;\n        }\n        return false;\n    }\n    function translateRect(rect, deltaX, deltaY) {\n        return {\n            left: rect.left + deltaX,\n            right: rect.right + deltaX,\n            top: rect.top + deltaY,\n            bottom: rect.bottom + deltaY,\n        };\n    }\n    // Returns a new point that will have been moved to reside within the given rectangle\n    function constrainPoint(point, rect) {\n        return {\n            left: Math.min(Math.max(point.left, rect.left), rect.right),\n            top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n        };\n    }\n    // Returns a point that is the center of the given rectangle\n    function getRectCenter(rect) {\n        return {\n            left: (rect.left + rect.right) / 2,\n            top: (rect.top + rect.bottom) / 2,\n        };\n    }\n    // Subtracts point2's coordinates from point1's coordinates, returning a delta\n    function diffPoints(point1, point2) {\n        return {\n            left: point1.left - point2.left,\n            top: point1.top - point2.top,\n        };\n    }\n\n    let canVGrowWithinCell;\n    function getCanVGrowWithinCell() {\n        if (canVGrowWithinCell == null) {\n            canVGrowWithinCell = computeCanVGrowWithinCell();\n        }\n        return canVGrowWithinCell;\n    }\n    function computeCanVGrowWithinCell() {\n        // for SSR, because this function is call immediately at top-level\n        // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n        if (typeof document === 'undefined') {\n            return true;\n        }\n        let el = document.createElement('div');\n        el.style.position = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n        el.querySelector('table').style.height = '100px';\n        el.querySelector('div').style.height = '100%';\n        document.body.appendChild(el);\n        let div = el.querySelector('div');\n        let possible = div.offsetHeight > 0;\n        document.body.removeChild(el);\n        return possible;\n    }\n\n    const EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\n    class Splitter {\n        constructor() {\n            this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n            this.splitDateSelection = memoize(this._splitDateSpan);\n            this.splitEventStore = memoize(this._splitEventStore);\n            this.splitIndividualUi = memoize(this._splitIndividualUi);\n            this.splitEventDrag = memoize(this._splitInteraction);\n            this.splitEventResize = memoize(this._splitInteraction);\n            this.eventUiBuilders = {}; // TODO: typescript protection\n        }\n        splitProps(props) {\n            let keyInfos = this.getKeyInfo(props);\n            let defKeys = this.getKeysForEventDefs(props.eventStore);\n            let dateSelections = this.splitDateSelection(props.dateSelection);\n            let individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n            let eventStores = this.splitEventStore(props.eventStore, defKeys);\n            let eventDrags = this.splitEventDrag(props.eventDrag);\n            let eventResizes = this.splitEventResize(props.eventResize);\n            let splitProps = {};\n            this.eventUiBuilders = mapHash(keyInfos, (info, key) => this.eventUiBuilders[key] || memoize(buildEventUiForKey));\n            for (let key in keyInfos) {\n                let keyInfo = keyInfos[key];\n                let eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n                let buildEventUi = this.eventUiBuilders[key];\n                splitProps[key] = {\n                    businessHours: keyInfo.businessHours || props.businessHours,\n                    dateSelection: dateSelections[key] || null,\n                    eventStore,\n                    eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                    eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                    eventDrag: eventDrags[key] || null,\n                    eventResize: eventResizes[key] || null,\n                };\n            }\n            return splitProps;\n        }\n        _splitDateSpan(dateSpan) {\n            let dateSpans = {};\n            if (dateSpan) {\n                let keys = this.getKeysForDateSpan(dateSpan);\n                for (let key of keys) {\n                    dateSpans[key] = dateSpan;\n                }\n            }\n            return dateSpans;\n        }\n        _getKeysForEventDefs(eventStore) {\n            return mapHash(eventStore.defs, (eventDef) => this.getKeysForEventDef(eventDef));\n        }\n        _splitEventStore(eventStore, defKeys) {\n            let { defs, instances } = eventStore;\n            let splitStores = {};\n            for (let defId in defs) {\n                for (let key of defKeys[defId]) {\n                    if (!splitStores[key]) {\n                        splitStores[key] = createEmptyEventStore();\n                    }\n                    splitStores[key].defs[defId] = defs[defId];\n                }\n            }\n            for (let instanceId in instances) {\n                let instance = instances[instanceId];\n                for (let key of defKeys[instance.defId]) {\n                    if (splitStores[key]) { // must have already been created\n                        splitStores[key].instances[instanceId] = instance;\n                    }\n                }\n            }\n            return splitStores;\n        }\n        _splitIndividualUi(eventUiBases, defKeys) {\n            let splitHashes = {};\n            for (let defId in eventUiBases) {\n                if (defId) { // not the '' key\n                    for (let key of defKeys[defId]) {\n                        if (!splitHashes[key]) {\n                            splitHashes[key] = {};\n                        }\n                        splitHashes[key][defId] = eventUiBases[defId];\n                    }\n                }\n            }\n            return splitHashes;\n        }\n        _splitInteraction(interaction) {\n            let splitStates = {};\n            if (interaction) {\n                let affectedStores = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n                // can't rely on defKeys because event data is mutated\n                let mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n                let mutatedStores = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n                let populate = (key) => {\n                    if (!splitStates[key]) {\n                        splitStates[key] = {\n                            affectedEvents: affectedStores[key] || EMPTY_EVENT_STORE,\n                            mutatedEvents: mutatedStores[key] || EMPTY_EVENT_STORE,\n                            isEvent: interaction.isEvent,\n                        };\n                    }\n                };\n                for (let key in affectedStores) {\n                    populate(key);\n                }\n                for (let key in mutatedStores) {\n                    populate(key);\n                }\n            }\n            return splitStates;\n        }\n    }\n    function buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n        let baseParts = [];\n        if (allUi) {\n            baseParts.push(allUi);\n        }\n        if (eventUiForKey) {\n            baseParts.push(eventUiForKey);\n        }\n        let stuff = {\n            '': combineEventUis(baseParts),\n        };\n        if (individualUi) {\n            Object.assign(stuff, individualUi);\n        }\n        return stuff;\n    }\n\n    function parseRange(input, dateEnv) {\n        let start = null;\n        let end = null;\n        if (input.start) {\n            start = dateEnv.createMarker(input.start);\n        }\n        if (input.end) {\n            end = dateEnv.createMarker(input.end);\n        }\n        if (!start && !end) {\n            return null;\n        }\n        if (start && end && end < start) {\n            return null;\n        }\n        return { start, end };\n    }\n    // SIDE-EFFECT: will mutate ranges.\n    // Will return a new array result.\n    function invertRanges(ranges, constraintRange) {\n        let invertedRanges = [];\n        let { start } = constraintRange; // the end of the previous range. the start of the new range\n        let i;\n        let dateRange;\n        // ranges need to be in order. required for our date-walking algorithm\n        ranges.sort(compareRanges);\n        for (i = 0; i < ranges.length; i += 1) {\n            dateRange = ranges[i];\n            // add the span of time before the event (if there is any)\n            if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n                invertedRanges.push({ start, end: dateRange.start });\n            }\n            if (dateRange.end > start) {\n                start = dateRange.end;\n            }\n        }\n        // add the span of time after the last event (if there is any)\n        if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start, end: constraintRange.end });\n        }\n        return invertedRanges;\n    }\n    function compareRanges(range0, range1) {\n        return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n    }\n    function intersectRanges(range0, range1) {\n        let { start, end } = range0;\n        let newRange = null;\n        if (range1.start !== null) {\n            if (start === null) {\n                start = range1.start;\n            }\n            else {\n                start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n            }\n        }\n        if (range1.end != null) {\n            if (end === null) {\n                end = range1.end;\n            }\n            else {\n                end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n            }\n        }\n        if (start === null || end === null || start < end) {\n            newRange = { start, end };\n        }\n        return newRange;\n    }\n    function rangesEqual(range0, range1) {\n        return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n            (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n    }\n    function rangesIntersect(range0, range1) {\n        return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n            (range0.start === null || range1.end === null || range0.start < range1.end);\n    }\n    function rangeContainsRange(outerRange, innerRange) {\n        return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n            (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n    }\n    function rangeContainsMarker(range, date) {\n        return (range.start === null || date >= range.start) &&\n            (range.end === null || date < range.end);\n    }\n    // If the given date is not within the given range, move it inside.\n    // (If it's past the end, make it one millisecond before the end).\n    function constrainMarkerToRange(date, range) {\n        if (range.start != null && date < range.start) {\n            return range.start;\n        }\n        if (range.end != null && date >= range.end) {\n            return new Date(range.end.valueOf() - 1);\n        }\n        return date;\n    }\n\n    function getDateMeta(date, todayRange, nowDate, dateProfile) {\n        return {\n            dow: date.getUTCDay(),\n            isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n            isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n            isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n            isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n            isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n        };\n    }\n    function getDayClassNames(meta, theme) {\n        let classNames = [\n            'fc-day',\n            `fc-day-${DAY_IDS[meta.dow]}`,\n        ];\n        if (meta.isDisabled) {\n            classNames.push('fc-day-disabled');\n        }\n        else {\n            if (meta.isToday) {\n                classNames.push('fc-day-today');\n                classNames.push(theme.getClass('today'));\n            }\n            if (meta.isPast) {\n                classNames.push('fc-day-past');\n            }\n            if (meta.isFuture) {\n                classNames.push('fc-day-future');\n            }\n            if (meta.isOther) {\n                classNames.push('fc-day-other');\n            }\n        }\n        return classNames;\n    }\n    function getSlotClassNames(meta, theme) {\n        let classNames = [\n            'fc-slot',\n            `fc-slot-${DAY_IDS[meta.dow]}`,\n        ];\n        if (meta.isDisabled) {\n            classNames.push('fc-slot-disabled');\n        }\n        else {\n            if (meta.isToday) {\n                classNames.push('fc-slot-today');\n                classNames.push(theme.getClass('today'));\n            }\n            if (meta.isPast) {\n                classNames.push('fc-slot-past');\n            }\n            if (meta.isFuture) {\n                classNames.push('fc-slot-future');\n            }\n        }\n        return classNames;\n    }\n\n    const DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\n    const WEEK_FORMAT = createFormatter({ week: 'long' });\n    function buildNavLinkAttrs(context, dateMarker, viewType = 'day', isTabbable = true) {\n        const { dateEnv, options, calendarApi } = context;\n        let dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n        if (options.navLinks) {\n            let zonedDate = dateEnv.toDate(dateMarker);\n            const handleInteraction = (ev) => {\n                let customAction = viewType === 'day' ? options.navLinkDayClick :\n                    viewType === 'week' ? options.navLinkWeekClick : null;\n                if (typeof customAction === 'function') {\n                    customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n                }\n                else {\n                    if (typeof customAction === 'string') {\n                        viewType = customAction;\n                    }\n                    calendarApi.zoomTo(dateMarker, viewType);\n                }\n            };\n            return Object.assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n                ? createAriaClickAttrs(handleInteraction)\n                : { onClick: handleInteraction }));\n        }\n        return { 'aria-label': dateStr };\n    }\n\n    let _isRtlScrollbarOnLeft = null;\n    function getIsRtlScrollbarOnLeft() {\n        if (_isRtlScrollbarOnLeft === null) {\n            _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n        }\n        return _isRtlScrollbarOnLeft;\n    }\n    function computeIsRtlScrollbarOnLeft() {\n        let outerEl = document.createElement('div');\n        applyStyle(outerEl, {\n            position: 'absolute',\n            top: -1000,\n            left: 0,\n            border: 0,\n            padding: 0,\n            overflow: 'scroll',\n            direction: 'rtl',\n        });\n        outerEl.innerHTML = '<div></div>';\n        document.body.appendChild(outerEl);\n        let innerEl = outerEl.firstChild;\n        let res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n        removeElement(outerEl);\n        return res;\n    }\n\n    let _scrollbarWidths;\n    function getScrollbarWidths() {\n        if (!_scrollbarWidths) {\n            _scrollbarWidths = computeScrollbarWidths();\n        }\n        return _scrollbarWidths;\n    }\n    function computeScrollbarWidths() {\n        let el = document.createElement('div');\n        el.style.overflow = 'scroll';\n        el.style.position = 'absolute';\n        el.style.top = '-9999px';\n        el.style.left = '-9999px';\n        document.body.appendChild(el);\n        let res = computeScrollbarWidthsForEl(el);\n        document.body.removeChild(el);\n        return res;\n    }\n    // WARNING: will include border\n    function computeScrollbarWidthsForEl(el) {\n        return {\n            x: el.offsetHeight - el.clientHeight,\n            y: el.offsetWidth - el.clientWidth,\n        };\n    }\n\n    function computeEdges(el, getPadding = false) {\n        let computedStyle = window.getComputedStyle(el);\n        let borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n        let borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n        let borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n        let borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n        let badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n        let scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n        let scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n        let res = {\n            borderLeft,\n            borderRight,\n            borderTop,\n            borderBottom,\n            scrollbarBottom,\n            scrollbarLeft: 0,\n            scrollbarRight: 0,\n        };\n        if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n            res.scrollbarLeft = scrollbarLeftRight;\n        }\n        else {\n            res.scrollbarRight = scrollbarLeftRight;\n        }\n        if (getPadding) {\n            res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n            res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n            res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n            res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n        }\n        return res;\n    }\n    function computeInnerRect(el, goWithinPadding = false, doFromWindowViewport) {\n        let outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n        let edges = computeEdges(el, goWithinPadding);\n        let res = {\n            left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n            right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n            top: outerRect.top + edges.borderTop,\n            bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n        };\n        if (goWithinPadding) {\n            res.left += edges.paddingLeft;\n            res.right -= edges.paddingRight;\n            res.top += edges.paddingTop;\n            res.bottom -= edges.paddingBottom;\n        }\n        return res;\n    }\n    function computeRect(el) {\n        let rect = el.getBoundingClientRect();\n        return {\n            left: rect.left + window.pageXOffset,\n            top: rect.top + window.pageYOffset,\n            right: rect.right + window.pageXOffset,\n            bottom: rect.bottom + window.pageYOffset,\n        };\n    }\n    function computeClippedClientRect(el) {\n        let clippingParents = getClippingParents(el);\n        let rect = el.getBoundingClientRect();\n        for (let clippingParent of clippingParents) {\n            let intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n            if (intersection) {\n                rect = intersection;\n            }\n            else {\n                return null;\n            }\n        }\n        return rect;\n    }\n    // does not return window\n    function getClippingParents(el) {\n        let parents = [];\n        while (el instanceof HTMLElement) { // will stop when gets to document or null\n            let computedStyle = window.getComputedStyle(el);\n            if (computedStyle.position === 'fixed') {\n                break;\n            }\n            if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n                parents.push(el);\n            }\n            el = el.parentNode;\n        }\n        return parents;\n    }\n\n    /*\n    given a function that resolves a result asynchronously.\n    the function can either call passed-in success and failure callbacks,\n    or it can return a promise.\n    if you need to pass additional params to func, bind them first.\n    */\n    function unpromisify(func, normalizedSuccessCallback, normalizedFailureCallback) {\n        // guard against success/failure callbacks being called more than once\n        // and guard against a promise AND callback being used together.\n        let isResolved = false;\n        let wrappedSuccess = function (res) {\n            if (!isResolved) {\n                isResolved = true;\n                normalizedSuccessCallback(res);\n            }\n        };\n        let wrappedFailure = function (error) {\n            if (!isResolved) {\n                isResolved = true;\n                normalizedFailureCallback(error);\n            }\n        };\n        let res = func(wrappedSuccess, wrappedFailure);\n        if (res && typeof res.then === 'function') {\n            res.then(wrappedSuccess, wrappedFailure);\n        }\n    }\n\n    class Emitter {\n        constructor() {\n            this.handlers = {};\n            this.thisContext = null;\n        }\n        setThisContext(thisContext) {\n            this.thisContext = thisContext;\n        }\n        setOptions(options) {\n            this.options = options;\n        }\n        on(type, handler) {\n            addToHash(this.handlers, type, handler);\n        }\n        off(type, handler) {\n            removeFromHash(this.handlers, type, handler);\n        }\n        trigger(type, ...args) {\n            let attachedHandlers = this.handlers[type] || [];\n            let optionHandler = this.options && this.options[type];\n            let handlers = [].concat(optionHandler || [], attachedHandlers);\n            for (let handler of handlers) {\n                handler.apply(this.thisContext, args);\n            }\n        }\n        hasHandlers(type) {\n            return Boolean((this.handlers[type] && this.handlers[type].length) ||\n                (this.options && this.options[type]));\n        }\n    }\n    function addToHash(hash, type, handler) {\n        (hash[type] || (hash[type] = []))\n            .push(handler);\n    }\n    function removeFromHash(hash, type, handler) {\n        if (handler) {\n            if (hash[type]) {\n                hash[type] = hash[type].filter((func) => func !== handler);\n            }\n        }\n        else {\n            delete hash[type]; // remove all handler funcs for this type\n        }\n    }\n\n    /*\n    Records offset information for a set of elements, relative to an origin element.\n    Can record the left/right OR the top/bottom OR both.\n    Provides methods for querying the cache by position.\n    */\n    class PositionCache {\n        constructor(originEl, els, isHorizontal, isVertical) {\n            this.els = els;\n            let originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n            if (isHorizontal) {\n                this.buildElHorizontals(originClientRect.left);\n            }\n            if (isVertical) {\n                this.buildElVerticals(originClientRect.top);\n            }\n        }\n        // Populates the left/right internal coordinate arrays\n        buildElHorizontals(originClientLeft) {\n            let lefts = [];\n            let rights = [];\n            for (let el of this.els) {\n                let rect = el.getBoundingClientRect();\n                lefts.push(rect.left - originClientLeft);\n                rights.push(rect.right - originClientLeft);\n            }\n            this.lefts = lefts;\n            this.rights = rights;\n        }\n        // Populates the top/bottom internal coordinate arrays\n        buildElVerticals(originClientTop) {\n            let tops = [];\n            let bottoms = [];\n            for (let el of this.els) {\n                let rect = el.getBoundingClientRect();\n                tops.push(rect.top - originClientTop);\n                bottoms.push(rect.bottom - originClientTop);\n            }\n            this.tops = tops;\n            this.bottoms = bottoms;\n        }\n        // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n        // If no intersection is made, returns undefined.\n        leftToIndex(leftPosition) {\n            let { lefts, rights } = this;\n            let len = lefts.length;\n            let i;\n            for (i = 0; i < len; i += 1) {\n                if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                    return i;\n                }\n            }\n            return undefined; // TODO: better\n        }\n        // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n        // If no intersection is made, returns undefined.\n        topToIndex(topPosition) {\n            let { tops, bottoms } = this;\n            let len = tops.length;\n            let i;\n            for (i = 0; i < len; i += 1) {\n                if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                    return i;\n                }\n            }\n            return undefined; // TODO: better\n        }\n        // Gets the width of the element at the given index\n        getWidth(leftIndex) {\n            return this.rights[leftIndex] - this.lefts[leftIndex];\n        }\n        // Gets the height of the element at the given index\n        getHeight(topIndex) {\n            return this.bottoms[topIndex] - this.tops[topIndex];\n        }\n        similarTo(otherCache) {\n            return similarNumArrays(this.tops || [], otherCache.tops || []) &&\n                similarNumArrays(this.bottoms || [], otherCache.bottoms || []) &&\n                similarNumArrays(this.lefts || [], otherCache.lefts || []) &&\n                similarNumArrays(this.rights || [], otherCache.rights || []);\n        }\n    }\n    function similarNumArrays(a, b) {\n        const len = a.length;\n        if (len !== b.length) {\n            return false;\n        }\n        for (let i = 0; i < len; i++) {\n            if (Math.round(a[i]) !== Math.round(b[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /* eslint max-classes-per-file: \"off\" */\n    /*\n    An object for getting/setting scroll-related information for an element.\n    Internally, this is done very differently for window versus DOM element,\n    so this object serves as a common interface.\n    */\n    class ScrollController {\n        getMaxScrollTop() {\n            return this.getScrollHeight() - this.getClientHeight();\n        }\n        getMaxScrollLeft() {\n            return this.getScrollWidth() - this.getClientWidth();\n        }\n        canScrollVertically() {\n            return this.getMaxScrollTop() > 0;\n        }\n        canScrollHorizontally() {\n            return this.getMaxScrollLeft() > 0;\n        }\n        canScrollUp() {\n            return this.getScrollTop() > 0;\n        }\n        canScrollDown() {\n            return this.getScrollTop() < this.getMaxScrollTop();\n        }\n        canScrollLeft() {\n            return this.getScrollLeft() > 0;\n        }\n        canScrollRight() {\n            return this.getScrollLeft() < this.getMaxScrollLeft();\n        }\n    }\n    class ElementScrollController extends ScrollController {\n        constructor(el) {\n            super();\n            this.el = el;\n        }\n        getScrollTop() {\n            return this.el.scrollTop;\n        }\n        getScrollLeft() {\n            return this.el.scrollLeft;\n        }\n        setScrollTop(top) {\n            this.el.scrollTop = top;\n        }\n        setScrollLeft(left) {\n            this.el.scrollLeft = left;\n        }\n        getScrollWidth() {\n            return this.el.scrollWidth;\n        }\n        getScrollHeight() {\n            return this.el.scrollHeight;\n        }\n        getClientHeight() {\n            return this.el.clientHeight;\n        }\n        getClientWidth() {\n            return this.el.clientWidth;\n        }\n    }\n    class WindowScrollController extends ScrollController {\n        getScrollTop() {\n            return window.pageYOffset;\n        }\n        getScrollLeft() {\n            return window.pageXOffset;\n        }\n        setScrollTop(n) {\n            window.scroll(window.pageXOffset, n);\n        }\n        setScrollLeft(n) {\n            window.scroll(n, window.pageYOffset);\n        }\n        getScrollWidth() {\n            return document.documentElement.scrollWidth;\n        }\n        getScrollHeight() {\n            return document.documentElement.scrollHeight;\n        }\n        getClientHeight() {\n            return document.documentElement.clientHeight;\n        }\n        getClientWidth() {\n            return document.documentElement.clientWidth;\n        }\n    }\n\n    class Theme {\n        constructor(calendarOptions) {\n            if (this.iconOverrideOption) {\n                this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n            }\n        }\n        setIconOverride(iconOverrideHash) {\n            let iconClassesCopy;\n            let buttonName;\n            if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n                iconClassesCopy = Object.assign({}, this.iconClasses);\n                for (buttonName in iconOverrideHash) {\n                    iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n                }\n                this.iconClasses = iconClassesCopy;\n            }\n            else if (iconOverrideHash === false) {\n                this.iconClasses = {};\n            }\n        }\n        applyIconOverridePrefix(className) {\n            let prefix = this.iconOverridePrefix;\n            if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n                className = prefix + className;\n            }\n            return className;\n        }\n        getClass(key) {\n            return this.classes[key] || '';\n        }\n        getIconClass(buttonName, isRtl) {\n            let className;\n            if (isRtl && this.rtlIconClasses) {\n                className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n            }\n            else {\n                className = this.iconClasses[buttonName];\n            }\n            if (className) {\n                return `${this.baseIconClass} ${className}`;\n            }\n            return '';\n        }\n        getCustomButtonIconClass(customButtonProps) {\n            let className;\n            if (this.iconOverrideCustomButtonOption) {\n                className = customButtonProps[this.iconOverrideCustomButtonOption];\n                if (className) {\n                    return `${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`;\n                }\n            }\n            return '';\n        }\n    }\n    Theme.prototype.classes = {};\n    Theme.prototype.iconClasses = {};\n    Theme.prototype.baseIconClass = '';\n    Theme.prototype.iconOverridePrefix = '';\n\n    var n,l$1,u$1,i$1,t,o,r$1,f$1={},e$1=[],c$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a$1(n){var l=n.parentNode;l&&l.removeChild(n);}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v$1(l,f,t,o,null)}function v$1(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u$1:r};return null==r&&null!=l$1.vnode&&l$1.vnode(f),f}function y(){return {current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l;}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return \"function\"==typeof n.type?_(n):null}function k$1(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k$1(n)}}function b$1(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g$2.__r++||o!==l$1.debounceRendering)&&((o=l$1.debounceRendering)||setTimeout)(g$2);}function g$2(){for(var n;g$2.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j$2(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z$1(u,t),t.__e!=o&&k$1(t)));});}function w$2(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e$1,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v$1(null,k,null,null,k):Array.isArray(k)?v$1(p,{children:k},null,null,null):k.__b>0?v$1(k.type,k.props,k.key,k.ref?k.ref:null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null;}j$2(n,k,d=d||f$1,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m$1(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d));}for(u.__e=g,h=C;h--;)null!=x[h]&&N(x[h],x[h]);if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h]);}function m$1(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m$1(i,l,u):A(u,i,i,t,i.__e,l));return l}function x$1(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x$1(n,l);}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else {for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,o),r=o;}return void 0!==r?r:t.nextSibling}function C$1(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H$1(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H$1(n,o,l[o],u[o],i);}function $$1(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c$1.test(l)?u:u+\"px\";}function H$1(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else {if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$$1(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$$1(n.style,l,u[l]);}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T$1:I$1,o):n.removeEventListener(l,o?T$1:I$1,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u));}}function I$1(n){this.l[n.type+!1](l$1.event?l$1.event(n):n);}function T$1(n){this.l[n.type+!0](l$1.event?l$1.event(n):n);}function j$2(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H,I,T=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l$1.__b)&&a(u);try{n:if(\"function\"==typeof T){if(g=u.props,m=(a=T.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in T&&T.prototype.render?u.__c=h=new T(g,x):(u.__c=h=new d(g,x),h.constructor=T,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,T.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else {if(null==T.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){for(h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u);}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k);});}if(h.context=x,h.props=g,h.__v=u,h.__P=n,C=l$1.__r,$=0,\"prototype\"in T&&T.prototype.render){for(h.state=h.__s,h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[];}else do{h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),h.state=h.__s;}while(h.__d&&++$<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),I=null!=a&&a.type===p&&null==a.key?a.props.children:a,w$2(n,Array.isArray(I)?I:[I],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1;}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L$1(i.__e,u,i,t,o,r,f,c);(a=l$1.diffed)&&a(u);}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l$1.__e(n,u,i);}}function z$1(n,u){l$1.__c&&l$1.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u);});}catch(n){l$1.__e(n,u.__v);}});}function L$1(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1;}if(null===d)y===p||c&&l.data===p||(l.data=p);else {if(r=r&&n.call(l.childNodes),h=(y=i.props||f$1).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"));}if(C$1(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w$2(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a$1(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H$1(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H$1(l,\"checked\",k,y.checked,!1));}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u;}catch(n){l$1.__e(n,i);}}function N(n,u,i){var t,o;if(l$1.unmount&&l$1.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount();}catch(n){l$1.__e(n,u);}t.base=t.__P=null,n.__c=void 0;}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,i||\"function\"!=typeof n.type);i||null==n.__e||a$1(n.__e),n.__=n.__e=n.__d=void 0;}function O(n,l,u){return this.constructor(n,u)}function P$1(u,i,t){var o,r,e;l$1.__&&l$1.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j$2(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f$1,f$1,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z$1(e,u);}function S(n,l){P$1(n,l,S);}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v$1(l.type,f,t||l.key,o||l.ref,null)}function B$1(n,l){var u={__c:l=\"__cC\"+r$1++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b$1);},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n);};}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e$1.slice,l$1={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l;}throw n}},u$1=0,i$1=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),b$1(this));},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b$1(this));},d.prototype.render=p,t=[],g$2.__r=0,r$1=0;\n\n    var r,u,i,f=[],c=[],e=l$1.__b,a=l$1.__r,v=l$1.diffed,l=l$1.__c,m=l$1.unmount;function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w$1),t.__H.__h=[];}catch(r){t.__H.__h=[],l$1.__e(r,t.__v);}}l$1.__b=function(n){r=null,e&&e(n);},l$1.__r=function(n){a&&a(n);var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0;})):(i.__h.forEach(k),i.__h.forEach(w$1),i.__h=[])),u=r;},l$1.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===l$1.requestAnimationFrame||((i=l$1.requestAnimationFrame)||j$1)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c;})),u=r=null;},l$1.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return !n.__||w$1(n)});}catch(u){r.some(function(n){n.__h&&(n.__h=[]);}),r=[],l$1.__e(u,t.__v);}}),l&&l(t,r);},l$1.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n);}catch(n){r=n;}}),u.__H=void 0,r&&l$1.__e(r,u.__v));};var g$1=\"function\"==typeof requestAnimationFrame;function j$1(n){var t,r=function(){clearTimeout(u),g$1&&cancelAnimationFrame(t),setTimeout(n);},u=setTimeout(r,100);g$1&&(t=requestAnimationFrame(r));}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t;}function w$1(n){var t=r;n.__c=n.__(),r=t;}\n\n    function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return !0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return !0;return !1}function w(n){this.props=n;}(w.prototype=new d).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=l$1.__b;l$1.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n);};var T=l$1.__e;l$1.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r);};var I=l$1.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c();}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null;}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function V(){this.u=null,this.o=null;}l$1.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n);},(D.prototype=new d).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l());};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O);}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate();}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i);},D.prototype.componentWillUnmount=function(){this.t=[];},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P);}this.__b=null;}var i=e.__a&&h(p,null,n.fallback);return i&&(i.__h=null),[h(p,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2];}};function P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){P$1(null,e.l),e.l=null,e.i=null;},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n);},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n);},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n);}}),P$1(h(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount();}function j(n,e){var r=h($,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new d).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u();};e?e(o):o();}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=x$1(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t);});};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=\"undefined\"!=typeof document,Z=function(n){return (\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};d.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(d.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n});}});});var G=l$1.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}l$1.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var nn={configurable:!0,get:function(){return this.class}},tn=l$1.vnode;l$1.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];H&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&B.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l);}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=x$1(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value);})),\"select\"==t&&null!=u.defaultValue&&(u.value=x$1(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value;})),n.props=u,e.class!=e.className&&(nn.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",nn));}n.$$typeof=z,tn&&tn(n);};var en=l$1.__r;l$1.__r=function(n){en&&en(n),n.__c;};\n\n    /*\n    NOTE: this can be a public API, especially createElement for hooks.\n    See examples/typescript-scheduler/src/index.ts\n    */\n    function flushSync(runBeforeFlush) {\n        runBeforeFlush();\n        let oldDebounceRendering = l$1.debounceRendering; // orig\n        let callbackQ = [];\n        function execCallbackSync(callback) {\n            callbackQ.push(callback);\n        }\n        l$1.debounceRendering = execCallbackSync;\n        P$1(h(FakeComponent, {}), document.createElement('div'));\n        while (callbackQ.length) {\n            callbackQ.shift()();\n        }\n        l$1.debounceRendering = oldDebounceRendering;\n    }\n    class FakeComponent extends d {\n        render() { return h('div', {}); }\n        componentDidMount() { this.setState({}); }\n    }\n    // TODO: use preact/compat instead?\n    function createContext(defaultValue) {\n        let ContextType = B$1(defaultValue);\n        let origProvider = ContextType.Provider;\n        ContextType.Provider = function () {\n            let isNew = !this.getChildContext;\n            let children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            if (isNew) {\n                let subs = [];\n                this.shouldComponentUpdate = (_props) => {\n                    if (this.props.value !== _props.value) {\n                        subs.forEach((c) => {\n                            c.context = _props.value;\n                            c.forceUpdate();\n                        });\n                    }\n                };\n                this.sub = (c) => {\n                    subs.push(c);\n                    let old = c.componentWillUnmount;\n                    c.componentWillUnmount = () => {\n                        subs.splice(subs.indexOf(c), 1);\n                        old && old.call(c);\n                    };\n                };\n            }\n            return children;\n        };\n        return ContextType;\n    }\n\n    var preact = {\n        __proto__: null,\n        flushSync: flushSync,\n        createContext: createContext,\n        createPortal: j,\n        Component: d,\n        Fragment: p,\n        cloneElement: q,\n        createElement: h,\n        createRef: y,\n        h: h,\n        hydrate: S,\n        get isValidElement () { return i$1; },\n        get options () { return l$1; },\n        render: P$1,\n        toChildArray: x$1\n    };\n\n    class ScrollResponder {\n        constructor(execFunc, emitter, scrollTime, scrollTimeReset) {\n            this.execFunc = execFunc;\n            this.emitter = emitter;\n            this.scrollTime = scrollTime;\n            this.scrollTimeReset = scrollTimeReset;\n            this.handleScrollRequest = (request) => {\n                this.queuedRequest = Object.assign({}, this.queuedRequest || {}, request);\n                this.drain();\n            };\n            emitter.on('_scrollRequest', this.handleScrollRequest);\n            this.fireInitialScroll();\n        }\n        detach() {\n            this.emitter.off('_scrollRequest', this.handleScrollRequest);\n        }\n        update(isDatesNew) {\n            if (isDatesNew && this.scrollTimeReset) {\n                this.fireInitialScroll(); // will drain\n            }\n            else {\n                this.drain();\n            }\n        }\n        fireInitialScroll() {\n            this.handleScrollRequest({\n                time: this.scrollTime,\n            });\n        }\n        drain() {\n            if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n                this.queuedRequest = null;\n            }\n        }\n    }\n\n    const ViewContextType = createContext({}); // for Components\n    function buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n        return {\n            dateEnv,\n            options: viewOptions,\n            pluginHooks,\n            emitter,\n            dispatch,\n            getCurrentData,\n            calendarApi,\n            viewSpec,\n            viewApi,\n            dateProfileGenerator,\n            theme,\n            isRtl: viewOptions.direction === 'rtl',\n            addResizeHandler(handler) {\n                emitter.on('_resize', handler);\n            },\n            removeResizeHandler(handler) {\n                emitter.off('_resize', handler);\n            },\n            createScrollResponder(execFunc) {\n                return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n            },\n            registerInteractiveComponent,\n            unregisterInteractiveComponent,\n        };\n    }\n\n    /* eslint max-classes-per-file: off */\n    class PureComponent extends d {\n        shouldComponentUpdate(nextProps, nextState) {\n            if (this.debug) {\n                // eslint-disable-next-line no-console\n                console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n            }\n            return !compareObjs(this.props, nextProps, this.propEquality) ||\n                !compareObjs(this.state, nextState, this.stateEquality);\n        }\n        // HACK for freakin' React StrictMode\n        safeSetState(newState) {\n            if (!compareObjs(this.state, Object.assign(Object.assign({}, this.state), newState), this.stateEquality)) {\n                this.setState(newState);\n            }\n        }\n    }\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    PureComponent.prototype.propEquality = {};\n    PureComponent.prototype.stateEquality = {};\n    class BaseComponent extends PureComponent {\n    }\n    BaseComponent.contextType = ViewContextType;\n    function addPropsEquality(propEquality) {\n        let hash = Object.create(this.prototype.propEquality);\n        Object.assign(hash, propEquality);\n        this.prototype.propEquality = hash;\n    }\n    function addStateEquality(stateEquality) {\n        let hash = Object.create(this.prototype.stateEquality);\n        Object.assign(hash, stateEquality);\n        this.prototype.stateEquality = hash;\n    }\n    // use other one\n    function setRef(ref, current) {\n        if (typeof ref === 'function') {\n            ref(current);\n        }\n        else if (ref) {\n            // see https://github.com/facebook/react/issues/13029\n            ref.current = current;\n        }\n    }\n\n    /*\n    an INTERACTABLE date component\n\n    PURPOSES:\n    - hook up to fg, fill, and mirror renderers\n    - interface for dragging and hits\n    */\n    class DateComponent extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.uid = guid();\n        }\n        // Hit System\n        // -----------------------------------------------------------------------------------------------------------------\n        prepareHits() {\n        }\n        queryHit(positionLeft, positionTop, elWidth, elHeight) {\n            return null; // this should be abstract\n        }\n        // Pointer Interaction Utils\n        // -----------------------------------------------------------------------------------------------------------------\n        isValidSegDownEl(el) {\n            return !this.props.eventDrag && // HACK\n                !this.props.eventResize && // HACK\n                !elementClosest(el, '.fc-event-mirror');\n        }\n        isValidDateDownEl(el) {\n            return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n                !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n                !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n                !elementClosest(el, '.fc-popover'); // hack\n        }\n    }\n\n    function reduceCurrentDate(currentDate, action) {\n        switch (action.type) {\n            case 'CHANGE_DATE':\n                return action.dateMarker;\n            default:\n                return currentDate;\n        }\n    }\n    function getInitialDate(options, dateEnv) {\n        let initialDateInput = options.initialDate;\n        // compute the initial ambig-timezone date\n        if (initialDateInput != null) {\n            return dateEnv.createMarker(initialDateInput);\n        }\n        return getNow(options.now, dateEnv); // getNow already returns unzoned\n    }\n    function getNow(nowInput, dateEnv) {\n        if (typeof nowInput === 'function') {\n            nowInput = nowInput();\n        }\n        if (nowInput == null) {\n            return dateEnv.createNowMarker();\n        }\n        return dateEnv.createMarker(nowInput);\n    }\n\n    class DateProfileGenerator {\n        constructor(props) {\n            this.props = props;\n            this.nowDate = getNow(props.nowInput, props.dateEnv);\n            this.initHiddenDays();\n        }\n        /* Date Range Computation\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n        buildPrev(currentDateProfile, currentDate, forceToValid) {\n            let { dateEnv } = this.props;\n            let prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n            currentDateProfile.dateIncrement);\n            return this.build(prevDate, -1, forceToValid);\n        }\n        // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n        buildNext(currentDateProfile, currentDate, forceToValid) {\n            let { dateEnv } = this.props;\n            let nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n            currentDateProfile.dateIncrement);\n            return this.build(nextDate, 1, forceToValid);\n        }\n        // Builds a structure holding dates/ranges for rendering around the given date.\n        // Optional direction param indicates whether the date is being incremented/decremented\n        // from its previous value. decremented = -1, incremented = 1 (default).\n        build(currentDate, direction, forceToValid = true) {\n            let { props } = this;\n            let validRange;\n            let currentInfo;\n            let isRangeAllDay;\n            let renderRange;\n            let activeRange;\n            let isValid;\n            validRange = this.buildValidRange();\n            validRange = this.trimHiddenDays(validRange);\n            if (forceToValid) {\n                currentDate = constrainMarkerToRange(currentDate, validRange);\n            }\n            currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n            isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n            renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n            renderRange = this.trimHiddenDays(renderRange);\n            activeRange = renderRange;\n            if (!props.showNonCurrentDates) {\n                activeRange = intersectRanges(activeRange, currentInfo.range);\n            }\n            activeRange = this.adjustActiveRange(activeRange);\n            activeRange = intersectRanges(activeRange, validRange); // might return null\n            // it's invalid if the originally requested date is not contained,\n            // or if the range is completely outside of the valid range.\n            isValid = rangesIntersect(currentInfo.range, validRange);\n            // HACK: constrain to render-range so `currentDate` is more useful to view rendering\n            if (!rangeContainsMarker(renderRange, currentDate)) {\n                currentDate = renderRange.start;\n            }\n            return {\n                currentDate,\n                // constraint for where prev/next operations can go and where events can be dragged/resized to.\n                // an object with optional start and end properties.\n                validRange,\n                // range the view is formally responsible for.\n                // for example, a month view might have 1st-31st, excluding padded dates\n                currentRange: currentInfo.range,\n                // name of largest unit being displayed, like \"month\" or \"week\"\n                currentRangeUnit: currentInfo.unit,\n                isRangeAllDay,\n                // dates that display events and accept drag-n-drop\n                // will be `null` if no dates accept events\n                activeRange,\n                // date range with a rendered skeleton\n                // includes not-active days that need some sort of DOM\n                renderRange,\n                // Duration object that denotes the first visible time of any given day\n                slotMinTime: props.slotMinTime,\n                // Duration object that denotes the exclusive visible end time of any given day\n                slotMaxTime: props.slotMaxTime,\n                isValid,\n                // how far the current date will move for a prev/next operation\n                dateIncrement: this.buildDateIncrement(currentInfo.duration),\n                // pass a fallback (might be null) ^\n            };\n        }\n        // Builds an object with optional start/end properties.\n        // Indicates the minimum/maximum dates to display.\n        // not responsible for trimming hidden days.\n        buildValidRange() {\n            let input = this.props.validRangeInput;\n            let simpleInput = typeof input === 'function'\n                ? input.call(this.props.calendarApi, this.nowDate)\n                : input;\n            return this.refineRange(simpleInput) ||\n                { start: null, end: null }; // completely open-ended\n        }\n        // Builds a structure with info about the \"current\" range, the range that is\n        // highlighted as being the current month for example.\n        // See build() for a description of `direction`.\n        // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n        buildCurrentRangeInfo(date, direction) {\n            let { props } = this;\n            let duration = null;\n            let unit = null;\n            let range = null;\n            let dayCount;\n            if (props.duration) {\n                duration = props.duration;\n                unit = props.durationUnit;\n                range = this.buildRangeFromDuration(date, direction, duration, unit);\n            }\n            else if ((dayCount = this.props.dayCount)) {\n                unit = 'day';\n                range = this.buildRangeFromDayCount(date, direction, dayCount);\n            }\n            else if ((range = this.buildCustomVisibleRange(date))) {\n                unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n            }\n            else {\n                duration = this.getFallbackDuration();\n                unit = greatestDurationDenominator(duration).unit;\n                range = this.buildRangeFromDuration(date, direction, duration, unit);\n            }\n            return { duration, unit, range };\n        }\n        getFallbackDuration() {\n            return createDuration({ day: 1 });\n        }\n        // Returns a new activeRange to have time values (un-ambiguate)\n        // slotMinTime or slotMaxTime causes the range to expand.\n        adjustActiveRange(range) {\n            let { dateEnv, usesMinMaxTime, slotMinTime, slotMaxTime } = this.props;\n            let { start, end } = range;\n            if (usesMinMaxTime) {\n                // expand active range if slotMinTime is negative (why not when positive?)\n                if (asRoughDays(slotMinTime) < 0) {\n                    start = startOfDay(start); // necessary?\n                    start = dateEnv.add(start, slotMinTime);\n                }\n                // expand active range if slotMaxTime is beyond one day (why not when negative?)\n                if (asRoughDays(slotMaxTime) > 1) {\n                    end = startOfDay(end); // necessary?\n                    end = addDays(end, -1);\n                    end = dateEnv.add(end, slotMaxTime);\n                }\n            }\n            return { start, end };\n        }\n        // Builds the \"current\" range when it is specified as an explicit duration.\n        // `unit` is the already-computed greatestDurationDenominator unit of duration.\n        buildRangeFromDuration(date, direction, duration, unit) {\n            let { dateEnv, dateAlignment } = this.props;\n            let start;\n            let end;\n            let res;\n            // compute what the alignment should be\n            if (!dateAlignment) {\n                let { dateIncrement } = this.props;\n                if (dateIncrement) {\n                    // use the smaller of the two units\n                    if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                        dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                    }\n                    else {\n                        dateAlignment = unit;\n                    }\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            // if the view displays a single day or smaller\n            if (asRoughDays(duration) <= 1) {\n                if (this.isHiddenDay(start)) {\n                    start = this.skipHiddenDays(start, direction);\n                    start = startOfDay(start);\n                }\n            }\n            function computeRes() {\n                start = dateEnv.startOf(date, dateAlignment);\n                end = dateEnv.add(start, duration);\n                res = { start, end };\n            }\n            computeRes();\n            // if range is completely enveloped by hidden days, go past the hidden days\n            if (!this.trimHiddenDays(res)) {\n                date = this.skipHiddenDays(date, direction);\n                computeRes();\n            }\n            return res;\n        }\n        // Builds the \"current\" range when a dayCount is specified.\n        buildRangeFromDayCount(date, direction, dayCount) {\n            let { dateEnv, dateAlignment } = this.props;\n            let runningCount = 0;\n            let start = date;\n            let end;\n            if (dateAlignment) {\n                start = dateEnv.startOf(start, dateAlignment);\n            }\n            start = startOfDay(start);\n            start = this.skipHiddenDays(start, direction);\n            end = start;\n            do {\n                end = addDays(end, 1);\n                if (!this.isHiddenDay(end)) {\n                    runningCount += 1;\n                }\n            } while (runningCount < dayCount);\n            return { start, end };\n        }\n        // Builds a normalized range object for the \"visible\" range,\n        // which is a way to define the currentRange and activeRange at the same time.\n        buildCustomVisibleRange(date) {\n            let { props } = this;\n            let input = props.visibleRangeInput;\n            let simpleInput = typeof input === 'function'\n                ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n                : input;\n            let range = this.refineRange(simpleInput);\n            if (range && (range.start == null || range.end == null)) {\n                return null;\n            }\n            return range;\n        }\n        // Computes the range that will represent the element/cells for *rendering*,\n        // but which may have voided days/times.\n        // not responsible for trimming hidden days.\n        buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n            return currentRange;\n        }\n        // Compute the duration value that should be added/substracted to the current date\n        // when a prev/next operation happens.\n        buildDateIncrement(fallback) {\n            let { dateIncrement } = this.props;\n            let customAlignment;\n            if (dateIncrement) {\n                return dateIncrement;\n            }\n            if ((customAlignment = this.props.dateAlignment)) {\n                return createDuration(1, customAlignment);\n            }\n            if (fallback) {\n                return fallback;\n            }\n            return createDuration({ days: 1 });\n        }\n        refineRange(rangeInput) {\n            if (rangeInput) {\n                let range = parseRange(rangeInput, this.props.dateEnv);\n                if (range) {\n                    range = computeVisibleDayRange(range);\n                }\n                return range;\n            }\n            return null;\n        }\n        /* Hidden Days\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Initializes internal variables related to calculating hidden days-of-week\n        initHiddenDays() {\n            let hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n            let isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n            let dayCnt = 0;\n            let i;\n            if (this.props.weekends === false) {\n                hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n            }\n            for (i = 0; i < 7; i += 1) {\n                if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                    dayCnt += 1;\n                }\n            }\n            if (!dayCnt) {\n                throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n            }\n            this.isHiddenDayHash = isHiddenDayHash;\n        }\n        // Remove days from the beginning and end of the range that are computed as hidden.\n        // If the whole range is trimmed off, returns null\n        trimHiddenDays(range) {\n            let { start, end } = range;\n            if (start) {\n                start = this.skipHiddenDays(start);\n            }\n            if (end) {\n                end = this.skipHiddenDays(end, -1, true);\n            }\n            if (start == null || end == null || start < end) {\n                return { start, end };\n            }\n            return null;\n        }\n        // Is the current day hidden?\n        // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n        isHiddenDay(day) {\n            if (day instanceof Date) {\n                day = day.getUTCDay();\n            }\n            return this.isHiddenDayHash[day];\n        }\n        // Incrementing the current day until it is no longer a hidden day, returning a copy.\n        // DOES NOT CONSIDER validRange!\n        // If the initial value of `date` is not a hidden day, don't do anything.\n        // Pass `isExclusive` as `true` if you are dealing with an end date.\n        // `inc` defaults to `1` (increment one day forward each time)\n        skipHiddenDays(date, inc = 1, isExclusive = false) {\n            while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n                date = addDays(date, inc);\n            }\n            return date;\n        }\n    }\n\n    function triggerDateSelect(selection, pev, context) {\n        context.emitter.trigger('select', Object.assign(Object.assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n    }\n    function triggerDateUnselect(pev, context) {\n        context.emitter.trigger('unselect', {\n            jsEvent: pev ? pev.origEvent : null,\n            view: context.viewApi || context.calendarApi.view,\n        });\n    }\n    function buildDateSpanApiWithContext(dateSpan, context) {\n        let props = {};\n        for (let transform of context.pluginHooks.dateSpanTransforms) {\n            Object.assign(props, transform(dateSpan, context));\n        }\n        Object.assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n        return props;\n    }\n    // Given an event's allDay status and start date, return what its fallback end date should be.\n    // TODO: rename to computeDefaultEventEnd\n    function getDefaultEventEnd(allDay, marker, context) {\n        let { dateEnv, options } = context;\n        let end = marker;\n        if (allDay) {\n            end = startOfDay(end);\n            end = dateEnv.add(end, options.defaultAllDayEventDuration);\n        }\n        else {\n            end = dateEnv.add(end, options.defaultTimedEventDuration);\n        }\n        return end;\n    }\n\n    // applies the mutation to ALL defs/instances within the event store\n    function applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n        let eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n        let dest = createEmptyEventStore();\n        for (let defId in eventStore.defs) {\n            let def = eventStore.defs[defId];\n            dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n        }\n        for (let instanceId in eventStore.instances) {\n            let instance = eventStore.instances[instanceId];\n            let def = dest.defs[instance.defId]; // important to grab the newly modified def\n            dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n        }\n        return dest;\n    }\n    function applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n        let standardProps = mutation.standardProps || {};\n        // if hasEnd has not been specified, guess a good value based on deltas.\n        // if duration will change, there's no way the default duration will persist,\n        // and thus, we need to mark the event as having a real end\n        if (standardProps.hasEnd == null &&\n            eventConfig.durationEditable &&\n            (mutation.startDelta || mutation.endDelta)) {\n            standardProps.hasEnd = true; // TODO: is this mutation okay?\n        }\n        let copy = Object.assign(Object.assign(Object.assign({}, eventDef), standardProps), { ui: Object.assign(Object.assign({}, eventDef.ui), standardProps.ui) });\n        if (mutation.extendedProps) {\n            copy.extendedProps = Object.assign(Object.assign({}, copy.extendedProps), mutation.extendedProps);\n        }\n        for (let applier of context.pluginHooks.eventDefMutationAppliers) {\n            applier(copy, mutation, context);\n        }\n        if (!copy.hasEnd && context.options.forceEventDuration) {\n            copy.hasEnd = true;\n        }\n        return copy;\n    }\n    function applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\n    eventConfig, mutation, context) {\n        let { dateEnv } = context;\n        let forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n        let clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n        let copy = Object.assign({}, eventInstance);\n        if (forceAllDay) {\n            copy.range = computeAlignedDayRange(copy.range);\n        }\n        if (mutation.datesDelta && eventConfig.startEditable) {\n            copy.range = {\n                start: dateEnv.add(copy.range.start, mutation.datesDelta),\n                end: dateEnv.add(copy.range.end, mutation.datesDelta),\n            };\n        }\n        if (mutation.startDelta && eventConfig.durationEditable) {\n            copy.range = {\n                start: dateEnv.add(copy.range.start, mutation.startDelta),\n                end: copy.range.end,\n            };\n        }\n        if (mutation.endDelta && eventConfig.durationEditable) {\n            copy.range = {\n                start: copy.range.start,\n                end: dateEnv.add(copy.range.end, mutation.endDelta),\n            };\n        }\n        if (clearEnd) {\n            copy.range = {\n                start: copy.range.start,\n                end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n            };\n        }\n        // in case event was all-day but the supplied deltas were not\n        // better util for this?\n        if (eventDef.allDay) {\n            copy.range = {\n                start: startOfDay(copy.range.start),\n                end: startOfDay(copy.range.end),\n            };\n        }\n        // handle invalid durations\n        if (copy.range.end < copy.range.start) {\n            copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n        }\n        return copy;\n    }\n\n    class EventSourceImpl {\n        constructor(context, internalEventSource) {\n            this.context = context;\n            this.internalEventSource = internalEventSource;\n        }\n        remove() {\n            this.context.dispatch({\n                type: 'REMOVE_EVENT_SOURCE',\n                sourceId: this.internalEventSource.sourceId,\n            });\n        }\n        refetch() {\n            this.context.dispatch({\n                type: 'FETCH_EVENT_SOURCES',\n                sourceIds: [this.internalEventSource.sourceId],\n                isRefetch: true,\n            });\n        }\n        get id() {\n            return this.internalEventSource.publicId;\n        }\n        get url() {\n            return this.internalEventSource.meta.url;\n        }\n        get format() {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        }\n    }\n\n    class EventImpl {\n        // instance will be null if expressing a recurring event that has no current instances,\n        // OR if trying to validate an incoming external event that has no dates assigned\n        constructor(context, def, instance) {\n            this._context = context;\n            this._def = def;\n            this._instance = instance || null;\n        }\n        /*\n        TODO: make event struct more responsible for this\n        */\n        setProp(name, val) {\n            if (name in EVENT_DATE_REFINERS) {\n                console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n                // TODO: make proper aliasing system?\n            }\n            else if (name === 'id') {\n                val = EVENT_NON_DATE_REFINERS[name](val);\n                this.mutate({\n                    standardProps: { publicId: val }, // hardcoded internal name\n                });\n            }\n            else if (name in EVENT_NON_DATE_REFINERS) {\n                val = EVENT_NON_DATE_REFINERS[name](val);\n                this.mutate({\n                    standardProps: { [name]: val },\n                });\n            }\n            else if (name in EVENT_UI_REFINERS) {\n                let ui = EVENT_UI_REFINERS[name](val);\n                if (name === 'color') {\n                    ui = { backgroundColor: val, borderColor: val };\n                }\n                else if (name === 'editable') {\n                    ui = { startEditable: val, durationEditable: val };\n                }\n                else {\n                    ui = { [name]: val };\n                }\n                this.mutate({\n                    standardProps: { ui },\n                });\n            }\n            else {\n                console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`);\n            }\n        }\n        setExtendedProp(name, val) {\n            this.mutate({\n                extendedProps: { [name]: val },\n            });\n        }\n        setStart(startInput, options = {}) {\n            let { dateEnv } = this._context;\n            let start = dateEnv.createMarker(startInput);\n            if (start && this._instance) { // TODO: warning if parsed bad\n                let instanceRange = this._instance.range;\n                let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n                if (options.maintainDuration) {\n                    this.mutate({ datesDelta: startDelta });\n                }\n                else {\n                    this.mutate({ startDelta });\n                }\n            }\n        }\n        setEnd(endInput, options = {}) {\n            let { dateEnv } = this._context;\n            let end;\n            if (endInput != null) {\n                end = dateEnv.createMarker(endInput);\n                if (!end) {\n                    return; // TODO: warning if parsed bad\n                }\n            }\n            if (this._instance) {\n                if (end) {\n                    let endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                    this.mutate({ endDelta });\n                }\n                else {\n                    this.mutate({ standardProps: { hasEnd: false } });\n                }\n            }\n        }\n        setDates(startInput, endInput, options = {}) {\n            let { dateEnv } = this._context;\n            let standardProps = { allDay: options.allDay };\n            let start = dateEnv.createMarker(startInput);\n            let end;\n            if (!start) {\n                return; // TODO: warning if parsed bad\n            }\n            if (endInput != null) {\n                end = dateEnv.createMarker(endInput);\n                if (!end) { // TODO: warning if parsed bad\n                    return;\n                }\n            }\n            if (this._instance) {\n                let instanceRange = this._instance.range;\n                // when computing the diff for an event being converted to all-day,\n                // compute diff off of the all-day values the way event-mutation does.\n                if (options.allDay === true) {\n                    instanceRange = computeAlignedDayRange(instanceRange);\n                }\n                let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n                if (end) {\n                    let endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                    if (durationsEqual(startDelta, endDelta)) {\n                        this.mutate({ datesDelta: startDelta, standardProps });\n                    }\n                    else {\n                        this.mutate({ startDelta, endDelta, standardProps });\n                    }\n                }\n                else { // means \"clear the end\"\n                    standardProps.hasEnd = false;\n                    this.mutate({ datesDelta: startDelta, standardProps });\n                }\n            }\n        }\n        moveStart(deltaInput) {\n            let delta = createDuration(deltaInput);\n            if (delta) { // TODO: warning if parsed bad\n                this.mutate({ startDelta: delta });\n            }\n        }\n        moveEnd(deltaInput) {\n            let delta = createDuration(deltaInput);\n            if (delta) { // TODO: warning if parsed bad\n                this.mutate({ endDelta: delta });\n            }\n        }\n        moveDates(deltaInput) {\n            let delta = createDuration(deltaInput);\n            if (delta) { // TODO: warning if parsed bad\n                this.mutate({ datesDelta: delta });\n            }\n        }\n        setAllDay(allDay, options = {}) {\n            let standardProps = { allDay };\n            let { maintainDuration } = options;\n            if (maintainDuration == null) {\n                maintainDuration = this._context.options.allDayMaintainDuration;\n            }\n            if (this._def.allDay !== allDay) {\n                standardProps.hasEnd = maintainDuration;\n            }\n            this.mutate({ standardProps });\n        }\n        formatRange(formatInput) {\n            let { dateEnv } = this._context;\n            let instance = this._instance;\n            let formatter = createFormatter(formatInput);\n            if (this._def.hasEnd) {\n                return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                    forcedStartTzo: instance.forcedStartTzo,\n                    forcedEndTzo: instance.forcedEndTzo,\n                });\n            }\n            return dateEnv.format(instance.range.start, formatter, {\n                forcedTzo: instance.forcedStartTzo,\n            });\n        }\n        mutate(mutation) {\n            let instance = this._instance;\n            if (instance) {\n                let def = this._def;\n                let context = this._context;\n                let { eventStore } = context.getCurrentData();\n                let relevantEvents = getRelevantEvents(eventStore, instance.instanceId);\n                let eventConfigBase = {\n                    '': {\n                        display: '',\n                        startEditable: true,\n                        durationEditable: true,\n                        constraints: [],\n                        overlap: null,\n                        allows: [],\n                        backgroundColor: '',\n                        borderColor: '',\n                        textColor: '',\n                        classNames: [],\n                    },\n                };\n                relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context);\n                let oldEvent = new EventImpl(context, def, instance); // snapshot\n                this._def = relevantEvents.defs[def.defId];\n                this._instance = relevantEvents.instances[instance.instanceId];\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: relevantEvents,\n                });\n                context.emitter.trigger('eventChange', {\n                    oldEvent,\n                    event: this,\n                    relatedEvents: buildEventApis(relevantEvents, context, instance),\n                    revert() {\n                        context.dispatch({\n                            type: 'RESET_EVENTS',\n                            eventStore, // the ORIGINAL store\n                        });\n                    },\n                });\n            }\n        }\n        remove() {\n            let context = this._context;\n            let asStore = eventApiToStore(this);\n            context.dispatch({\n                type: 'REMOVE_EVENTS',\n                eventStore: asStore,\n            });\n            context.emitter.trigger('eventRemove', {\n                event: this,\n                relatedEvents: [],\n                revert() {\n                    context.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: asStore,\n                    });\n                },\n            });\n        }\n        get source() {\n            let { sourceId } = this._def;\n            if (sourceId) {\n                return new EventSourceImpl(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        }\n        get start() {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        }\n        get end() {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        }\n        get startStr() {\n            let instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        }\n        get endStr() {\n            let instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        }\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get id() { return this._def.publicId; }\n        get groupId() { return this._def.groupId; }\n        get allDay() { return this._def.allDay; }\n        get title() { return this._def.title; }\n        get url() { return this._def.url; }\n        get display() { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        get startEditable() { return this._def.ui.startEditable; }\n        get durationEditable() { return this._def.ui.durationEditable; }\n        get constraint() { return this._def.ui.constraints[0] || null; }\n        get overlap() { return this._def.ui.overlap; }\n        get allow() { return this._def.ui.allows[0] || null; }\n        get backgroundColor() { return this._def.ui.backgroundColor; }\n        get borderColor() { return this._def.ui.borderColor; }\n        get textColor() { return this._def.ui.textColor; }\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get classNames() { return this._def.ui.classNames; }\n        get extendedProps() { return this._def.extendedProps; }\n        toPlainObject(settings = {}) {\n            let def = this._def;\n            let { ui } = def;\n            let { startStr, endStr } = this;\n            let res = {\n                allDay: def.allDay,\n            };\n            if (def.title) {\n                res.title = def.title;\n            }\n            if (startStr) {\n                res.start = startStr;\n            }\n            if (endStr) {\n                res.end = endStr;\n            }\n            if (def.publicId) {\n                res.id = def.publicId;\n            }\n            if (def.groupId) {\n                res.groupId = def.groupId;\n            }\n            if (def.url) {\n                res.url = def.url;\n            }\n            if (ui.display && ui.display !== 'auto') {\n                res.display = ui.display;\n            }\n            // TODO: what about recurring-event properties???\n            // TODO: include startEditable/durationEditable/constraint/overlap/allow\n            if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n                res.color = ui.backgroundColor;\n            }\n            else {\n                if (ui.backgroundColor) {\n                    res.backgroundColor = ui.backgroundColor;\n                }\n                if (ui.borderColor) {\n                    res.borderColor = ui.borderColor;\n                }\n            }\n            if (ui.textColor) {\n                res.textColor = ui.textColor;\n            }\n            if (ui.classNames.length) {\n                res.classNames = ui.classNames;\n            }\n            if (Object.keys(def.extendedProps).length) {\n                if (settings.collapseExtendedProps) {\n                    Object.assign(res, def.extendedProps);\n                }\n                else {\n                    res.extendedProps = def.extendedProps;\n                }\n            }\n            return res;\n        }\n        toJSON() {\n            return this.toPlainObject();\n        }\n    }\n    function eventApiToStore(eventApi) {\n        let def = eventApi._def;\n        let instance = eventApi._instance;\n        return {\n            defs: { [def.defId]: def },\n            instances: instance\n                ? { [instance.instanceId]: instance }\n                : {},\n        };\n    }\n    function buildEventApis(eventStore, context, excludeInstance) {\n        let { defs, instances } = eventStore;\n        let eventApis = [];\n        let excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n        for (let id in instances) {\n            let instance = instances[id];\n            let def = defs[instance.defId];\n            if (instance.instanceId !== excludeInstanceId) {\n                eventApis.push(new EventImpl(context, def, instance));\n            }\n        }\n        return eventApis;\n    }\n\n    /*\n    Specifying nextDayThreshold signals that all-day ranges should be sliced.\n    */\n    function sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n        let inverseBgByGroupId = {};\n        let inverseBgByDefId = {};\n        let defByGroupId = {};\n        let bgRanges = [];\n        let fgRanges = [];\n        let eventUis = compileEventUis(eventStore.defs, eventUiBases);\n        for (let defId in eventStore.defs) {\n            let def = eventStore.defs[defId];\n            let ui = eventUis[def.defId];\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId] = [];\n                    if (!defByGroupId[def.groupId]) {\n                        defByGroupId[def.groupId] = def;\n                    }\n                }\n                else {\n                    inverseBgByDefId[defId] = [];\n                }\n            }\n        }\n        for (let instanceId in eventStore.instances) {\n            let instance = eventStore.instances[instanceId];\n            let def = eventStore.defs[instance.defId];\n            let ui = eventUis[def.defId];\n            let origRange = instance.range;\n            let normalRange = (!def.allDay && nextDayThreshold) ?\n                computeVisibleDayRange(origRange, nextDayThreshold) :\n                origRange;\n            let slicedRange = intersectRanges(normalRange, framingRange);\n            if (slicedRange) {\n                if (ui.display === 'inverse-background') {\n                    if (def.groupId) {\n                        inverseBgByGroupId[def.groupId].push(slicedRange);\n                    }\n                    else {\n                        inverseBgByDefId[instance.defId].push(slicedRange);\n                    }\n                }\n                else if (ui.display !== 'none') {\n                    (ui.display === 'background' ? bgRanges : fgRanges).push({\n                        def,\n                        ui,\n                        instance,\n                        range: slicedRange,\n                        isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                        isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                    });\n                }\n            }\n        }\n        for (let groupId in inverseBgByGroupId) { // BY GROUP\n            let ranges = inverseBgByGroupId[groupId];\n            let invertedRanges = invertRanges(ranges, framingRange);\n            for (let invertedRange of invertedRanges) {\n                let def = defByGroupId[groupId];\n                let ui = eventUis[def.defId];\n                bgRanges.push({\n                    def,\n                    ui,\n                    instance: null,\n                    range: invertedRange,\n                    isStart: false,\n                    isEnd: false,\n                });\n            }\n        }\n        for (let defId in inverseBgByDefId) {\n            let ranges = inverseBgByDefId[defId];\n            let invertedRanges = invertRanges(ranges, framingRange);\n            for (let invertedRange of invertedRanges) {\n                bgRanges.push({\n                    def: eventStore.defs[defId],\n                    ui: eventUis[defId],\n                    instance: null,\n                    range: invertedRange,\n                    isStart: false,\n                    isEnd: false,\n                });\n            }\n        }\n        return { bg: bgRanges, fg: fgRanges };\n    }\n    function hasBgRendering(def) {\n        return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n    }\n    function setElSeg(el, seg) {\n        el.fcSeg = seg;\n    }\n    function getElSeg(el) {\n        return el.fcSeg ||\n            el.parentNode.fcSeg || // for the harness\n            null;\n    }\n    // event ui computation\n    function compileEventUis(eventDefs, eventUiBases) {\n        return mapHash(eventDefs, (eventDef) => compileEventUi(eventDef, eventUiBases));\n    }\n    function compileEventUi(eventDef, eventUiBases) {\n        let uis = [];\n        if (eventUiBases['']) {\n            uis.push(eventUiBases['']);\n        }\n        if (eventUiBases[eventDef.defId]) {\n            uis.push(eventUiBases[eventDef.defId]);\n        }\n        uis.push(eventDef.ui);\n        return combineEventUis(uis);\n    }\n    function sortEventSegs(segs, eventOrderSpecs) {\n        let objs = segs.map(buildSegCompareObj);\n        objs.sort((obj0, obj1) => compareByFieldSpecs(obj0, obj1, eventOrderSpecs));\n        return objs.map((c) => c._seg);\n    }\n    // returns a object with all primitive props that can be compared\n    function buildSegCompareObj(seg) {\n        let { eventRange } = seg;\n        let eventDef = eventRange.def;\n        let range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n        let start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n        let end = range.end ? range.end.valueOf() : 0; // \"\n        return Object.assign(Object.assign(Object.assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start,\n            end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n    }\n    function computeSegDraggable(seg, context) {\n        let { pluginHooks } = context;\n        let transformers = pluginHooks.isDraggableTransformers;\n        let { def, ui } = seg.eventRange;\n        let val = ui.startEditable;\n        for (let transformer of transformers) {\n            val = transformer(val, def, ui, context);\n        }\n        return val;\n    }\n    function computeSegStartResizable(seg, context) {\n        return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n    }\n    function computeSegEndResizable(seg, context) {\n        return seg.isEnd && seg.eventRange.ui.durationEditable;\n    }\n    function buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\n    defaultDisplayEventEnd, // defaults to true\n    startOverride, endOverride) {\n        let { dateEnv, options } = context;\n        let { displayEventTime, displayEventEnd } = options;\n        let eventDef = seg.eventRange.def;\n        let eventInstance = seg.eventRange.instance;\n        if (displayEventTime == null) {\n            displayEventTime = defaultDisplayEventTime !== false;\n        }\n        if (displayEventEnd == null) {\n            displayEventEnd = defaultDisplayEventEnd !== false;\n        }\n        let wholeEventStart = eventInstance.range.start;\n        let wholeEventEnd = eventInstance.range.end;\n        let segStart = startOverride || seg.start || seg.eventRange.range.start;\n        let segEnd = endOverride || seg.end || seg.eventRange.range.end;\n        let isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n        let isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n        if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n            segStart = isStartDay ? wholeEventStart : segStart;\n            segEnd = isEndDay ? wholeEventEnd : segEnd;\n            if (displayEventEnd && eventDef.hasEnd) {\n                return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                    forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                    forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n                });\n            }\n            return dateEnv.format(segStart, timeFormat, {\n                forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n            });\n        }\n        return '';\n    }\n    function getSegMeta(seg, todayRange, nowDate) {\n        let segRange = seg.eventRange.range;\n        return {\n            isPast: segRange.end < (nowDate || todayRange.start),\n            isFuture: segRange.start >= (nowDate || todayRange.end),\n            isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n        };\n    }\n    function getEventClassNames(props) {\n        let classNames = ['fc-event'];\n        if (props.isMirror) {\n            classNames.push('fc-event-mirror');\n        }\n        if (props.isDraggable) {\n            classNames.push('fc-event-draggable');\n        }\n        if (props.isStartResizable || props.isEndResizable) {\n            classNames.push('fc-event-resizable');\n        }\n        if (props.isDragging) {\n            classNames.push('fc-event-dragging');\n        }\n        if (props.isResizing) {\n            classNames.push('fc-event-resizing');\n        }\n        if (props.isSelected) {\n            classNames.push('fc-event-selected');\n        }\n        if (props.isStart) {\n            classNames.push('fc-event-start');\n        }\n        if (props.isEnd) {\n            classNames.push('fc-event-end');\n        }\n        if (props.isPast) {\n            classNames.push('fc-event-past');\n        }\n        if (props.isToday) {\n            classNames.push('fc-event-today');\n        }\n        if (props.isFuture) {\n            classNames.push('fc-event-future');\n        }\n        return classNames;\n    }\n    function buildEventRangeKey(eventRange) {\n        return eventRange.instance\n            ? eventRange.instance.instanceId\n            : `${eventRange.def.defId}:${eventRange.range.start.toISOString()}`;\n        // inverse-background events don't have specific instances. TODO: better solution\n    }\n    function getSegAnchorAttrs(seg, context) {\n        let { def, instance } = seg.eventRange;\n        let { url } = def;\n        if (url) {\n            return { href: url };\n        }\n        let { emitter, options } = context;\n        let { eventInteractive } = options;\n        if (eventInteractive == null) {\n            eventInteractive = def.interactive;\n            if (eventInteractive == null) {\n                eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n            }\n        }\n        // mock what happens in EventClicking\n        if (eventInteractive) {\n            // only attach keyboard-related handlers because click handler is already done in EventClicking\n            return createAriaKeyboardAttrs((ev) => {\n                emitter.trigger('eventClick', {\n                    el: ev.target,\n                    event: new EventImpl(context, def, instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            });\n        }\n        return {};\n    }\n\n    const STANDARD_PROPS = {\n        start: identity,\n        end: identity,\n        allDay: Boolean,\n    };\n    function parseDateSpan(raw, dateEnv, defaultDuration) {\n        let span = parseOpenDateSpan(raw, dateEnv);\n        let { range } = span;\n        if (!range.start) {\n            return null;\n        }\n        if (!range.end) {\n            if (defaultDuration == null) {\n                return null;\n            }\n            range.end = dateEnv.add(range.start, defaultDuration);\n        }\n        return span;\n    }\n    /*\n    TODO: somehow combine with parseRange?\n    Will return null if the start/end props were present but parsed invalidly.\n    */\n    function parseOpenDateSpan(raw, dateEnv) {\n        let { refined: standardProps, extra } = refineProps(raw, STANDARD_PROPS);\n        let startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n        let endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n        let { allDay } = standardProps;\n        if (allDay == null) {\n            allDay = (startMeta && startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n        return Object.assign({ range: {\n                start: startMeta ? startMeta.marker : null,\n                end: endMeta ? endMeta.marker : null,\n            }, allDay }, extra);\n    }\n    function isDateSpansEqual(span0, span1) {\n        return rangesEqual(span0.range, span1.range) &&\n            span0.allDay === span1.allDay &&\n            isSpanPropsEqual(span0, span1);\n    }\n    // the NON-DATE-RELATED props\n    function isSpanPropsEqual(span0, span1) {\n        for (let propName in span1) {\n            if (propName !== 'range' && propName !== 'allDay') {\n                if (span0[propName] !== span1[propName]) {\n                    return false;\n                }\n            }\n        }\n        // are there any props that span0 has that span1 DOESN'T have?\n        // both have range/allDay, so no need to special-case.\n        for (let propName in span0) {\n            if (!(propName in span1)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    function buildDateSpanApi(span, dateEnv) {\n        return Object.assign(Object.assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n    }\n    function buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n        return Object.assign(Object.assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n    }\n    function buildRangeApi(range, dateEnv, omitTime) {\n        return {\n            start: dateEnv.toDate(range.start),\n            end: dateEnv.toDate(range.end),\n            startStr: dateEnv.formatIso(range.start, { omitTime }),\n            endStr: dateEnv.formatIso(range.end, { omitTime }),\n        };\n    }\n    function fabricateEventRange(dateSpan, eventUiBases, context) {\n        let res = refineEventDef({ editable: false }, context);\n        let def = parseEventDef(res.refined, res.extra, '', // sourceId\n        dateSpan.allDay, true, // hasEnd\n        context);\n        return {\n            def,\n            ui: compileEventUi(def, eventUiBases),\n            instance: createEventInstance(def.defId, dateSpan.range),\n            range: dateSpan.range,\n            isStart: true,\n            isEnd: true,\n        };\n    }\n\n    let calendarSystemClassMap = {};\n    function registerCalendarSystem(name, theClass) {\n        calendarSystemClassMap[name] = theClass;\n    }\n    function createCalendarSystem(name) {\n        return new calendarSystemClassMap[name]();\n    }\n    class GregorianCalendarSystem {\n        getMarkerYear(d) {\n            return d.getUTCFullYear();\n        }\n        getMarkerMonth(d) {\n            return d.getUTCMonth();\n        }\n        getMarkerDay(d) {\n            return d.getUTCDate();\n        }\n        arrayToMarker(arr) {\n            return arrayToUtcDate(arr);\n        }\n        markerToArray(marker) {\n            return dateToUtcArray(marker);\n        }\n    }\n    registerCalendarSystem('gregory', GregorianCalendarSystem);\n\n    const ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\n    function parse(str) {\n        let m = ISO_RE.exec(str);\n        if (m) {\n            let marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(`0.${m[12]}`) * 1000 : 0));\n            if (isValidDate(marker)) {\n                let timeZoneOffset = null;\n                if (m[13]) {\n                    timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                        Number(m[18] || 0));\n                }\n                return {\n                    marker,\n                    isTimeUnspecified: !m[6],\n                    timeZoneOffset,\n                };\n            }\n        }\n        return null;\n    }\n\n    class DateEnv {\n        constructor(settings) {\n            let timeZone = this.timeZone = settings.timeZone;\n            let isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n            if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n                this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n            }\n            this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n            this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n            this.locale = settings.locale;\n            this.weekDow = settings.locale.week.dow;\n            this.weekDoy = settings.locale.week.doy;\n            if (settings.weekNumberCalculation === 'ISO') {\n                this.weekDow = 1;\n                this.weekDoy = 4;\n            }\n            if (typeof settings.firstDay === 'number') {\n                this.weekDow = settings.firstDay;\n            }\n            if (typeof settings.weekNumberCalculation === 'function') {\n                this.weekNumberFunc = settings.weekNumberCalculation;\n            }\n            this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n            this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n            this.cmdFormatter = settings.cmdFormatter;\n            this.defaultSeparator = settings.defaultSeparator;\n        }\n        // Creating / Parsing\n        createMarker(input) {\n            let meta = this.createMarkerMeta(input);\n            if (meta === null) {\n                return null;\n            }\n            return meta.marker;\n        }\n        createNowMarker() {\n            if (this.canComputeOffset) {\n                return this.timestampToMarker(new Date().valueOf());\n            }\n            // if we can't compute the current date val for a timezone,\n            // better to give the current local date vals than UTC\n            return arrayToUtcDate(dateToLocalArray(new Date()));\n        }\n        createMarkerMeta(input) {\n            if (typeof input === 'string') {\n                return this.parse(input);\n            }\n            let marker = null;\n            if (typeof input === 'number') {\n                marker = this.timestampToMarker(input);\n            }\n            else if (input instanceof Date) {\n                input = input.valueOf();\n                if (!isNaN(input)) {\n                    marker = this.timestampToMarker(input);\n                }\n            }\n            else if (Array.isArray(input)) {\n                marker = arrayToUtcDate(input);\n            }\n            if (marker === null || !isValidDate(marker)) {\n                return null;\n            }\n            return { marker, isTimeUnspecified: false, forcedTzo: null };\n        }\n        parse(s) {\n            let parts = parse(s);\n            if (parts === null) {\n                return null;\n            }\n            let { marker } = parts;\n            let forcedTzo = null;\n            if (parts.timeZoneOffset !== null) {\n                if (this.canComputeOffset) {\n                    marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n                }\n                else {\n                    forcedTzo = parts.timeZoneOffset;\n                }\n            }\n            return { marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo };\n        }\n        // Accessors\n        getYear(marker) {\n            return this.calendarSystem.getMarkerYear(marker);\n        }\n        getMonth(marker) {\n            return this.calendarSystem.getMarkerMonth(marker);\n        }\n        getDay(marker) {\n            return this.calendarSystem.getMarkerDay(marker);\n        }\n        // Adding / Subtracting\n        add(marker, dur) {\n            let a = this.calendarSystem.markerToArray(marker);\n            a[0] += dur.years;\n            a[1] += dur.months;\n            a[2] += dur.days;\n            a[6] += dur.milliseconds;\n            return this.calendarSystem.arrayToMarker(a);\n        }\n        subtract(marker, dur) {\n            let a = this.calendarSystem.markerToArray(marker);\n            a[0] -= dur.years;\n            a[1] -= dur.months;\n            a[2] -= dur.days;\n            a[6] -= dur.milliseconds;\n            return this.calendarSystem.arrayToMarker(a);\n        }\n        addYears(marker, n) {\n            let a = this.calendarSystem.markerToArray(marker);\n            a[0] += n;\n            return this.calendarSystem.arrayToMarker(a);\n        }\n        addMonths(marker, n) {\n            let a = this.calendarSystem.markerToArray(marker);\n            a[1] += n;\n            return this.calendarSystem.arrayToMarker(a);\n        }\n        // Diffing Whole Units\n        diffWholeYears(m0, m1) {\n            let { calendarSystem } = this;\n            if (timeAsMs(m0) === timeAsMs(m1) &&\n                calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n                calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n                return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n            }\n            return null;\n        }\n        diffWholeMonths(m0, m1) {\n            let { calendarSystem } = this;\n            if (timeAsMs(m0) === timeAsMs(m1) &&\n                calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n                return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                    (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n            }\n            return null;\n        }\n        // Range / Duration\n        greatestWholeUnit(m0, m1) {\n            let n = this.diffWholeYears(m0, m1);\n            if (n !== null) {\n                return { unit: 'year', value: n };\n            }\n            n = this.diffWholeMonths(m0, m1);\n            if (n !== null) {\n                return { unit: 'month', value: n };\n            }\n            n = diffWholeWeeks(m0, m1);\n            if (n !== null) {\n                return { unit: 'week', value: n };\n            }\n            n = diffWholeDays(m0, m1);\n            if (n !== null) {\n                return { unit: 'day', value: n };\n            }\n            n = diffHours(m0, m1);\n            if (isInt(n)) {\n                return { unit: 'hour', value: n };\n            }\n            n = diffMinutes(m0, m1);\n            if (isInt(n)) {\n                return { unit: 'minute', value: n };\n            }\n            n = diffSeconds(m0, m1);\n            if (isInt(n)) {\n                return { unit: 'second', value: n };\n            }\n            return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n        }\n        countDurationsBetween(m0, m1, d) {\n            // TODO: can use greatestWholeUnit\n            let diff;\n            if (d.years) {\n                diff = this.diffWholeYears(m0, m1);\n                if (diff !== null) {\n                    return diff / asRoughYears(d);\n                }\n            }\n            if (d.months) {\n                diff = this.diffWholeMonths(m0, m1);\n                if (diff !== null) {\n                    return diff / asRoughMonths(d);\n                }\n            }\n            if (d.days) {\n                diff = diffWholeDays(m0, m1);\n                if (diff !== null) {\n                    return diff / asRoughDays(d);\n                }\n            }\n            return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n        }\n        // Start-Of\n        // these DON'T return zoned-dates. only UTC start-of dates\n        startOf(m, unit) {\n            if (unit === 'year') {\n                return this.startOfYear(m);\n            }\n            if (unit === 'month') {\n                return this.startOfMonth(m);\n            }\n            if (unit === 'week') {\n                return this.startOfWeek(m);\n            }\n            if (unit === 'day') {\n                return startOfDay(m);\n            }\n            if (unit === 'hour') {\n                return startOfHour(m);\n            }\n            if (unit === 'minute') {\n                return startOfMinute(m);\n            }\n            if (unit === 'second') {\n                return startOfSecond(m);\n            }\n            return null;\n        }\n        startOfYear(m) {\n            return this.calendarSystem.arrayToMarker([\n                this.calendarSystem.getMarkerYear(m),\n            ]);\n        }\n        startOfMonth(m) {\n            return this.calendarSystem.arrayToMarker([\n                this.calendarSystem.getMarkerYear(m),\n                this.calendarSystem.getMarkerMonth(m),\n            ]);\n        }\n        startOfWeek(m) {\n            return this.calendarSystem.arrayToMarker([\n                this.calendarSystem.getMarkerYear(m),\n                this.calendarSystem.getMarkerMonth(m),\n                m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n            ]);\n        }\n        // Week Number\n        computeWeekNumber(marker) {\n            if (this.weekNumberFunc) {\n                return this.weekNumberFunc(this.toDate(marker));\n            }\n            return weekOfYear(marker, this.weekDow, this.weekDoy);\n        }\n        // TODO: choke on timeZoneName: long\n        format(marker, formatter, dateOptions = {}) {\n            return formatter.format({\n                marker,\n                timeZoneOffset: dateOptions.forcedTzo != null ?\n                    dateOptions.forcedTzo :\n                    this.offsetForMarker(marker),\n            }, this);\n        }\n        formatRange(start, end, formatter, dateOptions = {}) {\n            if (dateOptions.isEndExclusive) {\n                end = addMs(end, -1);\n            }\n            return formatter.formatRange({\n                marker: start,\n                timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                    dateOptions.forcedStartTzo :\n                    this.offsetForMarker(start),\n            }, {\n                marker: end,\n                timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                    dateOptions.forcedEndTzo :\n                    this.offsetForMarker(end),\n            }, this, dateOptions.defaultSeparator);\n        }\n        /*\n        DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n        might as well use buildIsoString or some other util directly\n        */\n        formatIso(marker, extraOptions = {}) {\n            let timeZoneOffset = null;\n            if (!extraOptions.omitTimeZoneOffset) {\n                if (extraOptions.forcedTzo != null) {\n                    timeZoneOffset = extraOptions.forcedTzo;\n                }\n                else {\n                    timeZoneOffset = this.offsetForMarker(marker);\n                }\n            }\n            return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n        }\n        // TimeZone\n        timestampToMarker(ms) {\n            if (this.timeZone === 'local') {\n                return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n            }\n            if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n                return new Date(ms);\n            }\n            return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n        }\n        offsetForMarker(m) {\n            if (this.timeZone === 'local') {\n                return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n            }\n            if (this.timeZone === 'UTC') {\n                return 0;\n            }\n            if (this.namedTimeZoneImpl) {\n                return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n            }\n            return null;\n        }\n        // Conversion\n        toDate(m, forcedTzo) {\n            if (this.timeZone === 'local') {\n                return arrayToLocalDate(dateToUtcArray(m));\n            }\n            if (this.timeZone === 'UTC') {\n                return new Date(m.valueOf()); // make sure it's a copy\n            }\n            if (!this.namedTimeZoneImpl) {\n                return new Date(m.valueOf() - (forcedTzo || 0));\n            }\n            return new Date(m.valueOf() -\n                this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n        }\n    }\n\n    class NamedTimeZoneImpl {\n        constructor(timeZoneName) {\n            this.timeZoneName = timeZoneName;\n        }\n    }\n\n    class SegHierarchy {\n        constructor() {\n            // settings\n            this.strictOrder = false;\n            this.allowReslicing = false;\n            this.maxCoord = -1; // -1 means no max\n            this.maxStackCnt = -1; // -1 means no max\n            this.levelCoords = []; // ordered\n            this.entriesByLevel = []; // parallel with levelCoords\n            this.stackCnts = {}; // TODO: use better technique!?\n        }\n        addSegs(inputs) {\n            let hiddenEntries = [];\n            for (let input of inputs) {\n                this.insertEntry(input, hiddenEntries);\n            }\n            return hiddenEntries;\n        }\n        insertEntry(entry, hiddenEntries) {\n            let insertion = this.findInsertion(entry);\n            if (this.isInsertionValid(insertion, entry)) {\n                this.insertEntryAt(entry, insertion);\n                return 1;\n            }\n            return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n        }\n        isInsertionValid(insertion, entry) {\n            return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n                (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n        }\n        // returns number of new entries inserted\n        handleInvalidInsertion(insertion, entry, hiddenEntries) {\n            if (this.allowReslicing && insertion.touchingEntry) {\n                return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n            }\n            hiddenEntries.push(entry);\n            return 0;\n        }\n        splitEntry(entry, barrier, hiddenEntries) {\n            let partCnt = 0;\n            let splitHiddenEntries = [];\n            let entrySpan = entry.span;\n            let barrierSpan = barrier.span;\n            if (entrySpan.start < barrierSpan.start) {\n                partCnt += this.insertEntry({\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: { start: entrySpan.start, end: barrierSpan.start },\n                }, splitHiddenEntries);\n            }\n            if (entrySpan.end > barrierSpan.end) {\n                partCnt += this.insertEntry({\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: { start: barrierSpan.end, end: entrySpan.end },\n                }, splitHiddenEntries);\n            }\n            if (partCnt) {\n                hiddenEntries.push({\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }, ...splitHiddenEntries);\n                return partCnt;\n            }\n            hiddenEntries.push(entry);\n            return 0;\n        }\n        insertEntryAt(entry, insertion) {\n            let { entriesByLevel, levelCoords } = this;\n            if (insertion.lateral === -1) {\n                // create a new level\n                insertAt(levelCoords, insertion.level, insertion.levelCoord);\n                insertAt(entriesByLevel, insertion.level, [entry]);\n            }\n            else {\n                // insert into existing level\n                insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n            }\n            this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n        }\n        findInsertion(newEntry) {\n            let { levelCoords, entriesByLevel, strictOrder, stackCnts } = this;\n            let levelCnt = levelCoords.length;\n            let candidateCoord = 0;\n            let touchingLevel = -1;\n            let touchingLateral = -1;\n            let touchingEntry = null;\n            let stackCnt = 0;\n            for (let trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n                let trackingCoord = levelCoords[trackingLevel];\n                // if the current level is past the placed entry, we have found a good empty space and can stop.\n                // if strictOrder, keep finding more lateral intersections.\n                if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                    break;\n                }\n                let trackingEntries = entriesByLevel[trackingLevel];\n                let trackingEntry;\n                let searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n                let lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n                while ( // loop through entries that horizontally intersect\n                (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                    trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n                ) {\n                    let trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                    // intersects into the top of the candidate?\n                    if (trackingEntryBottom > candidateCoord) {\n                        candidateCoord = trackingEntryBottom;\n                        touchingEntry = trackingEntry;\n                        touchingLevel = trackingLevel;\n                        touchingLateral = lateralIndex;\n                    }\n                    // butts up against top of candidate? (will happen if just intersected as well)\n                    if (trackingEntryBottom === candidateCoord) {\n                        // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                        stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                    }\n                    lateralIndex += 1;\n                }\n            }\n            // the destination level will be after touchingEntry's level. find it\n            let destLevel = 0;\n            if (touchingEntry) {\n                destLevel = touchingLevel + 1;\n                while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                    destLevel += 1;\n                }\n            }\n            // if adding to an existing level, find where to insert\n            let destLateral = -1;\n            if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n                destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n            }\n            return {\n                touchingLevel,\n                touchingLateral,\n                touchingEntry,\n                stackCnt,\n                levelCoord: candidateCoord,\n                level: destLevel,\n                lateral: destLateral,\n            };\n        }\n        // sorted by levelCoord (lowest to highest)\n        toRects() {\n            let { entriesByLevel, levelCoords } = this;\n            let levelCnt = entriesByLevel.length;\n            let rects = [];\n            for (let level = 0; level < levelCnt; level += 1) {\n                let entries = entriesByLevel[level];\n                let levelCoord = levelCoords[level];\n                for (let entry of entries) {\n                    rects.push(Object.assign(Object.assign({}, entry), { levelCoord }));\n                }\n            }\n            return rects;\n        }\n    }\n    function getEntrySpanEnd(entry) {\n        return entry.span.end;\n    }\n    function buildEntryKey(entry) {\n        return entry.index + ':' + entry.span.start;\n    }\n    // returns groups with entries sorted by input order\n    function groupIntersectingEntries(entries) {\n        let merges = [];\n        for (let entry of entries) {\n            let filteredMerges = [];\n            let hungryMerge = {\n                span: entry.span,\n                entries: [entry],\n            };\n            for (let merge of merges) {\n                if (intersectSpans(merge.span, hungryMerge.span)) {\n                    hungryMerge = {\n                        entries: merge.entries.concat(hungryMerge.entries),\n                        span: joinSpans(merge.span, hungryMerge.span),\n                    };\n                }\n                else {\n                    filteredMerges.push(merge);\n                }\n            }\n            filteredMerges.push(hungryMerge);\n            merges = filteredMerges;\n        }\n        return merges;\n    }\n    function joinSpans(span0, span1) {\n        return {\n            start: Math.min(span0.start, span1.start),\n            end: Math.max(span0.end, span1.end),\n        };\n    }\n    function intersectSpans(span0, span1) {\n        let start = Math.max(span0.start, span1.start);\n        let end = Math.min(span0.end, span1.end);\n        if (start < end) {\n            return { start, end };\n        }\n        return null;\n    }\n    // general util\n    // ---------------------------------------------------------------------------------------------------------------------\n    function insertAt(arr, index, item) {\n        arr.splice(index, 0, item);\n    }\n    function binarySearch(a, searchVal, getItemVal) {\n        let startIndex = 0;\n        let endIndex = a.length; // exclusive\n        if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n            return [0, 0];\n        }\n        if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n            return [endIndex, 0];\n        }\n        while (startIndex < endIndex) {\n            let middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n            let middleVal = getItemVal(a[middleIndex]);\n            if (searchVal < middleVal) {\n                endIndex = middleIndex;\n            }\n            else if (searchVal > middleVal) {\n                startIndex = middleIndex + 1;\n            }\n            else { // equal!\n                return [middleIndex, 1];\n            }\n        }\n        return [startIndex, 0];\n    }\n\n    class Interaction {\n        constructor(settings) {\n            this.component = settings.component;\n            this.isHitComboAllowed = settings.isHitComboAllowed || null;\n        }\n        destroy() {\n        }\n    }\n    function parseInteractionSettings(component, input) {\n        return {\n            component,\n            el: input.el,\n            useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n            isHitComboAllowed: input.isHitComboAllowed || null,\n        };\n    }\n    function interactionSettingsToStore(settings) {\n        return {\n            [settings.component.uid]: settings,\n        };\n    }\n    // global state\n    const interactionSettingsStore = {};\n\n    /*\n    An abstraction for a dragging interaction originating on an event.\n    Does higher-level things than PointerDragger, such as possibly:\n    - a \"mirror\" that moves with the pointer\n    - a minimum number of pixels or other criteria for a true drag to begin\n\n    subclasses must emit:\n    - pointerdown\n    - dragstart\n    - dragmove\n    - pointerup\n    - dragend\n    */\n    class ElementDragging {\n        constructor(el, selector) {\n            this.emitter = new Emitter();\n        }\n        destroy() {\n        }\n        setMirrorIsVisible(bool) {\n            // optional if subclass doesn't want to support a mirror\n        }\n        setMirrorNeedsRevert(bool) {\n            // optional if subclass doesn't want to support a mirror\n        }\n        setAutoScrollEnabled(bool) {\n            // optional\n        }\n    }\n\n    // TODO: get rid of this in favor of options system,\n    // tho it's really easy to access this globally rather than pass thru options.\n    const config = {};\n\n    /*\n    Information about what will happen when an external element is dragged-and-dropped\n    onto a calendar. Contains information for creating an event.\n    */\n    const DRAG_META_REFINERS = {\n        startTime: createDuration,\n        duration: createDuration,\n        create: Boolean,\n        sourceId: String,\n    };\n    function parseDragMeta(raw) {\n        let { refined, extra } = refineProps(raw, DRAG_META_REFINERS);\n        return {\n            startTime: refined.startTime || null,\n            duration: refined.duration || null,\n            create: refined.create != null ? refined.create : true,\n            sourceId: refined.sourceId,\n            leftoverProps: extra,\n        };\n    }\n\n    class CalendarRoot extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.state = {\n                forPrint: false,\n            };\n            this.handleBeforePrint = () => {\n                this.setState({ forPrint: true });\n            };\n            this.handleAfterPrint = () => {\n                this.setState({ forPrint: false });\n            };\n        }\n        render() {\n            let { props } = this;\n            let { options } = props;\n            let { forPrint } = this.state;\n            let isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n            let height = (!isHeightAuto && options.height != null) ? options.height : '';\n            let classNames = [\n                'fc',\n                forPrint ? 'fc-media-print' : 'fc-media-screen',\n                `fc-direction-${options.direction}`,\n                props.theme.getClass('root'),\n            ];\n            if (!getCanVGrowWithinCell()) {\n                classNames.push('fc-liquid-hack');\n            }\n            return props.children(classNames, height, isHeightAuto, forPrint);\n        }\n        componentDidMount() {\n            let { emitter } = this.props;\n            emitter.on('_beforeprint', this.handleBeforePrint);\n            emitter.on('_afterprint', this.handleAfterPrint);\n        }\n        componentWillUnmount() {\n            let { emitter } = this.props;\n            emitter.off('_beforeprint', this.handleBeforePrint);\n            emitter.off('_afterprint', this.handleAfterPrint);\n        }\n    }\n\n    // Computes a default column header formatting string if `colFormat` is not explicitly defined\n    function computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n        // if more than one week row, or if there are a lot of columns with not much space,\n        // put just the day numbers will be in each cell\n        if (!datesRepDistinctDays || dayCnt > 10) {\n            return createFormatter({ weekday: 'short' }); // \"Sat\"\n        }\n        if (dayCnt > 1) {\n            return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n        }\n        return createFormatter({ weekday: 'long' }); // \"Saturday\"\n    }\n\n    const CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\n    function renderInner$1(renderProps) {\n        return renderProps.text;\n    }\n\n    class ContentInjector extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.id = guid();\n            this.queuedDomNodes = [];\n            this.currentDomNodes = [];\n            this.handleEl = (el) => {\n                if (this.props.elRef) {\n                    setRef(this.props.elRef, el);\n                }\n            };\n        }\n        render() {\n            const { props, context } = this;\n            const { options } = context;\n            const { customGenerator, defaultGenerator, renderProps } = props;\n            const attrs = buildElAttrs(props);\n            let useDefault = false;\n            let innerContent;\n            let queuedDomNodes = [];\n            let currentGeneratorMeta;\n            if (customGenerator != null) {\n                const customGeneratorRes = typeof customGenerator === 'function' ?\n                    customGenerator(renderProps, h) :\n                    customGenerator;\n                if (customGeneratorRes === true) {\n                    useDefault = true;\n                }\n                else {\n                    const isObject = customGeneratorRes && typeof customGeneratorRes === 'object'; // non-null\n                    if (isObject && ('html' in customGeneratorRes)) {\n                        attrs.dangerouslySetInnerHTML = { __html: customGeneratorRes.html };\n                    }\n                    else if (isObject && ('domNodes' in customGeneratorRes)) {\n                        queuedDomNodes = Array.prototype.slice.call(customGeneratorRes.domNodes);\n                    }\n                    else if (!isObject && typeof customGeneratorRes !== 'function') {\n                        // primitive value (like string or number)\n                        innerContent = customGeneratorRes;\n                    }\n                    else {\n                        // an exotic object for handleCustomRendering\n                        currentGeneratorMeta = customGeneratorRes;\n                    }\n                }\n            }\n            else {\n                useDefault = !hasCustomRenderingHandler(props.generatorName, options);\n            }\n            if (useDefault && defaultGenerator) {\n                innerContent = defaultGenerator(renderProps);\n            }\n            this.queuedDomNodes = queuedDomNodes;\n            this.currentGeneratorMeta = currentGeneratorMeta;\n            return h(props.elTag, attrs, innerContent);\n        }\n        componentDidMount() {\n            this.applyQueueudDomNodes();\n            this.triggerCustomRendering(true);\n        }\n        componentDidUpdate() {\n            this.applyQueueudDomNodes();\n            this.triggerCustomRendering(true);\n        }\n        componentWillUnmount() {\n            this.triggerCustomRendering(false); // TODO: different API for removal?\n        }\n        triggerCustomRendering(isActive) {\n            var _a;\n            const { props, context } = this;\n            const { handleCustomRendering, customRenderingMetaMap } = context.options;\n            if (handleCustomRendering) {\n                const generatorMeta = (_a = this.currentGeneratorMeta) !== null && _a !== void 0 ? _a : customRenderingMetaMap === null || customRenderingMetaMap === void 0 ? void 0 : customRenderingMetaMap[props.generatorName];\n                if (generatorMeta) {\n                    handleCustomRendering(Object.assign(Object.assign({ id: this.id, isActive, containerEl: this.base, reportNewContainerEl: this.handleEl, // for customRenderingReplacesEl\n                        generatorMeta }, props), { elClasses: props.elClasses.filter(isTruthy) }));\n                }\n            }\n        }\n        applyQueueudDomNodes() {\n            const { queuedDomNodes, currentDomNodes } = this;\n            const el = this.base;\n            if (!isArraysEqual(queuedDomNodes, currentDomNodes)) {\n                currentDomNodes.forEach(removeElement);\n                for (let newNode of queuedDomNodes) {\n                    el.appendChild(newNode);\n                }\n                this.currentDomNodes = queuedDomNodes;\n            }\n        }\n    }\n    ContentInjector.addPropsEquality({\n        elClasses: isArraysEqual,\n        elStyle: isPropsEqual,\n        elAttrs: isNonHandlerPropsEqual,\n        renderProps: isPropsEqual,\n    });\n    // Util\n    /*\n    Does UI-framework provide custom way of rendering?\n    */\n    function hasCustomRenderingHandler(generatorName, options) {\n        var _a;\n        return Boolean(options.handleCustomRendering &&\n            generatorName &&\n            ((_a = options.customRenderingMetaMap) === null || _a === void 0 ? void 0 : _a[generatorName]));\n    }\n    function buildElAttrs(props, extraClassNames) {\n        const attrs = Object.assign(Object.assign({}, props.elAttrs), { ref: props.elRef });\n        if (props.elClasses || extraClassNames) {\n            attrs.className = (props.elClasses || [])\n                .concat(extraClassNames || [])\n                .concat(attrs.className || [])\n                .filter(Boolean)\n                .join(' ');\n        }\n        if (props.elStyle) {\n            attrs.style = props.elStyle;\n        }\n        return attrs;\n    }\n    function isTruthy(val) {\n        return Boolean(val);\n    }\n\n    const RenderId = createContext(0);\n\n    class ContentContainer extends d {\n        constructor() {\n            super(...arguments);\n            this.InnerContent = InnerContentInjector.bind(undefined, this);\n        }\n        render() {\n            const { props } = this;\n            const generatedClassNames = generateClassNames(props.classNameGenerator, props.renderProps);\n            if (props.children) {\n                const elAttrs = buildElAttrs(props, generatedClassNames);\n                const children = props.children(this.InnerContent, props.renderProps, elAttrs);\n                if (props.elTag) {\n                    return h(props.elTag, elAttrs, children);\n                }\n                else {\n                    return children;\n                }\n            }\n            else {\n                return h((ContentInjector), Object.assign(Object.assign({}, props), { elTag: props.elTag || 'div', elClasses: (props.elClasses || []).concat(generatedClassNames), renderId: this.context }));\n            }\n        }\n        componentDidMount() {\n            var _a, _b;\n            (_b = (_a = this.props).didMount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.base }));\n        }\n        componentWillUnmount() {\n            var _a, _b;\n            (_b = (_a = this.props).willUnmount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.base }));\n        }\n    }\n    ContentContainer.contextType = RenderId;\n    function InnerContentInjector(containerComponent, props) {\n        const parentProps = containerComponent.props;\n        return h((ContentInjector), Object.assign({ renderProps: parentProps.renderProps, generatorName: parentProps.generatorName, customGenerator: parentProps.customGenerator, defaultGenerator: parentProps.defaultGenerator, renderId: containerComponent.context }, props));\n    }\n    // Utils\n    function generateClassNames(classNameGenerator, renderProps) {\n        const classNames = typeof classNameGenerator === 'function' ?\n            classNameGenerator(renderProps) :\n            classNameGenerator || [];\n        return typeof classNames === 'string' ? [classNames] : classNames;\n    }\n\n    // BAD name for this class now. used in the Header\n    class TableDateCell extends BaseComponent {\n        render() {\n            let { dateEnv, options, theme, viewApi } = this.context;\n            let { props } = this;\n            let { date, dateProfile } = props;\n            let dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n            let classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n            let text = dateEnv.format(date, props.dayHeaderFormat);\n            // if colCnt is 1, we are already in a day-view and don't need a navlink\n            let navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n                ? buildNavLinkAttrs(this.context, date)\n                : {};\n            let renderProps = Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraRenderProps), { text }), dayMeta);\n            return (h(ContentContainer, { elTag: \"th\", elClasses: classNames, elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan, 'data-date': !dayMeta.isDisabled ? formatDayString(date) : undefined }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContainer) => (h(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (h(InnerContainer, { elTag: \"a\", elAttrs: navLinkAttrs, elClasses: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky && 'fc-sticky',\n                ] }))))));\n        }\n    }\n\n    const WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\n    class TableDowCell extends BaseComponent {\n        render() {\n            let { props } = this;\n            let { dateEnv, theme, viewApi, options } = this.context;\n            let date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n            let dateMeta = {\n                dow: props.dow,\n                isDisabled: false,\n                isFuture: false,\n                isPast: false,\n                isToday: false,\n                isOther: false,\n            };\n            let text = dateEnv.format(date, props.dayHeaderFormat);\n            let renderProps = Object.assign(Object.assign(Object.assign(Object.assign({ // TODO: make this public?\n                date }, dateMeta), { view: viewApi }), props.extraRenderProps), { text });\n            return (h(ContentContainer, { elTag: \"th\", elClasses: [\n                    CLASS_NAME,\n                    ...getDayClassNames(dateMeta, theme),\n                    ...(props.extraClassNames || []),\n                ], elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => (h(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                h(InnerContent, { elTag: \"a\", elClasses: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky && 'fc-sticky',\n                    ], elAttrs: {\n                        'aria-label': dateEnv.format(date, WEEKDAY_FORMAT),\n                    } })))));\n        }\n    }\n\n    class NowTimer extends d {\n        constructor(props, context) {\n            super(props, context);\n            this.initialNowDate = getNow(context.options.now, context.dateEnv);\n            this.initialNowQueriedMs = new Date().valueOf();\n            this.state = this.computeTiming().currentState;\n        }\n        render() {\n            let { props, state } = this;\n            return props.children(state.nowDate, state.todayRange);\n        }\n        componentDidMount() {\n            this.setTimeout();\n        }\n        componentDidUpdate(prevProps) {\n            if (prevProps.unit !== this.props.unit) {\n                this.clearTimeout();\n                this.setTimeout();\n            }\n        }\n        componentWillUnmount() {\n            this.clearTimeout();\n        }\n        computeTiming() {\n            let { props, context } = this;\n            let unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n            let currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n            let nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n            let waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n            // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n            // ensure no longer than a day\n            waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n            return {\n                currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n                nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n                waitMs,\n            };\n        }\n        setTimeout() {\n            let { nextState, waitMs } = this.computeTiming();\n            this.timeoutId = setTimeout(() => {\n                this.setState(nextState, () => {\n                    this.setTimeout();\n                });\n            }, waitMs);\n        }\n        clearTimeout() {\n            if (this.timeoutId) {\n                clearTimeout(this.timeoutId);\n            }\n        }\n    }\n    NowTimer.contextType = ViewContextType;\n    function buildDayRange(date) {\n        let start = startOfDay(date);\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n\n    class DayHeader extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        }\n        render() {\n            let { context } = this;\n            let { dates, dateProfile, datesRepDistinctDays, renderIntro } = this.props;\n            let dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n            return (h(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (h(\"tr\", { role: \"row\" },\n                renderIntro && renderIntro('day'),\n                dates.map((date) => (datesRepDistinctDays ? (h(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (h(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))))))));\n        }\n    }\n    function createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n        return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n    }\n\n    class DaySeriesModel {\n        constructor(range, dateProfileGenerator) {\n            let date = range.start;\n            let { end } = range;\n            let indices = [];\n            let dates = [];\n            let dayIndex = -1;\n            while (date < end) { // loop each day from start to end\n                if (dateProfileGenerator.isHiddenDay(date)) {\n                    indices.push(dayIndex + 0.5); // mark that it's between indices\n                }\n                else {\n                    dayIndex += 1;\n                    indices.push(dayIndex);\n                    dates.push(date);\n                }\n                date = addDays(date, 1);\n            }\n            this.dates = dates;\n            this.indices = indices;\n            this.cnt = dates.length;\n        }\n        sliceRange(range) {\n            let firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n            let lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n            let clippedFirstIndex = Math.max(0, firstIndex);\n            let clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n            // deal with in-between indices\n            clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n            clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n            if (clippedFirstIndex <= clippedLastIndex) {\n                return {\n                    firstIndex: clippedFirstIndex,\n                    lastIndex: clippedLastIndex,\n                    isStart: firstIndex === clippedFirstIndex,\n                    isEnd: lastIndex === clippedLastIndex,\n                };\n            }\n            return null;\n        }\n        // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n        // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n        // If before the first offset, returns a negative number.\n        // If after the last offset, returns an offset past the last cell offset.\n        // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n        getDateDayIndex(date) {\n            let { indices } = this;\n            let dayOffset = Math.floor(diffDays(this.dates[0], date));\n            if (dayOffset < 0) {\n                return indices[0] - 1;\n            }\n            if (dayOffset >= indices.length) {\n                return indices[indices.length - 1] + 1;\n            }\n            return indices[dayOffset];\n        }\n    }\n\n    class DayTableModel {\n        constructor(daySeries, breakOnWeeks) {\n            let { dates } = daySeries;\n            let daysPerRow;\n            let firstDay;\n            let rowCnt;\n            if (breakOnWeeks) {\n                // count columns until the day-of-week repeats\n                firstDay = dates[0].getUTCDay();\n                for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                    if (dates[daysPerRow].getUTCDay() === firstDay) {\n                        break;\n                    }\n                }\n                rowCnt = Math.ceil(dates.length / daysPerRow);\n            }\n            else {\n                rowCnt = 1;\n                daysPerRow = dates.length;\n            }\n            this.rowCnt = rowCnt;\n            this.colCnt = daysPerRow;\n            this.daySeries = daySeries;\n            this.cells = this.buildCells();\n            this.headerDates = this.buildHeaderDates();\n        }\n        buildCells() {\n            let rows = [];\n            for (let row = 0; row < this.rowCnt; row += 1) {\n                let cells = [];\n                for (let col = 0; col < this.colCnt; col += 1) {\n                    cells.push(this.buildCell(row, col));\n                }\n                rows.push(cells);\n            }\n            return rows;\n        }\n        buildCell(row, col) {\n            let date = this.daySeries.dates[row * this.colCnt + col];\n            return {\n                key: date.toISOString(),\n                date,\n            };\n        }\n        buildHeaderDates() {\n            let dates = [];\n            for (let col = 0; col < this.colCnt; col += 1) {\n                dates.push(this.cells[0][col].date);\n            }\n            return dates;\n        }\n        sliceRange(range) {\n            let { colCnt } = this;\n            let seriesSeg = this.daySeries.sliceRange(range);\n            let segs = [];\n            if (seriesSeg) {\n                let { firstIndex, lastIndex } = seriesSeg;\n                let index = firstIndex;\n                while (index <= lastIndex) {\n                    let row = Math.floor(index / colCnt);\n                    let nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                    segs.push({\n                        row,\n                        firstCol: index % colCnt,\n                        lastCol: (nextIndex - 1) % colCnt,\n                        isStart: seriesSeg.isStart && index === firstIndex,\n                        isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                    });\n                    index = nextIndex;\n                }\n            }\n            return segs;\n        }\n    }\n\n    class Slicer {\n        constructor() {\n            this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n            this.sliceDateSelection = memoize(this._sliceDateSpan);\n            this.sliceEventStore = memoize(this._sliceEventStore);\n            this.sliceEventDrag = memoize(this._sliceInteraction);\n            this.sliceEventResize = memoize(this._sliceInteraction);\n            this.forceDayIfListItem = false; // hack\n        }\n        sliceProps(props, dateProfile, nextDayThreshold, context, ...extraArgs) {\n            let { eventUiBases } = props;\n            let eventSegs = this.sliceEventStore(props.eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs);\n            return {\n                dateSelectionSegs: this.sliceDateSelection(props.dateSelection, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs),\n                businessHourSegs: this.sliceBusinessHours(props.businessHours, dateProfile, nextDayThreshold, context, ...extraArgs),\n                fgEventSegs: eventSegs.fg,\n                bgEventSegs: eventSegs.bg,\n                eventDrag: this.sliceEventDrag(props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n                eventResize: this.sliceEventResize(props.eventResize, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n                eventSelection: props.eventSelection,\n            }; // TODO: give interactionSegs?\n        }\n        sliceNowDate(// does not memoize\n        date, dateProfile, nextDayThreshold, context, ...extraArgs) {\n            return this._sliceDateSpan({ range: { start: date, end: addMs(date, 1) }, allDay: false }, // add 1 ms, protect against null range\n            dateProfile, nextDayThreshold, {}, context, ...extraArgs);\n        }\n        _sliceBusinessHours(businessHours, dateProfile, nextDayThreshold, context, ...extraArgs) {\n            if (!businessHours) {\n                return [];\n            }\n            return this._sliceEventStore(expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context), {}, dateProfile, nextDayThreshold, ...extraArgs).bg;\n        }\n        _sliceEventStore(eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n            if (eventStore) {\n                let rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n                return {\n                    bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                    fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n                };\n            }\n            return { bg: [], fg: [] };\n        }\n        _sliceInteraction(interaction, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n            if (!interaction) {\n                return null;\n            }\n            let rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n                affectedInstances: interaction.affectedEvents.instances,\n                isEvent: interaction.isEvent,\n            };\n        }\n        _sliceDateSpan(dateSpan, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs) {\n            if (!dateSpan) {\n                return [];\n            }\n            let activeRange = computeActiveRange(dateProfile, Boolean(nextDayThreshold));\n            let activeDateSpanRange = intersectRanges(dateSpan.range, activeRange);\n            if (activeDateSpanRange) {\n                dateSpan = Object.assign(Object.assign({}, dateSpan), { range: activeDateSpanRange });\n                let eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n                let segs = this.sliceRange(dateSpan.range, ...extraArgs);\n                for (let seg of segs) {\n                    seg.eventRange = eventRange;\n                }\n                return segs;\n            }\n            return [];\n        }\n        /*\n        \"complete\" seg means it has component and eventRange\n        */\n        sliceEventRanges(eventRanges, extraArgs) {\n            let segs = [];\n            for (let eventRange of eventRanges) {\n                segs.push(...this.sliceEventRange(eventRange, extraArgs));\n            }\n            return segs;\n        }\n        /*\n        \"complete\" seg means it has component and eventRange\n        */\n        sliceEventRange(eventRange, extraArgs) {\n            let dateRange = eventRange.range;\n            // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n            if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n                dateRange = {\n                    start: dateRange.start,\n                    end: addDays(dateRange.start, 1),\n                };\n            }\n            let segs = this.sliceRange(dateRange, ...extraArgs);\n            for (let seg of segs) {\n                seg.eventRange = eventRange;\n                seg.isStart = eventRange.isStart && seg.isStart;\n                seg.isEnd = eventRange.isEnd && seg.isEnd;\n            }\n            return segs;\n        }\n    }\n    /*\n    for incorporating slotMinTime/slotMaxTime if appropriate\n    TODO: should be part of DateProfile!\n    TimelineDateProfile already does this btw\n    */\n    function computeActiveRange(dateProfile, isComponentAllDay) {\n        let range = dateProfile.activeRange;\n        if (isComponentAllDay) {\n            return range;\n        }\n        return {\n            start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n            end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n        };\n    }\n\n    function reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n        switch (action.type) {\n            case 'RECEIVE_EVENTS': // raw\n                return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n            case 'RESET_RAW_EVENTS':\n                return resetRawEvents(eventStore, eventSources[action.sourceId], action.rawEvents, context);\n            case 'ADD_EVENTS': // already parsed, but not expanded\n                return addEvent(eventStore, action.eventStore, // new ones\n                dateProfile ? dateProfile.activeRange : null, context);\n            case 'RESET_EVENTS':\n                return action.eventStore;\n            case 'MERGE_EVENTS': // already parsed and expanded\n                return mergeEventStores(eventStore, action.eventStore);\n            case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n            case 'NEXT':\n            case 'CHANGE_DATE':\n            case 'CHANGE_VIEW_TYPE':\n                if (dateProfile) {\n                    return expandRecurring(eventStore, dateProfile.activeRange, context);\n                }\n                return eventStore;\n            case 'REMOVE_EVENTS':\n                return excludeSubEventStore(eventStore, action.eventStore);\n            case 'REMOVE_EVENT_SOURCE':\n                return excludeEventsBySourceId(eventStore, action.sourceId);\n            case 'REMOVE_ALL_EVENT_SOURCES':\n                return filterEventStoreDefs(eventStore, (eventDef) => (!eventDef.sourceId // only keep events with no source id\n                ));\n            case 'REMOVE_ALL_EVENTS':\n                return createEmptyEventStore();\n            default:\n                return eventStore;\n        }\n    }\n    function receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n        if (eventSource && // not already removed\n            fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n        ) {\n            let subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n            if (fetchRange) {\n                subset = expandRecurring(subset, fetchRange, context);\n            }\n            return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n        }\n        return eventStore;\n    }\n    function resetRawEvents(existingEventStore, eventSource, rawEvents, context) {\n        const { defIdMap, instanceIdMap } = buildPublicIdMaps(existingEventStore);\n        let newEventStore = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context, false, defIdMap, instanceIdMap);\n        if (eventSource.fetchRange) {\n            newEventStore = expandRecurring(newEventStore, eventSource.fetchRange, context);\n        }\n        return newEventStore;\n    }\n    function transformRawEvents(rawEvents, eventSource, context) {\n        let calEachTransform = context.options.eventDataTransform;\n        let sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n        if (sourceEachTransform) {\n            rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n        }\n        if (calEachTransform) {\n            rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n        }\n        return rawEvents;\n    }\n    function transformEachRawEvent(rawEvents, func) {\n        let refinedEvents;\n        if (!func) {\n            refinedEvents = rawEvents;\n        }\n        else {\n            refinedEvents = [];\n            for (let rawEvent of rawEvents) {\n                let refinedEvent = func(rawEvent);\n                if (refinedEvent) {\n                    refinedEvents.push(refinedEvent);\n                }\n                else if (refinedEvent == null) {\n                    refinedEvents.push(rawEvent);\n                } // if a different falsy value, do nothing\n            }\n        }\n        return refinedEvents;\n    }\n    function addEvent(eventStore, subset, expandRange, context) {\n        if (expandRange) {\n            subset = expandRecurring(subset, expandRange, context);\n        }\n        return mergeEventStores(eventStore, subset);\n    }\n    function rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n        let { defs } = eventStore;\n        let instances = mapHash(eventStore.instances, (instance) => {\n            let def = defs[instance.defId];\n            if (def.allDay || def.recurringDef) {\n                return instance; // isn't dependent on timezone\n            }\n            return Object.assign(Object.assign({}, instance), { range: {\n                    start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                    end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n                }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n        });\n        return { defs, instances };\n    }\n    function excludeEventsBySourceId(eventStore, sourceId) {\n        return filterEventStoreDefs(eventStore, (eventDef) => eventDef.sourceId !== sourceId);\n    }\n    // QUESTION: why not just return instances? do a general object-property-exclusion util\n    function excludeInstances(eventStore, removals) {\n        return {\n            defs: eventStore.defs,\n            instances: filterHash(eventStore.instances, (instance) => !removals[instance.instanceId]),\n        };\n    }\n    function buildPublicIdMaps(eventStore) {\n        const { defs, instances } = eventStore;\n        const defIdMap = {};\n        const instanceIdMap = {};\n        for (let defId in defs) {\n            const def = defs[defId];\n            const { publicId } = def;\n            if (publicId) {\n                defIdMap[publicId] = defId;\n            }\n        }\n        for (let instanceId in instances) {\n            const instance = instances[instanceId];\n            const def = defs[instance.defId];\n            const { publicId } = def;\n            if (publicId) {\n                instanceIdMap[publicId] = instanceId;\n            }\n        }\n        return { defIdMap, instanceIdMap };\n    }\n\n    // high-level segmenting-aware tester functions\n    // ------------------------------------------------------------------------------------------------------------------------\n    function isInteractionValid(interaction, dateProfile, context) {\n        let { instances } = interaction.mutatedEvents;\n        for (let instanceId in instances) {\n            if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n                return false;\n            }\n        }\n        return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n    }\n    function isDateSelectionValid(dateSelection, dateProfile, context) {\n        if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n            return false;\n        }\n        return isNewPropsValid({ dateSelection }, context);\n    }\n    function isNewPropsValid(newProps, context) {\n        let calendarState = context.getCurrentData();\n        let props = Object.assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n        return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n    }\n    function isPropsValid(state, context, dateSpanMeta = {}, filterConfig) {\n        if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n            return false;\n        }\n        if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n            return false;\n        }\n        return true;\n    }\n    // Moving Event Validation\n    // ------------------------------------------------------------------------------------------------------------------------\n    function isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n        let currentState = context.getCurrentData();\n        let interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n        let subjectEventStore = interaction.mutatedEvents;\n        let subjectDefs = subjectEventStore.defs;\n        let subjectInstances = subjectEventStore.instances;\n        let subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n            state.eventUiBases :\n            { '': currentState.selectionConfig });\n        if (filterConfig) {\n            subjectConfigs = mapHash(subjectConfigs, filterConfig);\n        }\n        // exclude the subject events. TODO: exclude defs too?\n        let otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n        let otherDefs = otherEventStore.defs;\n        let otherInstances = otherEventStore.instances;\n        let otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n        for (let subjectInstanceId in subjectInstances) {\n            let subjectInstance = subjectInstances[subjectInstanceId];\n            let subjectRange = subjectInstance.range;\n            let subjectConfig = subjectConfigs[subjectInstance.defId];\n            let subjectDef = subjectDefs[subjectInstance.defId];\n            // constraint\n            if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n                return false;\n            }\n            // overlap\n            let { eventOverlap } = context.options;\n            let eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n            for (let otherInstanceId in otherInstances) {\n                let otherInstance = otherInstances[otherInstanceId];\n                // intersect! evaluate\n                if (rangesIntersect(subjectRange, otherInstance.range)) {\n                    let otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                    // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                    if (otherOverlap === false && interaction.isEvent) {\n                        return false;\n                    }\n                    if (subjectConfig.overlap === false) {\n                        return false;\n                    }\n                    if (eventOverlapFunc && !eventOverlapFunc(new EventImpl(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                    new EventImpl(context, subjectDef, subjectInstance))) {\n                        return false;\n                    }\n                }\n            }\n            // allow (a function)\n            let calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n            for (let subjectAllow of subjectConfig.allows) {\n                let subjectDateSpan = Object.assign(Object.assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n                let origDef = calendarEventStore.defs[subjectDef.defId];\n                let origInstance = calendarEventStore.instances[subjectInstanceId];\n                let eventApi;\n                if (origDef) { // was previously in the calendar\n                    eventApi = new EventImpl(context, origDef, origInstance);\n                }\n                else { // was an external event\n                    eventApi = new EventImpl(context, subjectDef); // no instance, because had no dates\n                }\n                if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    // Date Selection Validation\n    // ------------------------------------------------------------------------------------------------------------------------\n    function isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n        let relevantEventStore = state.eventStore;\n        let relevantDefs = relevantEventStore.defs;\n        let relevantInstances = relevantEventStore.instances;\n        let selection = state.dateSelection;\n        let selectionRange = selection.range;\n        let { selectionConfig } = context.getCurrentData();\n        if (filterConfig) {\n            selectionConfig = filterConfig(selectionConfig);\n        }\n        // constraint\n        if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        let { selectOverlap } = context.options;\n        let selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n        for (let relevantInstanceId in relevantInstances) {\n            let relevantInstance = relevantInstances[relevantInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(selectionRange, relevantInstance.range)) {\n                if (selectionConfig.overlap === false) {\n                    return false;\n                }\n                if (selectOverlapFunc && !selectOverlapFunc(new EventImpl(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        for (let selectionAllow of selectionConfig.allows) {\n            let fullDateSpan = Object.assign(Object.assign({}, dateSpanMeta), selection);\n            if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    // Constraint Utils\n    // ------------------------------------------------------------------------------------------------------------------------\n    function allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n        for (let constraint of constraints) {\n            if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    function constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\n    otherEventStore, // for if constraint is an even group ID\n    businessHoursUnexpanded, // for if constraint is 'businessHours'\n    context) {\n        if (constraint === 'businessHours') {\n            return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n        }\n        if (typeof constraint === 'string') { // an group ID\n            return eventStoreToRanges(filterEventStoreDefs(otherEventStore, (eventDef) => eventDef.groupId === constraint));\n        }\n        if (typeof constraint === 'object' && constraint) { // non-null object\n            return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n        }\n        return []; // if it's false\n    }\n    // TODO: move to event-store file?\n    function eventStoreToRanges(eventStore) {\n        let { instances } = eventStore;\n        let ranges = [];\n        for (let instanceId in instances) {\n            ranges.push(instances[instanceId].range);\n        }\n        return ranges;\n    }\n    // TODO: move to geom file?\n    function anyRangesContainRange(outerRanges, innerRange) {\n        for (let outerRange of outerRanges) {\n            if (rangeContainsRange(outerRange, innerRange)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    class JsonRequestError extends Error {\n        constructor(message, response) {\n            super(message);\n            this.response = response;\n        }\n    }\n    function requestJson(method, url, params) {\n        method = method.toUpperCase();\n        const fetchOptions = {\n            method,\n        };\n        if (method === 'GET') {\n            url += (url.indexOf('?') === -1 ? '?' : '&') +\n                new URLSearchParams(params);\n        }\n        else {\n            fetchOptions.body = new URLSearchParams(params);\n            fetchOptions.headers = {\n                'Content-Type': 'application/x-www-form-urlencoded',\n            };\n        }\n        return fetch(url, fetchOptions).then((fetchRes) => {\n            if (fetchRes.ok) {\n                return fetchRes.json().then((parsedResponse) => {\n                    return [parsedResponse, fetchRes];\n                }, () => {\n                    throw new JsonRequestError('Failure parsing JSON', fetchRes);\n                });\n            }\n            else {\n                throw new JsonRequestError('Request failed', fetchRes);\n            }\n        });\n    }\n\n    class DelayedRunner {\n        constructor(drainedOption) {\n            this.drainedOption = drainedOption;\n            this.isRunning = false;\n            this.isDirty = false;\n            this.pauseDepths = {};\n            this.timeoutId = 0;\n        }\n        request(delay) {\n            this.isDirty = true;\n            if (!this.isPaused()) {\n                this.clearTimeout();\n                if (delay == null) {\n                    this.tryDrain();\n                }\n                else {\n                    this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                    this.tryDrain.bind(this), delay);\n                }\n            }\n        }\n        pause(scope = '') {\n            let { pauseDepths } = this;\n            pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n            this.clearTimeout();\n        }\n        resume(scope = '', force) {\n            let { pauseDepths } = this;\n            if (scope in pauseDepths) {\n                if (force) {\n                    delete pauseDepths[scope];\n                }\n                else {\n                    pauseDepths[scope] -= 1;\n                    let depth = pauseDepths[scope];\n                    if (depth <= 0) {\n                        delete pauseDepths[scope];\n                    }\n                }\n                this.tryDrain();\n            }\n        }\n        isPaused() {\n            return Object.keys(this.pauseDepths).length;\n        }\n        tryDrain() {\n            if (!this.isRunning && !this.isPaused()) {\n                this.isRunning = true;\n                while (this.isDirty) {\n                    this.isDirty = false;\n                    this.drained(); // might set isDirty to true again\n                }\n                this.isRunning = false;\n            }\n        }\n        clear() {\n            this.clearTimeout();\n            this.isDirty = false;\n            this.pauseDepths = {};\n        }\n        clearTimeout() {\n            if (this.timeoutId) {\n                clearTimeout(this.timeoutId);\n                this.timeoutId = 0;\n            }\n        }\n        drained() {\n            if (this.drainedOption) {\n                this.drainedOption();\n            }\n        }\n    }\n\n    const VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\n    class Scroller extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.handleEl = (el) => {\n                this.el = el;\n                setRef(this.props.elRef, el);\n            };\n        }\n        render() {\n            let { props } = this;\n            let { liquid, liquidIsAbsolute } = props;\n            let isAbsolute = liquid && liquidIsAbsolute;\n            let className = ['fc-scroller'];\n            if (liquid) {\n                if (liquidIsAbsolute) {\n                    className.push('fc-scroller-liquid-absolute');\n                }\n                else {\n                    className.push('fc-scroller-liquid');\n                }\n            }\n            return (h(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                    overflowX: props.overflowX,\n                    overflowY: props.overflowY,\n                    left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                    right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                    bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                    marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                    marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                    marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                    maxHeight: props.maxHeight || '',\n                } }, props.children));\n        }\n        needsXScrolling() {\n            if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n                return false;\n            }\n            // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n            // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n            // inner-child margins and absolute positioning\n            let { el } = this;\n            let realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n            let { children } = el;\n            for (let i = 0; i < children.length; i += 1) {\n                let childEl = children[i];\n                if (childEl.getBoundingClientRect().width > realClientWidth) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        needsYScrolling() {\n            if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n                return false;\n            }\n            // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n            // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n            // inner-child margins and absolute positioning\n            let { el } = this;\n            let realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n            let { children } = el;\n            for (let i = 0; i < children.length; i += 1) {\n                let childEl = children[i];\n                if (childEl.getBoundingClientRect().height > realClientHeight) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        getXScrollbarWidth() {\n            if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n                return 0;\n            }\n            return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n        }\n        getYScrollbarWidth() {\n            if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n                return 0;\n            }\n            return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n        }\n    }\n\n    /*\n    TODO: somehow infer OtherArgs from masterCallback?\n    TODO: infer RefType from masterCallback if provided\n    */\n    class RefMap {\n        constructor(masterCallback) {\n            this.masterCallback = masterCallback;\n            this.currentMap = {};\n            this.depths = {};\n            this.callbackMap = {};\n            this.handleValue = (val, key) => {\n                let { depths, currentMap } = this;\n                let removed = false;\n                let added = false;\n                if (val !== null) {\n                    // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                    removed = (key in currentMap);\n                    currentMap[key] = val;\n                    depths[key] = (depths[key] || 0) + 1;\n                    added = true;\n                }\n                else {\n                    depths[key] -= 1;\n                    if (!depths[key]) {\n                        delete currentMap[key];\n                        delete this.callbackMap[key];\n                        removed = true;\n                    }\n                }\n                if (this.masterCallback) {\n                    if (removed) {\n                        this.masterCallback(null, String(key));\n                    }\n                    if (added) {\n                        this.masterCallback(val, String(key));\n                    }\n                }\n            };\n        }\n        createRef(key) {\n            let refCallback = this.callbackMap[key];\n            if (!refCallback) {\n                refCallback = this.callbackMap[key] = (val) => {\n                    this.handleValue(val, String(key));\n                };\n            }\n            return refCallback;\n        }\n        // TODO: check callers that don't care about order. should use getAll instead\n        // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n        // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n        collect(startIndex, endIndex, step) {\n            return collectFromHash(this.currentMap, startIndex, endIndex, step);\n        }\n        getAll() {\n            return hashValuesToArray(this.currentMap);\n        }\n    }\n\n    function computeShrinkWidth(chunkEls) {\n        let shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n        let largestWidth = 0;\n        for (let shrinkCell of shrinkCells) {\n            largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n        }\n        return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n    }\n    function getSectionHasLiquidHeight(props, sectionConfig) {\n        return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n    }\n    function getAllowYScrolling(props, sectionConfig) {\n        return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n            getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n    }\n    // TODO: ONLY use `arg`. force out internal function to use same API\n    function renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n        let { expandRows } = arg;\n        let content = typeof chunkConfig.content === 'function' ?\n            chunkConfig.content(arg) :\n            h('table', {\n                role: 'presentation',\n                className: [\n                    chunkConfig.tableClassName,\n                    sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n                ].join(' '),\n                style: {\n                    minWidth: arg.tableMinWidth,\n                    width: arg.clientWidth,\n                    height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n                },\n            }, arg.tableColGroupNode, h(isHeader ? 'thead' : 'tbody', {\n                role: 'presentation',\n            }, typeof chunkConfig.rowContent === 'function'\n                ? chunkConfig.rowContent(arg)\n                : chunkConfig.rowContent));\n        return content;\n    }\n    function isColPropsEqual(cols0, cols1) {\n        return isArraysEqual(cols0, cols1, isPropsEqual);\n    }\n    function renderMicroColGroup(cols, shrinkWidth) {\n        let colNodes = [];\n        /*\n        for ColProps with spans, it would have been great to make a single <col span=\"\">\n        HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n        SOLUTION: making individual <col> elements makes Chrome behave.\n        */\n        for (let colProps of cols) {\n            let span = colProps.span || 1;\n            for (let i = 0; i < span; i += 1) {\n                colNodes.push(h(\"col\", { style: {\n                        width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                        minWidth: colProps.minWidth || '',\n                    } }));\n            }\n        }\n        return h('colgroup', {}, ...colNodes);\n    }\n    function sanitizeShrinkWidth(shrinkWidth) {\n        /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n        4 accounts for 2 2-pixel borders. TODO: better solution? */\n        return shrinkWidth == null ? 4 : shrinkWidth;\n    }\n    function hasShrinkWidth(cols) {\n        for (let col of cols) {\n            if (col.width === 'shrink') {\n                return true;\n            }\n        }\n        return false;\n    }\n    function getScrollGridClassNames(liquid, context) {\n        let classNames = [\n            'fc-scrollgrid',\n            context.theme.getClass('table'),\n        ];\n        if (liquid) {\n            classNames.push('fc-scrollgrid-liquid');\n        }\n        return classNames;\n    }\n    function getSectionClassNames(sectionConfig, wholeTableVGrow) {\n        let classNames = [\n            'fc-scrollgrid-section',\n            `fc-scrollgrid-section-${sectionConfig.type}`,\n            sectionConfig.className, // used?\n        ];\n        if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n            classNames.push('fc-scrollgrid-section-liquid');\n        }\n        if (sectionConfig.isSticky) {\n            classNames.push('fc-scrollgrid-section-sticky');\n        }\n        return classNames;\n    }\n    function renderScrollShim(arg) {\n        return (h(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n                width: arg.clientWidth,\n                minWidth: arg.tableMinWidth,\n            } }));\n    }\n    function getStickyHeaderDates(options) {\n        let { stickyHeaderDates } = options;\n        if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n            stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n        }\n        return stickyHeaderDates;\n    }\n    function getStickyFooterScrollbar(options) {\n        let { stickyFooterScrollbar } = options;\n        if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n            stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n        }\n        return stickyFooterScrollbar;\n    }\n\n    class SimpleScrollGrid extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.processCols = memoize((a) => a, isColPropsEqual); // so we get same `cols` props every time\n            // yucky to memoize VNodes, but much more efficient for consumers\n            this.renderMicroColGroup = memoize(renderMicroColGroup);\n            this.scrollerRefs = new RefMap();\n            this.scrollerElRefs = new RefMap(this._handleScrollerEl.bind(this));\n            this.state = {\n                shrinkWidth: null,\n                forceYScrollbars: false,\n                scrollerClientWidths: {},\n                scrollerClientHeights: {},\n            };\n            // TODO: can do a really simple print-view. dont need to join rows\n            this.handleSizing = () => {\n                this.safeSetState(Object.assign({ shrinkWidth: this.computeShrinkWidth() }, this.computeScrollerDims()));\n            };\n        }\n        render() {\n            let { props, state, context } = this;\n            let sectionConfigs = props.sections || [];\n            let cols = this.processCols(props.cols);\n            let microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n            let classNames = getScrollGridClassNames(props.liquid, context);\n            if (props.collapsibleWidth) {\n                classNames.push('fc-scrollgrid-collapsible');\n            }\n            // TODO: make DRY\n            let configCnt = sectionConfigs.length;\n            let configI = 0;\n            let currentConfig;\n            let headSectionNodes = [];\n            let bodySectionNodes = [];\n            let footSectionNodes = [];\n            while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n                headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n                configI += 1;\n            }\n            while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n                bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n                configI += 1;\n            }\n            while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n                footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n                configI += 1;\n            }\n            // firefox bug: when setting height on table and there is a thead or tfoot,\n            // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n            // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n            // if so, use a simpler dom structure, jam everything into a lone tbody.\n            let isBuggy = !getCanVGrowWithinCell();\n            const roleAttrs = { role: 'rowgroup' };\n            return h('table', {\n                role: 'grid',\n                className: classNames.join(' '),\n                style: { height: props.height },\n            }, Boolean(!isBuggy && headSectionNodes.length) && h('thead', roleAttrs, ...headSectionNodes), Boolean(!isBuggy && bodySectionNodes.length) && h('tbody', roleAttrs, ...bodySectionNodes), Boolean(!isBuggy && footSectionNodes.length) && h('tfoot', roleAttrs, ...footSectionNodes), isBuggy && h('tbody', roleAttrs, ...headSectionNodes, ...bodySectionNodes, ...footSectionNodes));\n        }\n        renderSection(sectionConfig, microColGroupNode, isHeader) {\n            if ('outerContent' in sectionConfig) {\n                return (h(p, { key: sectionConfig.key }, sectionConfig.outerContent));\n            }\n            return (h(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n        }\n        renderChunkTd(sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n            if ('outerContent' in chunkConfig) {\n                return chunkConfig.outerContent;\n            }\n            let { props } = this;\n            let { forceYScrollbars, scrollerClientWidths, scrollerClientHeights } = this.state;\n            let needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n            let isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n            // for `!props.liquid` - is WHOLE scrollgrid natural height?\n            // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n            let overflowY = !props.liquid ? 'visible' :\n                forceYScrollbars ? 'scroll' :\n                    !needsYScrolling ? 'hidden' :\n                        'auto';\n            let sectionKey = sectionConfig.key;\n            let content = renderChunkContent(sectionConfig, chunkConfig, {\n                tableColGroupNode: microColGroupNode,\n                tableMinWidth: '',\n                clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n                clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n                expandRows: sectionConfig.expandRows,\n                syncRowHeights: false,\n                rowSyncHeights: [],\n                reportRowHeightChange: () => { },\n            }, isHeader);\n            return h(isHeader ? 'th' : 'td', {\n                ref: chunkConfig.elRef,\n                role: 'presentation',\n            }, h(\"div\", { className: `fc-scroller-harness${isLiquid ? ' fc-scroller-harness-liquid' : ''}` },\n                h(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content)));\n        }\n        _handleScrollerEl(scrollerEl, key) {\n            let section = getSectionByKey(this.props.sections, key);\n            if (section) {\n                setRef(section.chunk.scrollerElRef, scrollerEl);\n            }\n        }\n        componentDidMount() {\n            this.handleSizing();\n            this.context.addResizeHandler(this.handleSizing);\n        }\n        componentDidUpdate() {\n            // TODO: need better solution when state contains non-sizing things\n            this.handleSizing();\n        }\n        componentWillUnmount() {\n            this.context.removeResizeHandler(this.handleSizing);\n        }\n        computeShrinkWidth() {\n            return hasShrinkWidth(this.props.cols)\n                ? computeShrinkWidth(this.scrollerElRefs.getAll())\n                : 0;\n        }\n        computeScrollerDims() {\n            let scrollbarWidth = getScrollbarWidths();\n            let { scrollerRefs, scrollerElRefs } = this;\n            let forceYScrollbars = false;\n            let scrollerClientWidths = {};\n            let scrollerClientHeights = {};\n            for (let sectionKey in scrollerRefs.currentMap) {\n                let scroller = scrollerRefs.currentMap[sectionKey];\n                if (scroller && scroller.needsYScrolling()) {\n                    forceYScrollbars = true;\n                    break;\n                }\n            }\n            for (let section of this.props.sections) {\n                let sectionKey = section.key;\n                let scrollerEl = scrollerElRefs.currentMap[sectionKey];\n                if (scrollerEl) {\n                    let harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                    scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                        ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                        : 0));\n                    scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n                }\n            }\n            return { forceYScrollbars, scrollerClientWidths, scrollerClientHeights };\n        }\n    }\n    SimpleScrollGrid.addStateEquality({\n        scrollerClientWidths: isPropsEqual,\n        scrollerClientHeights: isPropsEqual,\n    });\n    function getSectionByKey(sections, key) {\n        for (let section of sections) {\n            if (section.key === key) {\n                return section;\n            }\n        }\n        return null;\n    }\n\n    class EventContainer extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.handleEl = (el) => {\n                this.el = el;\n                if (el) {\n                    setElSeg(el, this.props.seg);\n                }\n            };\n        }\n        render() {\n            const { props, context } = this;\n            const { options } = context;\n            const { seg } = props;\n            const { eventRange } = seg;\n            const { ui } = eventRange;\n            const renderProps = {\n                event: new EventImpl(context, eventRange.def, eventRange.instance),\n                view: context.viewApi,\n                timeText: props.timeText,\n                textColor: ui.textColor,\n                backgroundColor: ui.backgroundColor,\n                borderColor: ui.borderColor,\n                isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n                isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n                isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n                isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n                isStart: Boolean(seg.isStart),\n                isEnd: Boolean(seg.isEnd),\n                isPast: Boolean(props.isPast),\n                isFuture: Boolean(props.isFuture),\n                isToday: Boolean(props.isToday),\n                isSelected: Boolean(props.isSelected),\n                isDragging: Boolean(props.isDragging),\n                isResizing: Boolean(props.isResizing),\n            };\n            return (h(ContentContainer, Object.assign({}, props /* contains children */, { elRef: this.handleEl, elClasses: [\n                    ...getEventClassNames(renderProps),\n                    ...seg.eventRange.ui.classNames,\n                    ...(props.elClasses || []),\n                ], renderProps: renderProps, generatorName: \"eventContent\", customGenerator: options.eventContent, defaultGenerator: props.defaultGenerator, classNameGenerator: options.eventClassNames, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount })));\n        }\n        componentDidUpdate(prevProps) {\n            if (this.el && this.props.seg !== prevProps.seg) {\n                setElSeg(this.el, this.props.seg);\n            }\n        }\n    }\n\n    // should not be a purecomponent\n    class StandardEvent extends BaseComponent {\n        render() {\n            let { props, context } = this;\n            let { options } = context;\n            let { seg } = props;\n            let { ui } = seg.eventRange;\n            let timeFormat = options.eventTimeFormat || props.defaultTimeFormat;\n            let timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n            return (h(EventContainer, Object.assign({}, props /* includes elRef */, { elTag: \"a\", elStyle: {\n                    borderColor: ui.borderColor,\n                    backgroundColor: ui.backgroundColor,\n                }, elAttrs: getSegAnchorAttrs(seg, context), defaultGenerator: renderInnerContent$1, timeText: timeText }), (InnerContent, eventContentArg) => (h(p, null,\n                h(InnerContent, { elTag: \"div\", elClasses: ['fc-event-main'], elStyle: { color: eventContentArg.textColor } }),\n                Boolean(eventContentArg.isStartResizable) && (h(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" })),\n                Boolean(eventContentArg.isEndResizable) && (h(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))))));\n        }\n    }\n    function renderInnerContent$1(innerProps) {\n        return (h(\"div\", { className: \"fc-event-main-frame\" },\n            innerProps.timeText && (h(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n            h(\"div\", { className: \"fc-event-title-container\" },\n                h(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || h(p, null, \"\\u00A0\")))));\n    }\n\n    const NowIndicatorContainer = (props) => (h(ViewContextType.Consumer, null, (context) => {\n        let { options } = context;\n        let renderProps = {\n            isAxis: props.isAxis,\n            date: context.dateEnv.toDate(props.date),\n            view: context.viewApi,\n        };\n        return (h(ContentContainer, Object.assign({}, props /* includes children */, { elTag: props.elTag || 'div', renderProps: renderProps, generatorName: \"nowIndicatorContent\", customGenerator: options.nowIndicatorContent, classNameGenerator: options.nowIndicatorClassNames, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount })));\n    }));\n\n    const DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\n    class DayCellContainer extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.refineRenderProps = memoizeObjArg(refineRenderProps);\n        }\n        render() {\n            let { props, context } = this;\n            let { options } = context;\n            let renderProps = this.refineRenderProps({\n                date: props.date,\n                dateProfile: props.dateProfile,\n                todayRange: props.todayRange,\n                isMonthStart: props.isMonthStart || false,\n                showDayNumber: props.showDayNumber,\n                extraRenderProps: props.extraRenderProps,\n                viewApi: context.viewApi,\n                dateEnv: context.dateEnv,\n                monthStartFormat: options.monthStartFormat,\n            });\n            return (h(ContentContainer, Object.assign({}, props /* includes children */, { elClasses: [\n                    ...getDayClassNames(renderProps, context.theme),\n                    ...(props.elClasses || []),\n                ], elAttrs: Object.assign(Object.assign({}, props.elAttrs), (renderProps.isDisabled ? {} : { 'data-date': formatDayString(props.date) })), renderProps: renderProps, generatorName: \"dayCellContent\", customGenerator: options.dayCellContent, defaultGenerator: props.defaultGenerator, classNameGenerator: \n                // don't use custom classNames if disabled\n                renderProps.isDisabled ? undefined : options.dayCellClassNames, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount })));\n        }\n    }\n    function hasCustomDayCellContent(options) {\n        return Boolean(options.dayCellContent || hasCustomRenderingHandler('dayCellContent', options));\n    }\n    function refineRenderProps(raw) {\n        let { date, dateEnv, dateProfile, isMonthStart } = raw;\n        let dayMeta = getDateMeta(date, raw.todayRange, null, dateProfile);\n        let dayNumberText = raw.showDayNumber ? (dateEnv.format(date, isMonthStart ? raw.monthStartFormat : DAY_NUM_FORMAT)) : '';\n        return Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { isMonthStart,\n            dayNumberText }), raw.extraRenderProps);\n    }\n\n    class BgEvent extends BaseComponent {\n        render() {\n            let { props } = this;\n            let { seg } = props;\n            return (h(EventContainer, { elTag: \"div\", elClasses: ['fc-bg-event'], elStyle: { backgroundColor: seg.eventRange.ui.backgroundColor }, defaultGenerator: renderInnerContent, seg: seg, timeText: \"\", isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, disableDragging: true, disableResizing: true }));\n        }\n    }\n    function renderInnerContent(props) {\n        let { title } = props.event;\n        return title && (h(\"div\", { className: \"fc-event-title\" }, props.event.title));\n    }\n    function renderFill(fillType) {\n        return (h(\"div\", { className: `fc-${fillType}` }));\n    }\n\n    const WeekNumberContainer = (props) => (h(ViewContextType.Consumer, null, (context) => {\n        let { dateEnv, options } = context;\n        let { date } = props;\n        let format = options.weekNumberFormat || props.defaultFormat;\n        let num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n        let text = dateEnv.format(date, format);\n        let renderProps = { num, text, date };\n        return (h(ContentContainer // why isn't WeekNumberContentArg being auto-detected?\n        , Object.assign({}, props /* includes children */, { renderProps: renderProps, generatorName: \"weekNumberContent\", customGenerator: options.weekNumberContent, defaultGenerator: renderInner, classNameGenerator: options.weekNumberClassNames, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount })));\n    }));\n    function renderInner(innerProps) {\n        return innerProps.text;\n    }\n\n    const PADDING_FROM_VIEWPORT = 10;\n    class Popover extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.state = {\n                titleId: getUniqueDomId(),\n            };\n            this.handleRootEl = (el) => {\n                this.rootEl = el;\n                if (this.props.elRef) {\n                    setRef(this.props.elRef, el);\n                }\n            };\n            // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n            this.handleDocumentMouseDown = (ev) => {\n                // only hide the popover if the click happened outside the popover\n                const target = getEventTargetViaRoot(ev);\n                if (!this.rootEl.contains(target)) {\n                    this.handleCloseClick();\n                }\n            };\n            this.handleDocumentKeyDown = (ev) => {\n                if (ev.key === 'Escape') {\n                    this.handleCloseClick();\n                }\n            };\n            this.handleCloseClick = () => {\n                let { onClose } = this.props;\n                if (onClose) {\n                    onClose();\n                }\n            };\n        }\n        render() {\n            let { theme, options } = this.context;\n            let { props, state } = this;\n            let classNames = [\n                'fc-popover',\n                theme.getClass('popover'),\n            ].concat(props.extraClassNames || []);\n            return j(h(\"div\", Object.assign({}, props.extraAttrs, { id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId, ref: this.handleRootEl }),\n                h(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                    h(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                    h(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n                h(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n        }\n        componentDidMount() {\n            document.addEventListener('mousedown', this.handleDocumentMouseDown);\n            document.addEventListener('keydown', this.handleDocumentKeyDown);\n            this.updateSize();\n        }\n        componentWillUnmount() {\n            document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n            document.removeEventListener('keydown', this.handleDocumentKeyDown);\n        }\n        updateSize() {\n            let { isRtl } = this.context;\n            let { alignmentEl, alignGridTop } = this.props;\n            let { rootEl } = this;\n            let alignmentRect = computeClippedClientRect(alignmentEl);\n            if (alignmentRect) {\n                let popoverDims = rootEl.getBoundingClientRect();\n                // position relative to viewport\n                let popoverTop = alignGridTop\n                    ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                    : alignmentRect.top;\n                let popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n                // constrain\n                popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n                popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n                popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n                let origin = rootEl.offsetParent.getBoundingClientRect();\n                applyStyle(rootEl, {\n                    top: popoverTop - origin.top,\n                    left: popoverLeft - origin.left,\n                });\n            }\n        }\n    }\n\n    class MorePopover extends DateComponent {\n        constructor() {\n            super(...arguments);\n            this.handleRootEl = (rootEl) => {\n                this.rootEl = rootEl;\n                if (rootEl) {\n                    this.context.registerInteractiveComponent(this, {\n                        el: rootEl,\n                        useEventCenter: false,\n                    });\n                }\n                else {\n                    this.context.unregisterInteractiveComponent(this);\n                }\n            };\n        }\n        render() {\n            let { options, dateEnv } = this.context;\n            let { props } = this;\n            let { startDate, todayRange, dateProfile } = props;\n            let title = dateEnv.format(startDate, options.dayPopoverFormat);\n            return (h(DayCellContainer, { elRef: this.handleRootEl, date: startDate, dateProfile: dateProfile, todayRange: todayRange }, (InnerContent, renderProps, elAttrs) => (h(Popover, { elRef: elAttrs.ref, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(elAttrs.className || []), extraAttrs: elAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n                hasCustomDayCellContent(options) && (h(InnerContent, { elTag: \"div\", elClasses: ['fc-more-popover-misc'] })),\n                props.children))));\n        }\n        queryHit(positionLeft, positionTop, elWidth, elHeight) {\n            let { rootEl, props } = this;\n            if (positionLeft >= 0 && positionLeft < elWidth &&\n                positionTop >= 0 && positionTop < elHeight) {\n                return {\n                    dateProfile: props.dateProfile,\n                    dateSpan: Object.assign({ allDay: true, range: {\n                            start: props.startDate,\n                            end: props.endDate,\n                        } }, props.extraDateSpan),\n                    dayEl: rootEl,\n                    rect: {\n                        left: 0,\n                        top: 0,\n                        right: elWidth,\n                        bottom: elHeight,\n                    },\n                    layer: 1, // important when comparing with hits from other components\n                };\n            }\n            return null;\n        }\n    }\n\n    class MoreLinkContainer extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.state = {\n                isPopoverOpen: false,\n                popoverId: getUniqueDomId(),\n            };\n            this.handleLinkEl = (linkEl) => {\n                this.linkEl = linkEl;\n                if (this.props.elRef) {\n                    setRef(this.props.elRef, linkEl);\n                }\n            };\n            this.handleClick = (ev) => {\n                let { props, context } = this;\n                let { moreLinkClick } = context.options;\n                let date = computeRange(props).start;\n                function buildPublicSeg(seg) {\n                    let { def, instance, range } = seg.eventRange;\n                    return {\n                        event: new EventImpl(context, def, instance),\n                        start: context.dateEnv.toDate(range.start),\n                        end: context.dateEnv.toDate(range.end),\n                        isStart: seg.isStart,\n                        isEnd: seg.isEnd,\n                    };\n                }\n                if (typeof moreLinkClick === 'function') {\n                    moreLinkClick = moreLinkClick({\n                        date,\n                        allDay: Boolean(props.allDayDate),\n                        allSegs: props.allSegs.map(buildPublicSeg),\n                        hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                        jsEvent: ev,\n                        view: context.viewApi,\n                    });\n                }\n                if (!moreLinkClick || moreLinkClick === 'popover') {\n                    this.setState({ isPopoverOpen: true });\n                }\n                else if (typeof moreLinkClick === 'string') { // a view name\n                    context.calendarApi.zoomTo(date, moreLinkClick);\n                }\n            };\n            this.handlePopoverClose = () => {\n                this.setState({ isPopoverOpen: false });\n            };\n        }\n        render() {\n            let { props, state } = this;\n            return (h(ViewContextType.Consumer, null, (context) => {\n                let { viewApi, options, calendarApi } = context;\n                let { moreLinkText } = options;\n                let { moreCnt } = props;\n                let range = computeRange(props);\n                let text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                    ? moreLinkText.call(calendarApi, moreCnt)\n                    : `+${moreCnt} ${moreLinkText}`;\n                let hint = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n                let renderProps = {\n                    num: moreCnt,\n                    shortText: `+${moreCnt}`,\n                    text,\n                    view: viewApi,\n                };\n                return (h(p, null,\n                    Boolean(props.moreCnt) && (h(ContentContainer, { elTag: props.elTag || 'a', elRef: this.handleLinkEl, elClasses: [\n                            ...(props.elClasses || []),\n                            'fc-more-link',\n                        ], elStyle: props.elStyle, elAttrs: Object.assign(Object.assign(Object.assign({}, props.elAttrs), createAriaClickAttrs(this.handleClick)), { title: hint, 'aria-expanded': state.isPopoverOpen, 'aria-controls': state.isPopoverOpen ? state.popoverId : '' }), renderProps: renderProps, generatorName: \"moreLinkContent\", customGenerator: options.moreLinkContent, defaultGenerator: props.defaultGenerator || renderMoreLinkInner, classNameGenerator: options.moreLinkClassNames, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, props.children)),\n                    state.isPopoverOpen && (h(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: this.parentEl, alignmentEl: props.alignmentElRef ?\n                            props.alignmentElRef.current :\n                            this.linkEl, alignGridTop: props.alignGridTop, onClose: this.handlePopoverClose }, props.popoverContent()))));\n            }));\n        }\n        componentDidMount() {\n            this.updateParentEl();\n        }\n        componentDidUpdate() {\n            this.updateParentEl();\n        }\n        updateParentEl() {\n            if (this.linkEl) {\n                this.parentEl = elementClosest(this.linkEl, '.fc-view-harness');\n            }\n        }\n    }\n    function renderMoreLinkInner(props) {\n        return props.text;\n    }\n    function computeRange(props) {\n        if (props.allDayDate) {\n            return {\n                start: props.allDayDate,\n                end: addDays(props.allDayDate, 1),\n            };\n        }\n        let { hiddenSegs } = props;\n        return {\n            start: computeEarliestSegStart(hiddenSegs),\n            end: computeLatestSegEnd(hiddenSegs),\n        };\n    }\n    function computeEarliestSegStart(segs) {\n        return segs.reduce(pickEarliestStart).eventRange.range.start;\n    }\n    function pickEarliestStart(seg0, seg1) {\n        return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n    }\n    function computeLatestSegEnd(segs) {\n        return segs.reduce(pickLatestEnd).eventRange.range.end;\n    }\n    function pickLatestEnd(seg0, seg1) {\n        return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n    }\n\n    class ViewContainer extends BaseComponent {\n        render() {\n            let { props, context } = this;\n            let { options } = context;\n            let renderProps = { view: context.viewApi };\n            return (h(ContentContainer, Object.assign({}, props, { elTag: props.elTag || 'div', elClasses: [\n                    ...buildViewClassNames(props.viewSpec),\n                    ...(props.elClasses || []),\n                ], renderProps: renderProps, classNameGenerator: options.viewClassNames, generatorName: undefined, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount }), () => props.children));\n        }\n    }\n    function buildViewClassNames(viewSpec) {\n        return [\n            `fc-${viewSpec.type}-view`,\n            'fc-view',\n        ];\n    }\n\n    const injectedStyleEls = [];\n    const rootHasStyles = new WeakMap();\n    if (typeof document !== 'undefined') {\n        rootHasStyles.set(document, true);\n    }\n    /*\n    Called from top-level core/plugin code\n    */\n    function injectStyles(css) {\n        if (css && typeof document !== 'undefined') {\n            injectedStyleEls.push(injectStylesInParent(document.head, css));\n        }\n    }\n    /*\n    Called during calendar initialization\n    */\n    function ensureElHasStyles(calendarEl) {\n        const root = calendarEl.getRootNode();\n        if (!rootHasStyles.get(root)) {\n            rootHasStyles.set(root, true);\n            for (const injectedStyleEl of injectedStyleEls) {\n                injectStylesInParent(root, injectedStyleEl.innerText);\n            }\n        }\n    }\n    function injectStylesInParent(parentEl, css) {\n        const style = document.createElement('style');\n        const nonce = getNonceValue();\n        if (nonce) {\n            style.nonce = nonce;\n        }\n        style.innerText = css;\n        parentEl.appendChild(style);\n        return style;\n    }\n    // nonce\n    // -------------------------------------------------------------------------------------------------\n    let queriedNonceValue;\n    function getNonceValue() {\n        if (queriedNonceValue === undefined) {\n            queriedNonceValue = queryNonceValue();\n        }\n        return queriedNonceValue;\n    }\n    function queryNonceValue() {\n        const metaWithNonce = document.querySelector('meta[name=\"csp-nonce\"]');\n        if (metaWithNonce && metaWithNonce.hasAttribute('content')) {\n            return metaWithNonce.getAttribute('content');\n        }\n        const elWithNonce = document.querySelector('script[nonce]');\n        if (elWithNonce) {\n            return elWithNonce.nonce || '';\n        }\n        return '';\n    }\n\n    const EVENT_SOURCE_REFINERS = {\n        id: String,\n        defaultAllDay: Boolean,\n        url: String,\n        format: String,\n        events: identity,\n        eventDataTransform: identity,\n        // for any network-related sources\n        success: identity,\n        failure: identity,\n    };\n    function parseEventSource(raw, context, refiners = buildEventSourceRefiners(context)) {\n        let rawObj;\n        if (typeof raw === 'string') {\n            rawObj = { url: raw };\n        }\n        else if (typeof raw === 'function' || Array.isArray(raw)) {\n            rawObj = { events: raw };\n        }\n        else if (typeof raw === 'object' && raw) { // not null\n            rawObj = raw;\n        }\n        if (rawObj) {\n            let { refined, extra } = refineProps(rawObj, refiners);\n            let metaRes = buildEventSourceMeta(refined, context);\n            if (metaRes) {\n                return {\n                    _raw: raw,\n                    isFetching: false,\n                    latestFetchId: '',\n                    fetchRange: null,\n                    defaultAllDay: refined.defaultAllDay,\n                    eventDataTransform: refined.eventDataTransform,\n                    success: refined.success,\n                    failure: refined.failure,\n                    publicId: refined.id || '',\n                    sourceId: guid(),\n                    sourceDefId: metaRes.sourceDefId,\n                    meta: metaRes.meta,\n                    ui: createEventUi(refined, context),\n                    extendedProps: extra,\n                };\n            }\n        }\n        return null;\n    }\n    function buildEventSourceRefiners(context) {\n        return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n    }\n    function buildEventSourceMeta(raw, context) {\n        let defs = context.pluginHooks.eventSourceDefs;\n        for (let i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n            let def = defs[i];\n            let meta = def.parseMeta(raw);\n            if (meta) {\n                return { sourceDefId: i, meta };\n            }\n        }\n        return null;\n    }\n\n    class CalendarImpl {\n        getCurrentData() {\n            return this.currentDataManager.getCurrentData();\n        }\n        dispatch(action) {\n            this.currentDataManager.dispatch(action);\n        }\n        get view() { return this.getCurrentData().viewApi; }\n        batchRendering(callback) {\n            callback();\n        }\n        updateSize() {\n            this.trigger('_resize', true);\n        }\n        // Options\n        // -----------------------------------------------------------------------------------------------------------------\n        setOption(name, val) {\n            this.dispatch({\n                type: 'SET_OPTION',\n                optionName: name,\n                rawOptionValue: val,\n            });\n        }\n        getOption(name) {\n            return this.currentDataManager.currentCalendarOptionsInput[name];\n        }\n        getAvailableLocaleCodes() {\n            return Object.keys(this.getCurrentData().availableRawLocales);\n        }\n        // Trigger\n        // -----------------------------------------------------------------------------------------------------------------\n        on(handlerName, handler) {\n            let { currentDataManager } = this;\n            if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n                currentDataManager.emitter.on(handlerName, handler);\n            }\n            else {\n                console.warn(`Unknown listener name '${handlerName}'`);\n            }\n        }\n        off(handlerName, handler) {\n            this.currentDataManager.emitter.off(handlerName, handler);\n        }\n        // not meant for public use\n        trigger(handlerName, ...args) {\n            this.currentDataManager.emitter.trigger(handlerName, ...args);\n        }\n        // View\n        // -----------------------------------------------------------------------------------------------------------------\n        changeView(viewType, dateOrRange) {\n            this.batchRendering(() => {\n                this.unselect();\n                if (dateOrRange) {\n                    if (dateOrRange.start && dateOrRange.end) { // a range\n                        this.dispatch({\n                            type: 'CHANGE_VIEW_TYPE',\n                            viewType,\n                        });\n                        this.dispatch({\n                            type: 'SET_OPTION',\n                            optionName: 'visibleRange',\n                            rawOptionValue: dateOrRange,\n                        });\n                    }\n                    else {\n                        let { dateEnv } = this.getCurrentData();\n                        this.dispatch({\n                            type: 'CHANGE_VIEW_TYPE',\n                            viewType,\n                            dateMarker: dateEnv.createMarker(dateOrRange),\n                        });\n                    }\n                }\n                else {\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                    });\n                }\n            });\n        }\n        // Forces navigation to a view for the given date.\n        // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n        // needs to change\n        zoomTo(dateMarker, viewType) {\n            let state = this.getCurrentData();\n            let spec;\n            viewType = viewType || 'day'; // day is default zoom\n            spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n            this.unselect();\n            if (spec) {\n                this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: spec.type,\n                    dateMarker,\n                });\n            }\n            else {\n                this.dispatch({\n                    type: 'CHANGE_DATE',\n                    dateMarker,\n                });\n            }\n        }\n        // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n        // Preference is given to views that have corresponding buttons.\n        getUnitViewSpec(unit) {\n            let { viewSpecs, toolbarConfig } = this.getCurrentData();\n            let viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n            let i;\n            let spec;\n            for (let viewType in viewSpecs) {\n                viewTypes.push(viewType);\n            }\n            for (i = 0; i < viewTypes.length; i += 1) {\n                spec = viewSpecs[viewTypes[i]];\n                if (spec) {\n                    if (spec.singleUnit === unit) {\n                        return spec;\n                    }\n                }\n            }\n            return null;\n        }\n        // Current Date\n        // -----------------------------------------------------------------------------------------------------------------\n        prev() {\n            this.unselect();\n            this.dispatch({ type: 'PREV' });\n        }\n        next() {\n            this.unselect();\n            this.dispatch({ type: 'NEXT' });\n        }\n        prevYear() {\n            let state = this.getCurrentData();\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n            });\n        }\n        nextYear() {\n            let state = this.getCurrentData();\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n            });\n        }\n        today() {\n            let state = this.getCurrentData();\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n            });\n        }\n        gotoDate(zonedDateInput) {\n            let state = this.getCurrentData();\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.createMarker(zonedDateInput),\n            });\n        }\n        incrementDate(deltaInput) {\n            let state = this.getCurrentData();\n            let delta = createDuration(deltaInput);\n            if (delta) { // else, warn about invalid input?\n                this.unselect();\n                this.dispatch({\n                    type: 'CHANGE_DATE',\n                    dateMarker: state.dateEnv.add(state.currentDate, delta),\n                });\n            }\n        }\n        getDate() {\n            let state = this.getCurrentData();\n            return state.dateEnv.toDate(state.currentDate);\n        }\n        // Date Formatting Utils\n        // -----------------------------------------------------------------------------------------------------------------\n        formatDate(d, formatter) {\n            let { dateEnv } = this.getCurrentData();\n            return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n        }\n        // `settings` is for formatter AND isEndExclusive\n        formatRange(d0, d1, settings) {\n            let { dateEnv } = this.getCurrentData();\n            return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n        }\n        formatIso(d, omitTime) {\n            let { dateEnv } = this.getCurrentData();\n            return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime });\n        }\n        // Date Selection / Event Selection / DayClick\n        // -----------------------------------------------------------------------------------------------------------------\n        select(dateOrObj, endDate) {\n            let selectionInput;\n            if (endDate == null) {\n                if (dateOrObj.start != null) {\n                    selectionInput = dateOrObj;\n                }\n                else {\n                    selectionInput = {\n                        start: dateOrObj,\n                        end: null,\n                    };\n                }\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: endDate,\n                };\n            }\n            let state = this.getCurrentData();\n            let selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n            if (selection) { // throw parse error otherwise?\n                this.dispatch({ type: 'SELECT_DATES', selection });\n                triggerDateSelect(selection, null, state);\n            }\n        }\n        unselect(pev) {\n            let state = this.getCurrentData();\n            if (state.dateSelection) {\n                this.dispatch({ type: 'UNSELECT_DATES' });\n                triggerDateUnselect(pev, state);\n            }\n        }\n        // Public Events API\n        // -----------------------------------------------------------------------------------------------------------------\n        addEvent(eventInput, sourceInput) {\n            if (eventInput instanceof EventImpl) {\n                let def = eventInput._def;\n                let instance = eventInput._instance;\n                let currentData = this.getCurrentData();\n                // not already present? don't want to add an old snapshot\n                if (!currentData.eventStore.defs[def.defId]) {\n                    this.dispatch({\n                        type: 'ADD_EVENTS',\n                        eventStore: eventTupleToStore({ def, instance }), // TODO: better util for two args?\n                    });\n                    this.triggerEventAdd(eventInput);\n                }\n                return eventInput;\n            }\n            let state = this.getCurrentData();\n            let eventSource;\n            if (sourceInput instanceof EventSourceImpl) {\n                eventSource = sourceInput.internalEventSource;\n            }\n            else if (typeof sourceInput === 'boolean') {\n                if (sourceInput) { // true. part of the first event source\n                    [eventSource] = hashValuesToArray(state.eventSources);\n                }\n            }\n            else if (sourceInput != null) { // an ID. accepts a number too\n                let sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n                if (!sourceApi) {\n                    console.warn(`Could not find an event source with ID \"${sourceInput}\"`); // TODO: test\n                    return null;\n                }\n                eventSource = sourceApi.internalEventSource;\n            }\n            let tuple = parseEvent(eventInput, eventSource, state, false);\n            if (tuple) {\n                let newEventApi = new EventImpl(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore(tuple),\n                });\n                this.triggerEventAdd(newEventApi);\n                return newEventApi;\n            }\n            return null;\n        }\n        triggerEventAdd(eventApi) {\n            let { emitter } = this.getCurrentData();\n            emitter.trigger('eventAdd', {\n                event: eventApi,\n                relatedEvents: [],\n                revert: () => {\n                    this.dispatch({\n                        type: 'REMOVE_EVENTS',\n                        eventStore: eventApiToStore(eventApi),\n                    });\n                },\n            });\n        }\n        // TODO: optimize\n        getEventById(id) {\n            let state = this.getCurrentData();\n            let { defs, instances } = state.eventStore;\n            id = String(id);\n            for (let defId in defs) {\n                let def = defs[defId];\n                if (def.publicId === id) {\n                    if (def.recurringDef) {\n                        return new EventImpl(state, def, null);\n                    }\n                    for (let instanceId in instances) {\n                        let instance = instances[instanceId];\n                        if (instance.defId === def.defId) {\n                            return new EventImpl(state, def, instance);\n                        }\n                    }\n                }\n            }\n            return null;\n        }\n        getEvents() {\n            let currentData = this.getCurrentData();\n            return buildEventApis(currentData.eventStore, currentData);\n        }\n        removeAllEvents() {\n            this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n        }\n        // Public Event Sources API\n        // -----------------------------------------------------------------------------------------------------------------\n        getEventSources() {\n            let state = this.getCurrentData();\n            let sourceHash = state.eventSources;\n            let sourceApis = [];\n            for (let internalId in sourceHash) {\n                sourceApis.push(new EventSourceImpl(state, sourceHash[internalId]));\n            }\n            return sourceApis;\n        }\n        getEventSourceById(id) {\n            let state = this.getCurrentData();\n            let sourceHash = state.eventSources;\n            id = String(id);\n            for (let sourceId in sourceHash) {\n                if (sourceHash[sourceId].publicId === id) {\n                    return new EventSourceImpl(state, sourceHash[sourceId]);\n                }\n            }\n            return null;\n        }\n        addEventSource(sourceInput) {\n            let state = this.getCurrentData();\n            if (sourceInput instanceof EventSourceImpl) {\n                // not already present? don't want to add an old snapshot\n                if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                    this.dispatch({\n                        type: 'ADD_EVENT_SOURCES',\n                        sources: [sourceInput.internalEventSource],\n                    });\n                }\n                return sourceInput;\n            }\n            let eventSource = parseEventSource(sourceInput, state);\n            if (eventSource) { // TODO: error otherwise?\n                this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n                return new EventSourceImpl(state, eventSource);\n            }\n            return null;\n        }\n        removeAllEventSources() {\n            this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n        }\n        refetchEvents() {\n            this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n        }\n        // Scroll\n        // -----------------------------------------------------------------------------------------------------------------\n        scrollToTime(timeInput) {\n            let time = createDuration(timeInput);\n            if (time) {\n                this.trigger('_scrollRequest', { time });\n            }\n        }\n    }\n\n    class Store {\n        constructor() {\n            this.handlers = [];\n        }\n        set(value) {\n            this.currentValue = value;\n            for (let handler of this.handlers) {\n                handler(value);\n            }\n        }\n        subscribe(handler) {\n            this.handlers.push(handler);\n            if (this.currentValue !== undefined) {\n                handler(this.currentValue);\n            }\n        }\n    }\n\n    /*\n    Subscribers will get a LIST of CustomRenderings\n    */\n    class CustomRenderingStore extends Store {\n        constructor() {\n            super(...arguments);\n            this.map = new Map();\n        }\n        // for consistent order\n        handle(customRendering) {\n            const { map } = this;\n            let updated = false;\n            if (customRendering.isActive) {\n                map.set(customRendering.id, customRendering);\n                updated = true;\n            }\n            else if (map.has(customRendering.id)) {\n                map.delete(customRendering.id);\n                updated = true;\n            }\n            if (updated) {\n                this.set(map);\n            }\n        }\n    }\n\n    var internal = {\n        __proto__: null,\n        BASE_OPTION_DEFAULTS: BASE_OPTION_DEFAULTS,\n        identity: identity,\n        refineProps: refineProps,\n        createEventInstance: createEventInstance,\n        parseEventDef: parseEventDef,\n        refineEventDef: refineEventDef,\n        parseBusinessHours: parseBusinessHours,\n        padStart: padStart,\n        isInt: isInt,\n        parseFieldSpecs: parseFieldSpecs,\n        compareByFieldSpecs: compareByFieldSpecs,\n        flexibleCompare: flexibleCompare,\n        preventSelection: preventSelection,\n        allowSelection: allowSelection,\n        preventContextMenu: preventContextMenu,\n        allowContextMenu: allowContextMenu,\n        compareNumbers: compareNumbers,\n        enableCursor: enableCursor,\n        disableCursor: disableCursor,\n        guid: guid,\n        computeVisibleDayRange: computeVisibleDayRange,\n        isMultiDayRange: isMultiDayRange,\n        diffDates: diffDates,\n        removeExact: removeExact,\n        isArraysEqual: isArraysEqual,\n        memoize: memoize,\n        memoizeObjArg: memoizeObjArg,\n        memoizeArraylike: memoizeArraylike,\n        memoizeHashlike: memoizeHashlike,\n        intersectRects: intersectRects,\n        pointInsideRect: pointInsideRect,\n        constrainPoint: constrainPoint,\n        getRectCenter: getRectCenter,\n        diffPoints: diffPoints,\n        translateRect: translateRect,\n        mapHash: mapHash,\n        filterHash: filterHash,\n        isPropsEqual: isPropsEqual,\n        compareObjs: compareObjs,\n        collectFromHash: collectFromHash,\n        findElements: findElements,\n        findDirectChildren: findDirectChildren,\n        removeElement: removeElement,\n        applyStyle: applyStyle,\n        elementMatches: elementMatches,\n        elementClosest: elementClosest,\n        getEventTargetViaRoot: getEventTargetViaRoot,\n        getUniqueDomId: getUniqueDomId,\n        parseClassNames: parseClassNames,\n        getCanVGrowWithinCell: getCanVGrowWithinCell,\n        createEmptyEventStore: createEmptyEventStore,\n        mergeEventStores: mergeEventStores,\n        getRelevantEvents: getRelevantEvents,\n        eventTupleToStore: eventTupleToStore,\n        combineEventUis: combineEventUis,\n        createEventUi: createEventUi,\n        Splitter: Splitter,\n        getDayClassNames: getDayClassNames,\n        getDateMeta: getDateMeta,\n        getSlotClassNames: getSlotClassNames,\n        buildNavLinkAttrs: buildNavLinkAttrs,\n        preventDefault: preventDefault,\n        whenTransitionDone: whenTransitionDone,\n        computeInnerRect: computeInnerRect,\n        computeEdges: computeEdges,\n        getClippingParents: getClippingParents,\n        computeRect: computeRect,\n        unpromisify: unpromisify,\n        Emitter: Emitter,\n        rangeContainsMarker: rangeContainsMarker,\n        intersectRanges: intersectRanges,\n        rangesEqual: rangesEqual,\n        rangesIntersect: rangesIntersect,\n        rangeContainsRange: rangeContainsRange,\n        PositionCache: PositionCache,\n        ScrollController: ScrollController,\n        ElementScrollController: ElementScrollController,\n        WindowScrollController: WindowScrollController,\n        Theme: Theme,\n        ViewContextType: ViewContextType,\n        DateComponent: DateComponent,\n        DateProfileGenerator: DateProfileGenerator,\n        isDateSpansEqual: isDateSpansEqual,\n        addDays: addDays,\n        startOfDay: startOfDay,\n        addMs: addMs,\n        addWeeks: addWeeks,\n        diffWeeks: diffWeeks,\n        diffWholeWeeks: diffWholeWeeks,\n        diffWholeDays: diffWholeDays,\n        diffDayAndTime: diffDayAndTime,\n        diffDays: diffDays,\n        isValidDate: isValidDate,\n        createDuration: createDuration,\n        asCleanDays: asCleanDays,\n        multiplyDuration: multiplyDuration,\n        addDurations: addDurations,\n        asRoughMinutes: asRoughMinutes,\n        asRoughSeconds: asRoughSeconds,\n        asRoughMs: asRoughMs,\n        wholeDivideDurations: wholeDivideDurations,\n        greatestDurationDenominator: greatestDurationDenominator,\n        DateEnv: DateEnv,\n        createFormatter: createFormatter,\n        formatIsoTimeString: formatIsoTimeString,\n        formatDayString: formatDayString,\n        buildIsoString: buildIsoString,\n        formatIsoMonthStr: formatIsoMonthStr,\n        NamedTimeZoneImpl: NamedTimeZoneImpl,\n        parseMarker: parse,\n        SegHierarchy: SegHierarchy,\n        buildEntryKey: buildEntryKey,\n        getEntrySpanEnd: getEntrySpanEnd,\n        binarySearch: binarySearch,\n        groupIntersectingEntries: groupIntersectingEntries,\n        intersectSpans: intersectSpans,\n        Interaction: Interaction,\n        interactionSettingsToStore: interactionSettingsToStore,\n        interactionSettingsStore: interactionSettingsStore,\n        ElementDragging: ElementDragging,\n        config: config,\n        parseDragMeta: parseDragMeta,\n        CalendarRoot: CalendarRoot,\n        DayHeader: DayHeader,\n        computeFallbackHeaderFormat: computeFallbackHeaderFormat,\n        TableDateCell: TableDateCell,\n        TableDowCell: TableDowCell,\n        DaySeriesModel: DaySeriesModel,\n        sliceEventStore: sliceEventStore,\n        hasBgRendering: hasBgRendering,\n        getElSeg: getElSeg,\n        buildSegTimeText: buildSegTimeText,\n        sortEventSegs: sortEventSegs,\n        getSegMeta: getSegMeta,\n        buildEventRangeKey: buildEventRangeKey,\n        getSegAnchorAttrs: getSegAnchorAttrs,\n        DayTableModel: DayTableModel,\n        Slicer: Slicer,\n        applyMutationToEventStore: applyMutationToEventStore,\n        isPropsValid: isPropsValid,\n        isInteractionValid: isInteractionValid,\n        isDateSelectionValid: isDateSelectionValid,\n        requestJson: requestJson,\n        BaseComponent: BaseComponent,\n        setRef: setRef,\n        DelayedRunner: DelayedRunner,\n        SimpleScrollGrid: SimpleScrollGrid,\n        hasShrinkWidth: hasShrinkWidth,\n        renderMicroColGroup: renderMicroColGroup,\n        getScrollGridClassNames: getScrollGridClassNames,\n        getSectionClassNames: getSectionClassNames,\n        getSectionHasLiquidHeight: getSectionHasLiquidHeight,\n        getAllowYScrolling: getAllowYScrolling,\n        renderChunkContent: renderChunkContent,\n        computeShrinkWidth: computeShrinkWidth,\n        sanitizeShrinkWidth: sanitizeShrinkWidth,\n        isColPropsEqual: isColPropsEqual,\n        renderScrollShim: renderScrollShim,\n        getStickyFooterScrollbar: getStickyFooterScrollbar,\n        getStickyHeaderDates: getStickyHeaderDates,\n        Scroller: Scroller,\n        getScrollbarWidths: getScrollbarWidths,\n        RefMap: RefMap,\n        getIsRtlScrollbarOnLeft: getIsRtlScrollbarOnLeft,\n        NowTimer: NowTimer,\n        ScrollResponder: ScrollResponder,\n        StandardEvent: StandardEvent,\n        NowIndicatorContainer: NowIndicatorContainer,\n        DayCellContainer: DayCellContainer,\n        hasCustomDayCellContent: hasCustomDayCellContent,\n        EventContainer: EventContainer,\n        renderFill: renderFill,\n        BgEvent: BgEvent,\n        WeekNumberContainer: WeekNumberContainer,\n        MoreLinkContainer: MoreLinkContainer,\n        computeEarliestSegStart: computeEarliestSegStart,\n        ViewContainer: ViewContainer,\n        triggerDateSelect: triggerDateSelect,\n        getDefaultEventEnd: getDefaultEventEnd,\n        injectStyles: injectStyles,\n        CalendarImpl: CalendarImpl,\n        EventImpl: EventImpl,\n        buildEventApis: buildEventApis,\n        buildElAttrs: buildElAttrs,\n        ContentContainer: ContentContainer,\n        CustomRenderingStore: CustomRenderingStore\n    };\n\n    var css_248z = \":root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-moz-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\\\e900\\\"}.fc-icon-chevron-right:before{content:\\\"\\\\e901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\\\e902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\\\e903\\\"}.fc-icon-minus-square:before{content:\\\"\\\\e904\\\"}.fc-icon-plus-square:before{content:\\\"\\\\e905\\\"}.fc-icon-x:before{content:\\\"\\\\e906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}\";\n    injectStyles(css_248z);\n\n    const globalLocales = [];\n\n    const MINIMAL_RAW_EN_LOCALE = {\n        code: 'en',\n        week: {\n            dow: 0,\n            doy: 4, // 4 days need to be within the year to be considered the first week\n        },\n        direction: 'ltr',\n        buttonText: {\n            prev: 'prev',\n            next: 'next',\n            prevYear: 'prev year',\n            nextYear: 'next year',\n            year: 'year',\n            today: 'today',\n            month: 'month',\n            week: 'week',\n            day: 'day',\n            list: 'list',\n        },\n        weekText: 'W',\n        weekTextLong: 'Week',\n        closeHint: 'Close',\n        timeHint: 'Time',\n        eventHint: 'Event',\n        allDayText: 'all-day',\n        moreLinkText: 'more',\n        noEventsText: 'No events to display',\n    };\n    const RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n        // Includes things we don't want other locales to inherit,\n        // things that derive from other translatable strings.\n        buttonHints: {\n            prev: 'Previous $0',\n            next: 'Next $0',\n            today(buttonText, unit) {\n                return (unit === 'day')\n                    ? 'Today'\n                    : `This ${buttonText}`;\n            },\n        }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n            return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n        } });\n    function organizeRawLocales(explicitRawLocales) {\n        let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n        let allRawLocales = globalLocales.concat(explicitRawLocales);\n        let rawLocaleMap = {\n            en: RAW_EN_LOCALE,\n        };\n        for (let rawLocale of allRawLocales) {\n            rawLocaleMap[rawLocale.code] = rawLocale;\n        }\n        return {\n            map: rawLocaleMap,\n            defaultCode,\n        };\n    }\n    function buildLocale(inputSingular, available) {\n        if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n            return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n        }\n        return queryLocale(inputSingular, available);\n    }\n    function queryLocale(codeArg, available) {\n        let codes = [].concat(codeArg || []); // will convert to array\n        let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n        return parseLocale(codeArg, codes, raw);\n    }\n    function queryRawLocale(codes, available) {\n        for (let i = 0; i < codes.length; i += 1) {\n            let parts = codes[i].toLocaleLowerCase().split('-');\n            for (let j = parts.length; j > 0; j -= 1) {\n                let simpleId = parts.slice(0, j).join('-');\n                if (available[simpleId]) {\n                    return available[simpleId];\n                }\n            }\n        }\n        return null;\n    }\n    function parseLocale(codeArg, codes, raw) {\n        let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n        delete merged.code; // don't want this part of the options\n        let { week } = merged;\n        delete merged.week;\n        return {\n            codeArg,\n            codes,\n            week,\n            simpleNumberFormat: new Intl.NumberFormat(codeArg),\n            options: merged,\n        };\n    }\n\n    // TODO: easier way to add new hooks? need to update a million things\n    function createPlugin(input) {\n        return {\n            id: guid(),\n            name: input.name,\n            premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n            deps: input.deps || [],\n            reducers: input.reducers || [],\n            isLoadingFuncs: input.isLoadingFuncs || [],\n            contextInit: [].concat(input.contextInit || []),\n            eventRefiners: input.eventRefiners || {},\n            eventDefMemberAdders: input.eventDefMemberAdders || [],\n            eventSourceRefiners: input.eventSourceRefiners || {},\n            isDraggableTransformers: input.isDraggableTransformers || [],\n            eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n            eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n            dateSelectionTransformers: input.dateSelectionTransformers || [],\n            datePointTransforms: input.datePointTransforms || [],\n            dateSpanTransforms: input.dateSpanTransforms || [],\n            views: input.views || {},\n            viewPropsTransformers: input.viewPropsTransformers || [],\n            isPropsValid: input.isPropsValid || null,\n            externalDefTransforms: input.externalDefTransforms || [],\n            viewContainerAppends: input.viewContainerAppends || [],\n            eventDropTransformers: input.eventDropTransformers || [],\n            componentInteractions: input.componentInteractions || [],\n            calendarInteractions: input.calendarInteractions || [],\n            themeClasses: input.themeClasses || {},\n            eventSourceDefs: input.eventSourceDefs || [],\n            cmdFormatter: input.cmdFormatter,\n            recurringTypes: input.recurringTypes || [],\n            namedTimeZonedImpl: input.namedTimeZonedImpl,\n            initialView: input.initialView || '',\n            elementDraggingImpl: input.elementDraggingImpl,\n            optionChangeHandlers: input.optionChangeHandlers || {},\n            scrollGridImpl: input.scrollGridImpl || null,\n            listenerRefiners: input.listenerRefiners || {},\n            optionRefiners: input.optionRefiners || {},\n            propSetHandlers: input.propSetHandlers || {},\n        };\n    }\n    function buildPluginHooks(pluginDefs, globalDefs) {\n        let currentPluginIds = {};\n        let hooks = {\n            premiumReleaseDate: undefined,\n            reducers: [],\n            isLoadingFuncs: [],\n            contextInit: [],\n            eventRefiners: {},\n            eventDefMemberAdders: [],\n            eventSourceRefiners: {},\n            isDraggableTransformers: [],\n            eventDragMutationMassagers: [],\n            eventDefMutationAppliers: [],\n            dateSelectionTransformers: [],\n            datePointTransforms: [],\n            dateSpanTransforms: [],\n            views: {},\n            viewPropsTransformers: [],\n            isPropsValid: null,\n            externalDefTransforms: [],\n            viewContainerAppends: [],\n            eventDropTransformers: [],\n            componentInteractions: [],\n            calendarInteractions: [],\n            themeClasses: {},\n            eventSourceDefs: [],\n            cmdFormatter: null,\n            recurringTypes: [],\n            namedTimeZonedImpl: null,\n            initialView: '',\n            elementDraggingImpl: null,\n            optionChangeHandlers: {},\n            scrollGridImpl: null,\n            listenerRefiners: {},\n            optionRefiners: {},\n            propSetHandlers: {},\n        };\n        function addDefs(defs) {\n            for (let def of defs) {\n                const pluginName = def.name;\n                const currentId = currentPluginIds[pluginName];\n                if (currentId === undefined) {\n                    currentPluginIds[pluginName] = def.id;\n                    addDefs(def.deps);\n                    hooks = combineHooks(hooks, def);\n                }\n                else if (currentId !== def.id) {\n                    // different ID than the one already added\n                    console.warn(`Duplicate plugin '${pluginName}'`);\n                }\n            }\n        }\n        if (pluginDefs) {\n            addDefs(pluginDefs);\n        }\n        addDefs(globalDefs);\n        return hooks;\n    }\n    function buildBuildPluginHooks() {\n        let currentOverrideDefs = [];\n        let currentGlobalDefs = [];\n        let currentHooks;\n        return (overrideDefs, globalDefs) => {\n            if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n                currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n            }\n            currentOverrideDefs = overrideDefs;\n            currentGlobalDefs = globalDefs;\n            return currentHooks;\n        };\n    }\n    function combineHooks(hooks0, hooks1) {\n        return {\n            premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n            reducers: hooks0.reducers.concat(hooks1.reducers),\n            isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n            contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n            eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n            eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n            eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n            isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n            eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n            eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n            dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n            datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n            dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n            views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n            viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n            isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n            externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n            viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n            eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n            calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n            componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n            themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n            eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n            cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n            recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n            namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n            initialView: hooks0.initialView || hooks1.initialView,\n            elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n            optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n            scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n            listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n            optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n            propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n        };\n    }\n    function compareOptionalDates(date0, date1) {\n        if (date0 === undefined) {\n            return date1;\n        }\n        if (date1 === undefined) {\n            return date0;\n        }\n        return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n    }\n\n    class StandardTheme extends Theme {\n    }\n    StandardTheme.prototype.classes = {\n        root: 'fc-theme-standard',\n        tableCellShaded: 'fc-cell-shaded',\n        buttonGroup: 'fc-button-group',\n        button: 'fc-button fc-button-primary',\n        buttonActive: 'fc-button-active',\n    };\n    StandardTheme.prototype.baseIconClass = 'fc-icon';\n    StandardTheme.prototype.iconClasses = {\n        close: 'fc-icon-x',\n        prev: 'fc-icon-chevron-left',\n        next: 'fc-icon-chevron-right',\n        prevYear: 'fc-icon-chevrons-left',\n        nextYear: 'fc-icon-chevrons-right',\n    };\n    StandardTheme.prototype.rtlIconClasses = {\n        prev: 'fc-icon-chevron-right',\n        next: 'fc-icon-chevron-left',\n        prevYear: 'fc-icon-chevrons-right',\n        nextYear: 'fc-icon-chevrons-left',\n    };\n    StandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\n    StandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\n    StandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\n    function compileViewDefs(defaultConfigs, overrideConfigs) {\n        let hash = {};\n        let viewType;\n        for (viewType in defaultConfigs) {\n            ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n        }\n        for (viewType in overrideConfigs) {\n            ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n        }\n        return hash;\n    }\n    function ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n        if (hash[viewType]) {\n            return hash[viewType];\n        }\n        let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n        if (viewDef) {\n            hash[viewType] = viewDef;\n        }\n        return viewDef;\n    }\n    function buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n        let defaultConfig = defaultConfigs[viewType];\n        let overrideConfig = overrideConfigs[viewType];\n        let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n            ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n        let theComponent = queryProp('component');\n        let superType = queryProp('superType');\n        let superDef = null;\n        if (superType) {\n            if (superType === viewType) {\n                throw new Error('Can\\'t have a custom view type that references itself');\n            }\n            superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n        }\n        if (!theComponent && superDef) {\n            theComponent = superDef.component;\n        }\n        if (!theComponent) {\n            return null; // don't throw a warning, might be settings for a single-unit view\n        }\n        return {\n            type: viewType,\n            component: theComponent,\n            defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n            overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n        };\n    }\n\n    function parseViewConfigs(inputs) {\n        return mapHash(inputs, parseViewConfig);\n    }\n    function parseViewConfig(input) {\n        let rawOptions = typeof input === 'function' ?\n            { component: input } :\n            input;\n        let { component } = rawOptions;\n        if (rawOptions.content) {\n            component = createViewHookComponent(rawOptions);\n            // TODO: remove content/classNames/didMount/etc from options?\n        }\n        return {\n            superType: rawOptions.type,\n            component: component,\n            rawOptions, // includes type and component too :(\n        };\n    }\n    function createViewHookComponent(options) {\n        return (viewProps) => (h(ViewContextType.Consumer, null, (context) => (h(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n    }\n\n    function buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n        let defaultConfigs = parseViewConfigs(defaultInputs);\n        let overrideConfigs = parseViewConfigs(optionOverrides.views);\n        let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n        return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n    }\n    function buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n        let durationInput = viewDef.overrides.duration ||\n            viewDef.defaults.duration ||\n            dynamicOptionOverrides.duration ||\n            optionOverrides.duration;\n        let duration = null;\n        let durationUnit = '';\n        let singleUnit = '';\n        let singleUnitOverrides = {};\n        if (durationInput) {\n            duration = createDurationCached(durationInput);\n            if (duration) { // valid?\n                let denom = greatestDurationDenominator(duration);\n                durationUnit = denom.unit;\n                if (denom.value === 1) {\n                    singleUnit = durationUnit;\n                    singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n                }\n            }\n        }\n        let queryButtonText = (optionsSubset) => {\n            let buttonTextMap = optionsSubset.buttonText || {};\n            let buttonTextKey = viewDef.defaults.buttonTextKey;\n            if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n                return buttonTextMap[buttonTextKey];\n            }\n            if (buttonTextMap[viewDef.type] != null) {\n                return buttonTextMap[viewDef.type];\n            }\n            if (buttonTextMap[singleUnit] != null) {\n                return buttonTextMap[singleUnit];\n            }\n            return null;\n        };\n        let queryButtonTitle = (optionsSubset) => {\n            let buttonHints = optionsSubset.buttonHints || {};\n            let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n            if (buttonKey != null && buttonHints[buttonKey] != null) {\n                return buttonHints[buttonKey];\n            }\n            if (buttonHints[viewDef.type] != null) {\n                return buttonHints[viewDef.type];\n            }\n            if (buttonHints[singleUnit] != null) {\n                return buttonHints[singleUnit];\n            }\n            return null;\n        };\n        return {\n            type: viewDef.type,\n            component: viewDef.component,\n            duration,\n            durationUnit,\n            singleUnit,\n            optionDefaults: viewDef.defaults,\n            optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n            buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n                queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n                viewDef.overrides.buttonText,\n            buttonTextDefault: queryButtonText(localeDefaults) ||\n                viewDef.defaults.buttonText ||\n                queryButtonText(BASE_OPTION_DEFAULTS) ||\n                viewDef.type,\n            // not DRY\n            buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n                queryButtonTitle(optionOverrides) ||\n                viewDef.overrides.buttonHint,\n            buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n                viewDef.defaults.buttonHint ||\n                queryButtonTitle(BASE_OPTION_DEFAULTS),\n            // will eventually fall back to buttonText\n        };\n    }\n    // hack to get memoization working\n    let durationInputMap = {};\n    function createDurationCached(durationInput) {\n        let json = JSON.stringify(durationInput);\n        let res = durationInputMap[json];\n        if (res === undefined) {\n            res = createDuration(durationInput);\n            durationInputMap[json] = res;\n        }\n        return res;\n    }\n\n    function reduceViewType(viewType, action) {\n        switch (action.type) {\n            case 'CHANGE_VIEW_TYPE':\n                viewType = action.viewType;\n        }\n        return viewType;\n    }\n\n    function reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n        switch (action.type) {\n            case 'SET_OPTION':\n                return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n            default:\n                return dynamicOptionOverrides;\n        }\n    }\n\n    function reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n        let dp;\n        switch (action.type) {\n            case 'CHANGE_VIEW_TYPE':\n                return dateProfileGenerator.build(action.dateMarker || currentDate);\n            case 'CHANGE_DATE':\n                return dateProfileGenerator.build(action.dateMarker);\n            case 'PREV':\n                dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n                if (dp.isValid) {\n                    return dp;\n                }\n                break;\n            case 'NEXT':\n                dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n                if (dp.isValid) {\n                    return dp;\n                }\n                break;\n        }\n        return currentDateProfile;\n    }\n\n    function initEventSources(calendarOptions, dateProfile, context) {\n        let activeRange = dateProfile ? dateProfile.activeRange : null;\n        return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n    }\n    function reduceEventSources(eventSources, action, dateProfile, context) {\n        let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n        switch (action.type) {\n            case 'ADD_EVENT_SOURCES': // already parsed\n                return addSources(eventSources, action.sources, activeRange, context);\n            case 'REMOVE_EVENT_SOURCE':\n                return removeSource(eventSources, action.sourceId);\n            case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n            case 'NEXT':\n            case 'CHANGE_DATE':\n            case 'CHANGE_VIEW_TYPE':\n                if (dateProfile) {\n                    return fetchDirtySources(eventSources, activeRange, context);\n                }\n                return eventSources;\n            case 'FETCH_EVENT_SOURCES':\n                return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                    arrayToHash(action.sourceIds) :\n                    excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n            case 'RECEIVE_EVENTS':\n            case 'RECEIVE_EVENT_ERROR':\n                return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n            case 'REMOVE_ALL_EVENT_SOURCES':\n                return {};\n            default:\n                return eventSources;\n        }\n    }\n    function reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n        let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n        return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n    }\n    function computeEventSourcesLoading(eventSources) {\n        for (let sourceId in eventSources) {\n            if (eventSources[sourceId].isFetching) {\n                return true;\n            }\n        }\n        return false;\n    }\n    function addSources(eventSourceHash, sources, fetchRange, context) {\n        let hash = {};\n        for (let source of sources) {\n            hash[source.sourceId] = source;\n        }\n        if (fetchRange) {\n            hash = fetchDirtySources(hash, fetchRange, context);\n        }\n        return Object.assign(Object.assign({}, eventSourceHash), hash);\n    }\n    function removeSource(eventSourceHash, sourceId) {\n        return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n    }\n    function fetchDirtySources(sourceHash, fetchRange, context) {\n        return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n    }\n    function isSourceDirty(eventSource, fetchRange, context) {\n        if (!doesSourceNeedRange(eventSource, context)) {\n            return !eventSource.latestFetchId;\n        }\n        return !context.options.lazyFetching ||\n            !eventSource.fetchRange ||\n            eventSource.isFetching || // always cancel outdated in-progress fetches\n            fetchRange.start < eventSource.fetchRange.start ||\n            fetchRange.end > eventSource.fetchRange.end;\n    }\n    function fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n        let nextSources = {};\n        for (let sourceId in prevSources) {\n            let source = prevSources[sourceId];\n            if (sourceIdHash[sourceId]) {\n                nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n            }\n            else {\n                nextSources[sourceId] = source;\n            }\n        }\n        return nextSources;\n    }\n    function fetchSource(eventSource, fetchRange, isRefetch, context) {\n        let { options, calendarApi } = context;\n        let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n        let fetchId = guid();\n        sourceDef.fetch({\n            eventSource,\n            range: fetchRange,\n            isRefetch,\n            context,\n        }, (res) => {\n            let { rawEvents } = res;\n            if (options.eventSourceSuccess) {\n                rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n            }\n            if (eventSource.success) {\n                rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n            }\n            context.dispatch({\n                type: 'RECEIVE_EVENTS',\n                sourceId: eventSource.sourceId,\n                fetchId,\n                fetchRange,\n                rawEvents,\n            });\n        }, (error) => {\n            let errorHandled = false;\n            if (options.eventSourceFailure) {\n                options.eventSourceFailure.call(calendarApi, error);\n                errorHandled = true;\n            }\n            if (eventSource.failure) {\n                eventSource.failure(error);\n                errorHandled = true;\n            }\n            if (!errorHandled) {\n                console.warn(error.message, error);\n            }\n            context.dispatch({\n                type: 'RECEIVE_EVENT_ERROR',\n                sourceId: eventSource.sourceId,\n                fetchId,\n                fetchRange,\n                error,\n            });\n        });\n        return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n    }\n    function receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n        let eventSource = sourceHash[sourceId];\n        if (eventSource && // not already removed\n            fetchId === eventSource.latestFetchId) {\n            return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n        }\n        return sourceHash;\n    }\n    function excludeStaticSources(eventSources, context) {\n        return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n    }\n    function parseInitialSources(rawOptions, context) {\n        let refiners = buildEventSourceRefiners(context);\n        let rawSources = [].concat(rawOptions.eventSources || []);\n        let sources = []; // parsed\n        if (rawOptions.initialEvents) {\n            rawSources.unshift(rawOptions.initialEvents);\n        }\n        if (rawOptions.events) {\n            rawSources.unshift(rawOptions.events);\n        }\n        for (let rawSource of rawSources) {\n            let source = parseEventSource(rawSource, context, refiners);\n            if (source) {\n                sources.push(source);\n            }\n        }\n        return sources;\n    }\n    function doesSourceNeedRange(eventSource, context) {\n        let defs = context.pluginHooks.eventSourceDefs;\n        return !defs[eventSource.sourceDefId].ignoreRange;\n    }\n\n    function reduceDateSelection(currentSelection, action) {\n        switch (action.type) {\n            case 'UNSELECT_DATES':\n                return null;\n            case 'SELECT_DATES':\n                return action.selection;\n            default:\n                return currentSelection;\n        }\n    }\n\n    function reduceSelectedEvent(currentInstanceId, action) {\n        switch (action.type) {\n            case 'UNSELECT_EVENT':\n                return '';\n            case 'SELECT_EVENT':\n                return action.eventInstanceId;\n            default:\n                return currentInstanceId;\n        }\n    }\n\n    function reduceEventDrag(currentDrag, action) {\n        let newDrag;\n        switch (action.type) {\n            case 'UNSET_EVENT_DRAG':\n                return null;\n            case 'SET_EVENT_DRAG':\n                newDrag = action.state;\n                return {\n                    affectedEvents: newDrag.affectedEvents,\n                    mutatedEvents: newDrag.mutatedEvents,\n                    isEvent: newDrag.isEvent,\n                };\n            default:\n                return currentDrag;\n        }\n    }\n\n    function reduceEventResize(currentResize, action) {\n        let newResize;\n        switch (action.type) {\n            case 'UNSET_EVENT_RESIZE':\n                return null;\n            case 'SET_EVENT_RESIZE':\n                newResize = action.state;\n                return {\n                    affectedEvents: newResize.affectedEvents,\n                    mutatedEvents: newResize.mutatedEvents,\n                    isEvent: newResize.isEvent,\n                };\n            default:\n                return currentResize;\n        }\n    }\n\n    function parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n        let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n        let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n        return { header, footer };\n    }\n    function parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n        let sectionWidgets = {};\n        let viewsWithButtons = [];\n        let hasTitle = false;\n        for (let sectionName in sectionStrHash) {\n            let sectionStr = sectionStrHash[sectionName];\n            let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n            sectionWidgets[sectionName] = sectionRes.widgets;\n            viewsWithButtons.push(...sectionRes.viewsWithButtons);\n            hasTitle = hasTitle || sectionRes.hasTitle;\n        }\n        return { sectionWidgets, viewsWithButtons, hasTitle };\n    }\n    /*\n    BAD: querying icons and text here. should be done at render time\n    */\n    function parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\n    calendarOptionOverrides, // overrides only!, unrefined :(\n    theme, viewSpecs, calendarApi) {\n        let isRtl = calendarOptions.direction === 'rtl';\n        let calendarCustomButtons = calendarOptions.customButtons || {};\n        let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n        let calendarButtonText = calendarOptions.buttonText || {};\n        let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n        let calendarButtonHints = calendarOptions.buttonHints || {};\n        let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n        let viewsWithButtons = [];\n        let hasTitle = false;\n        let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n            if (buttonName === 'title') {\n                hasTitle = true;\n                return { buttonName };\n            }\n            let customButtonProps;\n            let viewSpec;\n            let buttonClick;\n            let buttonIcon; // only one of these will be set\n            let buttonText; // \"\n            let buttonHint;\n            // ^ for the title=\"\" attribute, for accessibility\n            if ((customButtonProps = calendarCustomButtons[buttonName])) {\n                buttonClick = (ev) => {\n                    if (customButtonProps.click) {\n                        customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                    }\n                };\n                (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                    (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                    (buttonText = customButtonProps.text);\n                buttonHint = customButtonProps.hint || customButtonProps.text;\n            }\n            else if ((viewSpec = viewSpecs[buttonName])) {\n                viewsWithButtons.push(buttonName);\n                buttonClick = () => {\n                    calendarApi.changeView(buttonName);\n                };\n                (buttonText = viewSpec.buttonTextOverride) ||\n                    (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                    (buttonText = viewSpec.buttonTextDefault);\n                let textFallback = viewSpec.buttonTextOverride ||\n                    viewSpec.buttonTextDefault;\n                buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                    viewSpec.buttonTitleDefault ||\n                    calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n                textFallback);\n            }\n            else if (calendarApi[buttonName]) { // a calendarApi method\n                buttonClick = () => {\n                    calendarApi[buttonName]();\n                };\n                (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                    (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                    (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n                if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                    let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                    buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                        calendarButtonHints[prevOrNext], [\n                        calendarButtonText.year || 'year',\n                        'year',\n                    ], calendarButtonText[buttonName]);\n                }\n                else {\n                    buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                        calendarButtonHints[buttonName], [\n                        calendarButtonText[navUnit] || navUnit,\n                        navUnit,\n                    ], calendarButtonText[buttonName]);\n                }\n            }\n            return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n        })));\n        return { widgets, viewsWithButtons, hasTitle };\n    }\n\n    // always represents the current view. otherwise, it'd need to change value every time date changes\n    class ViewImpl {\n        constructor(type, getCurrentData, dateEnv) {\n            this.type = type;\n            this.getCurrentData = getCurrentData;\n            this.dateEnv = dateEnv;\n        }\n        get calendar() {\n            return this.getCurrentData().calendarApi;\n        }\n        get title() {\n            return this.getCurrentData().viewTitle;\n        }\n        get activeStart() {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        }\n        get activeEnd() {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        }\n        get currentStart() {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        }\n        get currentEnd() {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        }\n        getOption(name) {\n            return this.getCurrentData().options[name]; // are the view-specific options\n        }\n    }\n\n    let eventSourceDef$2 = {\n        ignoreRange: true,\n        parseMeta(refined) {\n            if (Array.isArray(refined.events)) {\n                return refined.events;\n            }\n            return null;\n        },\n        fetch(arg, successCallback) {\n            successCallback({\n                rawEvents: arg.eventSource.meta,\n            });\n        },\n    };\n    const arrayEventSourcePlugin = createPlugin({\n        name: 'array-event-source',\n        eventSourceDefs: [eventSourceDef$2],\n    });\n\n    let eventSourceDef$1 = {\n        parseMeta(refined) {\n            if (typeof refined.events === 'function') {\n                return refined.events;\n            }\n            return null;\n        },\n        fetch(arg, successCallback, errorCallback) {\n            const { dateEnv } = arg.context;\n            const func = arg.eventSource.meta;\n            unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n        },\n    };\n    const funcEventSourcePlugin = createPlugin({\n        name: 'func-event-source',\n        eventSourceDefs: [eventSourceDef$1],\n    });\n\n    const JSON_FEED_EVENT_SOURCE_REFINERS = {\n        method: String,\n        extraParams: identity,\n        startParam: String,\n        endParam: String,\n        timeZoneParam: String,\n    };\n\n    let eventSourceDef = {\n        parseMeta(refined) {\n            if (refined.url && (refined.format === 'json' || !refined.format)) {\n                return {\n                    url: refined.url,\n                    format: 'json',\n                    method: (refined.method || 'GET').toUpperCase(),\n                    extraParams: refined.extraParams,\n                    startParam: refined.startParam,\n                    endParam: refined.endParam,\n                    timeZoneParam: refined.timeZoneParam,\n                };\n            }\n            return null;\n        },\n        fetch(arg, successCallback, errorCallback) {\n            const { meta } = arg.eventSource;\n            const requestParams = buildRequestParams(meta, arg.range, arg.context);\n            requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n                successCallback({ rawEvents, response });\n            }, errorCallback);\n        },\n    };\n    const jsonFeedEventSourcePlugin = createPlugin({\n        name: 'json-event-source',\n        eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n        eventSourceDefs: [eventSourceDef],\n    });\n    function buildRequestParams(meta, range, context) {\n        let { dateEnv, options } = context;\n        let startParam;\n        let endParam;\n        let timeZoneParam;\n        let customRequestParams;\n        let params = {};\n        startParam = meta.startParam;\n        if (startParam == null) {\n            startParam = options.startParam;\n        }\n        endParam = meta.endParam;\n        if (endParam == null) {\n            endParam = options.endParam;\n        }\n        timeZoneParam = meta.timeZoneParam;\n        if (timeZoneParam == null) {\n            timeZoneParam = options.timeZoneParam;\n        }\n        // retrieve any outbound GET/POST data from the options\n        if (typeof meta.extraParams === 'function') {\n            // supplied as a function that returns a key/value object\n            customRequestParams = meta.extraParams();\n        }\n        else {\n            // probably supplied as a straight key/value object\n            customRequestParams = meta.extraParams || {};\n        }\n        Object.assign(params, customRequestParams);\n        params[startParam] = dateEnv.formatIso(range.start);\n        params[endParam] = dateEnv.formatIso(range.end);\n        if (dateEnv.timeZone !== 'local') {\n            params[timeZoneParam] = dateEnv.timeZone;\n        }\n        return params;\n    }\n\n    const SIMPLE_RECURRING_REFINERS = {\n        daysOfWeek: identity,\n        startTime: createDuration,\n        endTime: createDuration,\n        duration: createDuration,\n        startRecur: identity,\n        endRecur: identity,\n    };\n\n    let recurring = {\n        parse(refined, dateEnv) {\n            if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n                let recurringData = {\n                    daysOfWeek: refined.daysOfWeek || null,\n                    startTime: refined.startTime || null,\n                    endTime: refined.endTime || null,\n                    startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                    endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n                };\n                let duration;\n                if (refined.duration) {\n                    duration = refined.duration;\n                }\n                if (!duration && refined.startTime && refined.endTime) {\n                    duration = subtractDurations(refined.endTime, refined.startTime);\n                }\n                return {\n                    allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                    duration,\n                    typeData: recurringData, // doesn't need endTime anymore but oh well\n                };\n            }\n            return null;\n        },\n        expand(typeData, framingRange, dateEnv) {\n            let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n            if (clippedFramingRange) {\n                return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n            }\n            return [];\n        },\n    };\n    const simpleRecurringEventsPlugin = createPlugin({\n        name: 'simple-recurring-event',\n        recurringTypes: [recurring],\n        eventRefiners: SIMPLE_RECURRING_REFINERS,\n    });\n    function expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n        let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n        let dayMarker = startOfDay(framingRange.start);\n        let endMarker = framingRange.end;\n        let instanceStarts = [];\n        while (dayMarker < endMarker) {\n            let instanceStart;\n            // if everyday, or this particular day-of-week\n            if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n                if (startTime) {\n                    instanceStart = dateEnv.add(dayMarker, startTime);\n                }\n                else {\n                    instanceStart = dayMarker;\n                }\n                instanceStarts.push(instanceStart);\n            }\n            dayMarker = addDays(dayMarker, 1);\n        }\n        return instanceStarts;\n    }\n\n    const changeHandlerPlugin = createPlugin({\n        name: 'change-handler',\n        optionChangeHandlers: {\n            events(events, context) {\n                handleEventSources([events], context);\n            },\n            eventSources: handleEventSources,\n        },\n    });\n    /*\n    BUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n    */\n    function handleEventSources(inputs, context) {\n        let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n        if (unfoundSources.length === 1 &&\n            inputs.length === 1 &&\n            Array.isArray(unfoundSources[0]._raw) &&\n            Array.isArray(inputs[0])) {\n            context.dispatch({\n                type: 'RESET_RAW_EVENTS',\n                sourceId: unfoundSources[0].sourceId,\n                rawEvents: inputs[0],\n            });\n            return;\n        }\n        let newInputs = [];\n        for (let input of inputs) {\n            let inputFound = false;\n            for (let i = 0; i < unfoundSources.length; i += 1) {\n                if (unfoundSources[i]._raw === input) {\n                    unfoundSources.splice(i, 1); // delete\n                    inputFound = true;\n                    break;\n                }\n            }\n            if (!inputFound) {\n                newInputs.push(input);\n            }\n        }\n        for (let unfoundSource of unfoundSources) {\n            context.dispatch({\n                type: 'REMOVE_EVENT_SOURCE',\n                sourceId: unfoundSource.sourceId,\n            });\n        }\n        for (let newInput of newInputs) {\n            context.calendarApi.addEventSource(newInput);\n        }\n    }\n\n    function handleDateProfile(dateProfile, context) {\n        context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n    }\n\n    function handleEventStore(eventStore, context) {\n        let { emitter } = context;\n        if (emitter.hasHandlers('eventsSet')) {\n            emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n        }\n    }\n\n    /*\n    this array is exposed on the root namespace so that UMD plugins can add to it.\n    see the rollup-bundles script.\n    */\n    const globalPlugins = [\n        arrayEventSourcePlugin,\n        funcEventSourcePlugin,\n        jsonFeedEventSourcePlugin,\n        simpleRecurringEventsPlugin,\n        changeHandlerPlugin,\n        createPlugin({\n            name: 'misc',\n            isLoadingFuncs: [\n                (state) => computeEventSourcesLoading(state.eventSources),\n            ],\n            propSetHandlers: {\n                dateProfile: handleDateProfile,\n                eventStore: handleEventStore,\n            },\n        }),\n    ];\n\n    class TaskRunner {\n        constructor(runTaskOption, drainedOption) {\n            this.runTaskOption = runTaskOption;\n            this.drainedOption = drainedOption;\n            this.queue = [];\n            this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n        }\n        request(task, delay) {\n            this.queue.push(task);\n            this.delayedRunner.request(delay);\n        }\n        pause(scope) {\n            this.delayedRunner.pause(scope);\n        }\n        resume(scope, force) {\n            this.delayedRunner.resume(scope, force);\n        }\n        drain() {\n            let { queue } = this;\n            while (queue.length) {\n                let completedTasks = [];\n                let task;\n                while ((task = queue.shift())) {\n                    this.runTask(task);\n                    completedTasks.push(task);\n                }\n                this.drained(completedTasks);\n            } // keep going, in case new tasks were added in the drained handler\n        }\n        runTask(task) {\n            if (this.runTaskOption) {\n                this.runTaskOption(task);\n            }\n        }\n        drained(completedTasks) {\n            if (this.drainedOption) {\n                this.drainedOption(completedTasks);\n            }\n        }\n    }\n\n    // Computes what the title at the top of the calendarApi should be for this view\n    function buildTitle(dateProfile, viewOptions, dateEnv) {\n        let range;\n        // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n        if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n            range = dateProfile.currentRange;\n        }\n        else { // for day units or smaller, use the actual day range\n            range = dateProfile.activeRange;\n        }\n        return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n            isEndExclusive: dateProfile.isRangeAllDay,\n            defaultSeparator: viewOptions.titleRangeSeparator,\n        });\n    }\n    // Generates the format string that should be used to generate the title for the current date range.\n    // Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\n    function buildTitleFormat(dateProfile) {\n        let { currentRangeUnit } = dateProfile;\n        if (currentRangeUnit === 'year') {\n            return { year: 'numeric' };\n        }\n        if (currentRangeUnit === 'month') {\n            return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n        }\n        let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n        if (days !== null && days > 1) {\n            // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n            return { year: 'numeric', month: 'short', day: 'numeric' };\n        }\n        // one day. longer, like \"September 9 2014\"\n        return { year: 'numeric', month: 'long', day: 'numeric' };\n    }\n\n    // in future refactor, do the redux-style function(state=initial) for initial-state\n    // also, whatever is happening in constructor, have it happen in action queue too\n    class CalendarDataManager {\n        constructor(props) {\n            this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n            this.organizeRawLocales = memoize(organizeRawLocales);\n            this.buildLocale = memoize(buildLocale);\n            this.buildPluginHooks = buildBuildPluginHooks();\n            this.buildDateEnv = memoize(buildDateEnv$1);\n            this.buildTheme = memoize(buildTheme);\n            this.parseToolbars = memoize(parseToolbars);\n            this.buildViewSpecs = memoize(buildViewSpecs);\n            this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n            this.buildViewApi = memoize(buildViewApi);\n            this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n            this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n            this.buildEventUiBases = memoize(buildEventUiBases);\n            this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n            this.buildTitle = memoize(buildTitle);\n            this.emitter = new Emitter();\n            this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n            this.currentCalendarOptionsInput = {};\n            this.currentCalendarOptionsRefined = {};\n            this.currentViewOptionsInput = {};\n            this.currentViewOptionsRefined = {};\n            this.currentCalendarOptionsRefiners = {};\n            this.optionsForRefining = [];\n            this.optionsForHandling = [];\n            this.getCurrentData = () => this.data;\n            this.dispatch = (action) => {\n                this.actionRunner.request(action); // protects against recursive calls to _handleAction\n            };\n            this.props = props;\n            this.actionRunner.pause();\n            let dynamicOptionOverrides = {};\n            let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n            let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n            let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n            // wire things up\n            // TODO: not DRY\n            props.calendarApi.currentDataManager = this;\n            this.emitter.setThisContext(props.calendarApi);\n            this.emitter.setOptions(currentViewData.options);\n            let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n            let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n            if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n                currentDate = dateProfile.currentRange.start;\n            }\n            let calendarContext = {\n                dateEnv: optionsData.dateEnv,\n                options: optionsData.calendarOptions,\n                pluginHooks: optionsData.pluginHooks,\n                calendarApi: props.calendarApi,\n                dispatch: this.dispatch,\n                emitter: this.emitter,\n                getCurrentData: this.getCurrentData,\n            };\n            // needs to be after setThisContext\n            for (let callback of optionsData.pluginHooks.contextInit) {\n                callback(calendarContext);\n            }\n            // NOT DRY\n            let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n            let initialState = {\n                dynamicOptionOverrides,\n                currentViewType,\n                currentDate,\n                dateProfile,\n                businessHours: this.parseContextBusinessHours(calendarContext),\n                eventSources,\n                eventUiBases: {},\n                eventStore: createEmptyEventStore(),\n                renderableEventStore: createEmptyEventStore(),\n                dateSelection: null,\n                eventSelection: '',\n                eventDrag: null,\n                eventResize: null,\n                selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n            };\n            let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n            for (let reducer of optionsData.pluginHooks.reducers) {\n                Object.assign(initialState, reducer(null, null, contextAndState));\n            }\n            if (computeIsLoading(initialState, calendarContext)) {\n                this.emitter.trigger('loading', true); // NOT DRY\n            }\n            this.state = initialState;\n            this.updateData();\n            this.actionRunner.resume();\n        }\n        resetOptions(optionOverrides, changedOptionNames) {\n            let { props } = this;\n            if (changedOptionNames === undefined) {\n                props.optionOverrides = optionOverrides;\n            }\n            else {\n                props.optionOverrides = Object.assign(Object.assign({}, (props.optionOverrides || {})), optionOverrides);\n                this.optionsForRefining.push(...changedOptionNames);\n            }\n            if (changedOptionNames === undefined || changedOptionNames.length) {\n                this.actionRunner.request({\n                    type: 'NOTHING',\n                });\n            }\n        }\n        _handleAction(action) {\n            let { props, state, emitter } = this;\n            let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n            let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n            let currentViewType = reduceViewType(state.currentViewType, action);\n            let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n            // wire things up\n            // TODO: not DRY\n            props.calendarApi.currentDataManager = this;\n            emitter.setThisContext(props.calendarApi);\n            emitter.setOptions(currentViewData.options);\n            let calendarContext = {\n                dateEnv: optionsData.dateEnv,\n                options: optionsData.calendarOptions,\n                pluginHooks: optionsData.pluginHooks,\n                calendarApi: props.calendarApi,\n                dispatch: this.dispatch,\n                emitter,\n                getCurrentData: this.getCurrentData,\n            };\n            let { currentDate, dateProfile } = state;\n            if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n                dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n            }\n            currentDate = reduceCurrentDate(currentDate, action);\n            dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n            if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n                action.type === 'NEXT' || // \"\n                !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n                currentDate = dateProfile.currentRange.start;\n            }\n            let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n            let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n            let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n            let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n                (state.renderableEventStore || eventStore) : // try from previous state\n                eventStore;\n            let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n            let eventUiBySource = this.buildEventUiBySource(eventSources);\n            let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n            let newState = {\n                dynamicOptionOverrides,\n                currentViewType,\n                currentDate,\n                dateProfile,\n                eventSources,\n                eventStore,\n                renderableEventStore,\n                selectionConfig,\n                eventUiBases,\n                businessHours: this.parseContextBusinessHours(calendarContext),\n                dateSelection: reduceDateSelection(state.dateSelection, action),\n                eventSelection: reduceSelectedEvent(state.eventSelection, action),\n                eventDrag: reduceEventDrag(state.eventDrag, action),\n                eventResize: reduceEventResize(state.eventResize, action),\n            };\n            let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n            for (let reducer of optionsData.pluginHooks.reducers) {\n                Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n            }\n            let wasLoading = computeIsLoading(state, calendarContext);\n            let isLoading = computeIsLoading(newState, calendarContext);\n            // TODO: use propSetHandlers in plugin system\n            if (!wasLoading && isLoading) {\n                emitter.trigger('loading', true);\n            }\n            else if (wasLoading && !isLoading) {\n                emitter.trigger('loading', false);\n            }\n            this.state = newState;\n            if (props.onAction) {\n                props.onAction(action);\n            }\n        }\n        updateData() {\n            let { props, state } = this;\n            let oldData = this.data;\n            let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n            let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n            let data = this.data = Object.assign(Object.assign(Object.assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n            let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n            let oldCalendarOptions = oldData && oldData.calendarOptions;\n            let newCalendarOptions = optionsData.calendarOptions;\n            if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n                if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                    // hack\n                    state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                    state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n                }\n                for (let optionName in changeHandlers) {\n                    if (this.optionsForHandling.indexOf(optionName) !== -1 ||\n                        oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                        changeHandlers[optionName](newCalendarOptions[optionName], data);\n                    }\n                }\n            }\n            this.optionsForHandling = [];\n            if (props.onData) {\n                props.onData(data);\n            }\n        }\n        computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n            // TODO: blacklist options that are handled by optionChangeHandlers\n            if (!this.optionsForRefining.length &&\n                optionOverrides === this.stableOptionOverrides &&\n                dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n                return this.stableCalendarOptionsData;\n            }\n            let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n            warnUnknownOptions(extra);\n            let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n            let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n            let theme = this.buildTheme(refinedOptions, pluginHooks);\n            let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n            return this.stableCalendarOptionsData = {\n                calendarOptions: refinedOptions,\n                pluginHooks,\n                dateEnv,\n                viewSpecs,\n                theme,\n                toolbarConfig,\n                localeDefaults,\n                availableRawLocales: availableLocaleData.map,\n            };\n        }\n        // always called from behind a memoizer\n        processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n            let { locales, locale } = mergeRawOptions([\n                BASE_OPTION_DEFAULTS,\n                optionOverrides,\n                dynamicOptionOverrides,\n            ]);\n            let availableLocaleData = this.organizeRawLocales(locales);\n            let availableRawLocales = availableLocaleData.map;\n            let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n            let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n            let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n            let extra = {};\n            let raw = mergeRawOptions([\n                BASE_OPTION_DEFAULTS,\n                localeDefaults,\n                optionOverrides,\n                dynamicOptionOverrides,\n            ]);\n            let refined = {};\n            let currentRaw = this.currentCalendarOptionsInput;\n            let currentRefined = this.currentCalendarOptionsRefined;\n            let anyChanges = false;\n            for (let optionName in raw) {\n                if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    (optionName in currentRaw) &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName])))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n            if (anyChanges) {\n                this.currentCalendarOptionsInput = raw;\n                this.currentCalendarOptionsRefined = refined;\n                this.stableOptionOverrides = optionOverrides;\n                this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n            }\n            this.optionsForHandling.push(...this.optionsForRefining);\n            this.optionsForRefining = [];\n            return {\n                rawOptions: this.currentCalendarOptionsInput,\n                refinedOptions: this.currentCalendarOptionsRefined,\n                pluginHooks,\n                availableLocaleData,\n                localeDefaults,\n                extra,\n            };\n        }\n        _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n            let viewSpec = optionsData.viewSpecs[viewType];\n            if (!viewSpec) {\n                throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n            }\n            let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n            warnUnknownOptions(extra);\n            let dateProfileGenerator = this.buildDateProfileGenerator({\n                dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n                duration: viewSpec.duration,\n                durationUnit: viewSpec.durationUnit,\n                usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n                dateEnv: optionsData.dateEnv,\n                calendarApi: this.props.calendarApi,\n                slotMinTime: refinedOptions.slotMinTime,\n                slotMaxTime: refinedOptions.slotMaxTime,\n                showNonCurrentDates: refinedOptions.showNonCurrentDates,\n                dayCount: refinedOptions.dayCount,\n                dateAlignment: refinedOptions.dateAlignment,\n                dateIncrement: refinedOptions.dateIncrement,\n                hiddenDays: refinedOptions.hiddenDays,\n                weekends: refinedOptions.weekends,\n                nowInput: refinedOptions.now,\n                validRangeInput: refinedOptions.validRange,\n                visibleRangeInput: refinedOptions.visibleRange,\n                fixedWeekCount: refinedOptions.fixedWeekCount,\n            });\n            let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n            return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n        }\n        processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n            let raw = mergeRawOptions([\n                BASE_OPTION_DEFAULTS,\n                viewSpec.optionDefaults,\n                localeDefaults,\n                optionOverrides,\n                viewSpec.optionOverrides,\n                dynamicOptionOverrides,\n            ]);\n            let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n            let refined = {};\n            let currentRaw = this.currentViewOptionsInput;\n            let currentRefined = this.currentViewOptionsRefined;\n            let anyChanges = false;\n            let extra = {};\n            for (let optionName in raw) {\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else {\n                    if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                        (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                            COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                        if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                            refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                        }\n                    }\n                    else if (refiners[optionName]) {\n                        refined[optionName] = refiners[optionName](raw[optionName]);\n                    }\n                    else {\n                        extra[optionName] = raw[optionName];\n                    }\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.currentViewOptionsInput = raw;\n                this.currentViewOptionsRefined = refined;\n            }\n            return {\n                rawOptions: this.currentViewOptionsInput,\n                refinedOptions: this.currentViewOptionsRefined,\n                extra,\n            };\n        }\n    }\n    function buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n        let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n        return new DateEnv({\n            calendarSystem: 'gregory',\n            timeZone,\n            namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n            locale,\n            weekNumberCalculation,\n            firstDay,\n            weekText,\n            cmdFormatter: pluginHooks.cmdFormatter,\n            defaultSeparator,\n        });\n    }\n    function buildTheme(options, pluginHooks) {\n        let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n        return new ThemeClass(options);\n    }\n    function buildDateProfileGenerator(props) {\n        let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n        return new DateProfileGeneratorClass(props);\n    }\n    function buildViewApi(type, getCurrentData, dateEnv) {\n        return new ViewImpl(type, getCurrentData, dateEnv);\n    }\n    function buildEventUiBySource(eventSources) {\n        return mapHash(eventSources, (eventSource) => eventSource.ui);\n    }\n    function buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n        let eventUiBases = { '': eventUiSingleBase };\n        for (let defId in eventDefs) {\n            let def = eventDefs[defId];\n            if (def.sourceId && eventUiBySource[def.sourceId]) {\n                eventUiBases[defId] = eventUiBySource[def.sourceId];\n            }\n        }\n        return eventUiBases;\n    }\n    function buildViewUiProps(calendarContext) {\n        let { options } = calendarContext;\n        return {\n            eventUiSingleBase: createEventUi({\n                display: options.eventDisplay,\n                editable: options.editable,\n                startEditable: options.eventStartEditable,\n                durationEditable: options.eventDurationEditable,\n                constraint: options.eventConstraint,\n                overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n                allow: options.eventAllow,\n                backgroundColor: options.eventBackgroundColor,\n                borderColor: options.eventBorderColor,\n                textColor: options.eventTextColor,\n                color: options.eventColor,\n                // classNames: options.eventClassNames // render hook will handle this\n            }, calendarContext),\n            selectionConfig: createEventUi({\n                constraint: options.selectConstraint,\n                overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n                allow: options.selectAllow,\n            }, calendarContext),\n        };\n    }\n    function computeIsLoading(state, context) {\n        for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n            if (isLoadingFunc(state)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    function parseContextBusinessHours(calendarContext) {\n        return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n    }\n    function warnUnknownOptions(options, viewName) {\n        for (let optionName in options) {\n            console.warn(`Unknown option '${optionName}'` +\n                (viewName ? ` for view '${viewName}'` : ''));\n        }\n    }\n\n    class ToolbarSection extends BaseComponent {\n        render() {\n            let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n            return h('div', { className: 'fc-toolbar-chunk' }, ...children);\n        }\n        renderWidgetGroup(widgetGroup) {\n            let { props } = this;\n            let { theme } = this.context;\n            let children = [];\n            let isOnlyButtons = true;\n            for (let widget of widgetGroup) {\n                let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n                if (buttonName === 'title') {\n                    isOnlyButtons = false;\n                    children.push(h(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n                }\n                else {\n                    let isPressed = buttonName === props.activeButton;\n                    let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                        (!props.isPrevEnabled && buttonName === 'prev') ||\n                        (!props.isNextEnabled && buttonName === 'next');\n                    let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                    if (isPressed) {\n                        buttonClasses.push(theme.getClass('buttonActive'));\n                    }\n                    children.push(h(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? h(\"span\", { className: buttonIcon }) : '')));\n                }\n            }\n            if (children.length > 1) {\n                let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n                return h('div', { className: groupClassName }, ...children);\n            }\n            return children[0];\n        }\n    }\n\n    class Toolbar extends BaseComponent {\n        render() {\n            let { model, extraClassName } = this.props;\n            let forceLtr = false;\n            let startContent;\n            let endContent;\n            let sectionWidgets = model.sectionWidgets;\n            let centerContent = sectionWidgets.center;\n            if (sectionWidgets.left) {\n                forceLtr = true;\n                startContent = sectionWidgets.left;\n            }\n            else {\n                startContent = sectionWidgets.start;\n            }\n            if (sectionWidgets.right) {\n                forceLtr = true;\n                endContent = sectionWidgets.right;\n            }\n            else {\n                endContent = sectionWidgets.end;\n            }\n            let classNames = [\n                extraClassName || '',\n                'fc-toolbar',\n                forceLtr ? 'fc-toolbar-ltr' : '',\n            ];\n            return (h(\"div\", { className: classNames.join(' ') },\n                this.renderSection('start', startContent || []),\n                this.renderSection('center', centerContent || []),\n                this.renderSection('end', endContent || [])));\n        }\n        renderSection(key, widgetGroups) {\n            let { props } = this;\n            return (h(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n        }\n    }\n\n    class ViewHarness extends BaseComponent {\n        constructor() {\n            super(...arguments);\n            this.state = {\n                availableWidth: null,\n            };\n            this.handleEl = (el) => {\n                this.el = el;\n                setRef(this.props.elRef, el);\n                this.updateAvailableWidth();\n            };\n            this.handleResize = () => {\n                this.updateAvailableWidth();\n            };\n        }\n        render() {\n            let { props, state } = this;\n            let { aspectRatio } = props;\n            let classNames = [\n                'fc-view-harness',\n                (aspectRatio || props.liquid || props.height)\n                    ? 'fc-view-harness-active' // harness controls the height\n                    : 'fc-view-harness-passive', // let the view do the height\n            ];\n            let height = '';\n            let paddingBottom = '';\n            if (aspectRatio) {\n                if (state.availableWidth !== null) {\n                    height = state.availableWidth / aspectRatio;\n                }\n                else {\n                    // while waiting to know availableWidth, we can't set height to *zero*\n                    // because will cause lots of unnecessary scrollbars within scrollgrid.\n                    // BETTER: don't start rendering ANYTHING yet until we know container width\n                    // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                    paddingBottom = `${(1 / aspectRatio) * 100}%`;\n                }\n            }\n            else {\n                height = props.height || '';\n            }\n            return (h(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n        }\n        componentDidMount() {\n            this.context.addResizeHandler(this.handleResize);\n        }\n        componentWillUnmount() {\n            this.context.removeResizeHandler(this.handleResize);\n        }\n        updateAvailableWidth() {\n            if (this.el && // needed. but why?\n                this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n            ) {\n                this.setState({ availableWidth: this.el.offsetWidth });\n            }\n        }\n    }\n\n    /*\n    Detects when the user clicks on an event within a DateComponent\n    */\n    class EventClicking extends Interaction {\n        constructor(settings) {\n            super(settings);\n            this.handleSegClick = (ev, segEl) => {\n                let { component } = this;\n                let { context } = component;\n                let seg = getElSeg(segEl);\n                if (seg && // might be the <div> surrounding the more link\n                    component.isValidSegDownEl(ev.target)) {\n                    // our way to simulate a link click for elements that can't be <a> tags\n                    // grab before trigger fired in case trigger trashes DOM thru rerendering\n                    let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                    let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                    context.emitter.trigger('eventClick', {\n                        el: segEl,\n                        event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                        jsEvent: ev,\n                        view: context.viewApi,\n                    });\n                    if (url && !ev.defaultPrevented) {\n                        window.location.href = url;\n                    }\n                }\n            };\n            this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n            this.handleSegClick);\n        }\n    }\n\n    /*\n    Triggers events and adds/removes core classNames when the user's pointer\n    enters/leaves event-elements of a component.\n    */\n    class EventHovering extends Interaction {\n        constructor(settings) {\n            super(settings);\n            // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n            this.handleEventElRemove = (el) => {\n                if (el === this.currentSegEl) {\n                    this.handleSegLeave(null, this.currentSegEl);\n                }\n            };\n            this.handleSegEnter = (ev, segEl) => {\n                if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                    this.currentSegEl = segEl;\n                    this.triggerEvent('eventMouseEnter', ev, segEl);\n                }\n            };\n            this.handleSegLeave = (ev, segEl) => {\n                if (this.currentSegEl) {\n                    this.currentSegEl = null;\n                    this.triggerEvent('eventMouseLeave', ev, segEl);\n                }\n            };\n            this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n            this.handleSegEnter, this.handleSegLeave);\n        }\n        destroy() {\n            this.removeHoverListeners();\n        }\n        triggerEvent(publicEvName, ev, segEl) {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (!ev || component.isValidSegDownEl(ev.target)) {\n                context.emitter.trigger(publicEvName, {\n                    el: segEl,\n                    event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n        }\n    }\n\n    class CalendarContent extends PureComponent {\n        constructor() {\n            super(...arguments);\n            this.buildViewContext = memoize(buildViewContext);\n            this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n            this.buildToolbarProps = memoize(buildToolbarProps);\n            this.headerRef = y();\n            this.footerRef = y();\n            this.interactionsStore = {};\n            // eslint-disable-next-line\n            this.state = {\n                viewLabelId: getUniqueDomId(),\n            };\n            // Component Registration\n            // -----------------------------------------------------------------------------------------------------------------\n            this.registerInteractiveComponent = (component, settingsInput) => {\n                let settings = parseInteractionSettings(component, settingsInput);\n                let DEFAULT_INTERACTIONS = [\n                    EventClicking,\n                    EventHovering,\n                ];\n                let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n                let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n                this.interactionsStore[component.uid] = interactions;\n                interactionSettingsStore[component.uid] = settings;\n            };\n            this.unregisterInteractiveComponent = (component) => {\n                let listeners = this.interactionsStore[component.uid];\n                if (listeners) {\n                    for (let listener of listeners) {\n                        listener.destroy();\n                    }\n                    delete this.interactionsStore[component.uid];\n                }\n                delete interactionSettingsStore[component.uid];\n            };\n            // Resizing\n            // -----------------------------------------------------------------------------------------------------------------\n            this.resizeRunner = new DelayedRunner(() => {\n                this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n                this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n            });\n            this.handleWindowResize = (ev) => {\n                let { options } = this.props;\n                if (options.handleWindowResize &&\n                    ev.target === window // avoid jqui events\n                ) {\n                    this.resizeRunner.request(options.windowResizeDelay);\n                }\n            };\n        }\n        /*\n        renders INSIDE of an outer div\n        */\n        render() {\n            let { props } = this;\n            let { toolbarConfig, options } = props;\n            let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n            props.viewTitle);\n            let viewVGrow = false;\n            let viewHeight = '';\n            let viewAspectRatio;\n            if (props.isHeightAuto || props.forPrint) {\n                viewHeight = '';\n            }\n            else if (options.height != null) {\n                viewVGrow = true;\n            }\n            else if (options.contentHeight != null) {\n                viewHeight = options.contentHeight;\n            }\n            else {\n                viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n            }\n            let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n            let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n                ? this.state.viewLabelId\n                : '';\n            return (h(ViewContextType.Provider, { value: viewContext },\n                toolbarConfig.header && (h(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n                h(ViewHarness, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                    this.renderView(props),\n                    this.buildAppendContent()),\n                toolbarConfig.footer && (h(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n        }\n        componentDidMount() {\n            let { props } = this;\n            this.calendarInteractions = props.pluginHooks.calendarInteractions\n                .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n            window.addEventListener('resize', this.handleWindowResize);\n            let { propSetHandlers } = props.pluginHooks;\n            for (let propName in propSetHandlers) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n        componentDidUpdate(prevProps) {\n            let { props } = this;\n            let { propSetHandlers } = props.pluginHooks;\n            for (let propName in propSetHandlers) {\n                if (props[propName] !== prevProps[propName]) {\n                    propSetHandlers[propName](props[propName], props);\n                }\n            }\n        }\n        componentWillUnmount() {\n            window.removeEventListener('resize', this.handleWindowResize);\n            this.resizeRunner.clear();\n            for (let interaction of this.calendarInteractions) {\n                interaction.destroy();\n            }\n            this.props.emitter.trigger('_unmount');\n        }\n        buildAppendContent() {\n            let { props } = this;\n            let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n            return h(p, {}, ...children);\n        }\n        renderView(props) {\n            let { pluginHooks } = props;\n            let { viewSpec } = props;\n            let viewProps = {\n                dateProfile: props.dateProfile,\n                businessHours: props.businessHours,\n                eventStore: props.renderableEventStore,\n                eventUiBases: props.eventUiBases,\n                dateSelection: props.dateSelection,\n                eventSelection: props.eventSelection,\n                eventDrag: props.eventDrag,\n                eventResize: props.eventResize,\n                isHeightAuto: props.isHeightAuto,\n                forPrint: props.forPrint,\n            };\n            let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n            for (let transformer of transformers) {\n                Object.assign(viewProps, transformer.transform(viewProps, props));\n            }\n            let ViewComponent = viewSpec.component;\n            return (h(ViewComponent, Object.assign({}, viewProps)));\n        }\n    }\n    function buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n        // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n        let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n        let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n        let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n        return {\n            title,\n            activeButton: viewSpec.type,\n            navUnit: viewSpec.singleUnit,\n            isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n            isPrevEnabled: prevInfo.isValid,\n            isNextEnabled: nextInfo.isValid,\n        };\n    }\n    // Plugin\n    // -----------------------------------------------------------------------------------------------------------------\n    function buildViewPropTransformers(theClasses) {\n        return theClasses.map((TheClass) => new TheClass());\n    }\n\n    class Calendar extends CalendarImpl {\n        constructor(el, optionOverrides = {}) {\n            super();\n            this.isRendering = false;\n            this.isRendered = false;\n            this.currentClassNames = [];\n            this.customContentRenderId = 0;\n            this.handleAction = (action) => {\n                // actions we know we want to render immediately\n                switch (action.type) {\n                    case 'SET_EVENT_DRAG':\n                    case 'SET_EVENT_RESIZE':\n                        this.renderRunner.tryDrain();\n                }\n            };\n            this.handleData = (data) => {\n                this.currentData = data;\n                this.renderRunner.request(data.calendarOptions.rerenderDelay);\n            };\n            this.handleRenderRequest = () => {\n                if (this.isRendering) {\n                    this.isRendered = true;\n                    let { currentData } = this;\n                    flushSync(() => {\n                        P$1(h(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                            this.setClassNames(classNames);\n                            this.setHeight(height);\n                            return (h(RenderId.Provider, { value: this.customContentRenderId },\n                                h(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                        }), this.el);\n                    });\n                }\n                else if (this.isRendered) {\n                    this.isRendered = false;\n                    P$1(null, this.el);\n                    this.setClassNames([]);\n                    this.setHeight('');\n                }\n            };\n            ensureElHasStyles(el);\n            this.el = el;\n            this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n            new CalendarDataManager({\n                optionOverrides,\n                calendarApi: this,\n                onAction: this.handleAction,\n                onData: this.handleData,\n            });\n        }\n        render() {\n            let wasRendering = this.isRendering;\n            if (!wasRendering) {\n                this.isRendering = true;\n            }\n            else {\n                this.customContentRenderId += 1;\n            }\n            this.renderRunner.request();\n            if (wasRendering) {\n                this.updateSize();\n            }\n        }\n        destroy() {\n            if (this.isRendering) {\n                this.isRendering = false;\n                this.renderRunner.request();\n            }\n        }\n        updateSize() {\n            flushSync(() => {\n                super.updateSize();\n            });\n        }\n        batchRendering(func) {\n            this.renderRunner.pause('batchRendering');\n            func();\n            this.renderRunner.resume('batchRendering');\n        }\n        pauseRendering() {\n            this.renderRunner.pause('pauseRendering');\n        }\n        resumeRendering() {\n            this.renderRunner.resume('pauseRendering', true);\n        }\n        resetOptions(optionOverrides, changedOptionNames) {\n            this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n        }\n        setClassNames(classNames) {\n            if (!isArraysEqual(classNames, this.currentClassNames)) {\n                let { classList } = this.el;\n                for (let className of this.currentClassNames) {\n                    classList.remove(className);\n                }\n                for (let className of classNames) {\n                    classList.add(className);\n                }\n                this.currentClassNames = classNames;\n            }\n        }\n        setHeight(height) {\n            applyStyleProp(this.el, 'height', height);\n        }\n    }\n\n    function formatDate(dateInput, options = {}) {\n        let dateEnv = buildDateEnv(options);\n        let formatter = createFormatter(options);\n        let dateMeta = dateEnv.createMarkerMeta(dateInput);\n        if (!dateMeta) { // TODO: warning?\n            return '';\n        }\n        return dateEnv.format(dateMeta.marker, formatter, {\n            forcedTzo: dateMeta.forcedTzo,\n        });\n    }\n    function formatRange(startInput, endInput, options) {\n        let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n        let formatter = createFormatter(options);\n        let startMeta = dateEnv.createMarkerMeta(startInput);\n        let endMeta = dateEnv.createMarkerMeta(endInput);\n        if (!startMeta || !endMeta) { // TODO: warning?\n            return '';\n        }\n        return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n            forcedStartTzo: startMeta.forcedTzo,\n            forcedEndTzo: endMeta.forcedTzo,\n            isEndExclusive: options.isEndExclusive,\n            defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n        });\n    }\n    // TODO: more DRY and optimized\n    function buildDateEnv(settings) {\n        let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n        return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n    }\n\n    // HELPERS\n    /*\n    if nextDayThreshold is specified, slicing is done in an all-day fashion.\n    you can get nextDayThreshold from context.nextDayThreshold\n    */\n    function sliceEvents(props, allDay) {\n        return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n    }\n\n    const version = '6.1.4';\n\n    exports.Calendar = Calendar;\n    exports.Internal = internal;\n    exports.JsonRequestError = JsonRequestError;\n    exports.Preact = preact;\n    exports.createPlugin = createPlugin;\n    exports.formatDate = formatDate;\n    exports.formatRange = formatRange;\n    exports.globalLocales = globalLocales;\n    exports.globalPlugins = globalPlugins;\n    exports.sliceEvents = sliceEvents;\n    exports.version = version;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n    return exports;\n\n})({});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["exports","removeElement","el","parentNode","removeChild","elementClosest","selector","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","matches","matchesSelector","msMatchesSelector","call","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","push","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","val","style","test","concat","getEventTargetViaRoot","ev","_a","_b","composedPath","target","guid$1","getUniqueDomId","preventDefault","listenBySelector","eventType","handler","attachedHandler","matchedChild","buildDelegationHandler","addEventListener","removeEventListener","transitionEventNames","createAriaClickAttrs","Object","assign","onClick","createAriaKeyboardAttrs","tabIndex","onKeyDown","key","guidNumber","guid","String","parseFieldSpecs","input","token","specs","tokens","split","Array","isArray","charAt","field","substring","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","formatWithOrdinals","formatter","args","fallbackText","apply","_toConsumableArray","reduce","str","arg","index","replace","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","INTERNAL_UNITS","PARSE_RE","createDuration","unit","m","exec","sign","years","months","days","parseInt","milliseconds","parseString","_typeof","parseObject","_defineProperty","obj","duration","year","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","asRoughDays","dur","asRoughMs","greatestDurationDenominator","value","hasOwnProperty","prototype","mergeProps","propObjs","complexPropsMap","dest","isMaybeObjectsEqual","complexObjs","unshift","undefined","filterHash","hash","filtered","mapHash","newHash","arrayToHash","_step","_iterator","_createForOfIteratorHelper","done","err","e","f","hashValuesToArray","isPropsEqual","HANDLER_RE","getUnequalProps","keys","compareObjs","oldProps","newProps","equalityFuncs","arguments","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","isArraysEqual","a0","a1","equalityFunc","DAY_IDS","addDays","dateToUtcArray","arrayToUtcDate","addMs","diffDays","m0","m1","valueOf","diffDayAndTime","m0day","startOfDay","m1day","Math","round","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","weekOfGivenYear","marker","dow","doy","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","Date","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","UTC","isValidDate","isNaN","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","doIso","abs","mins","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","_len","newArgs","_key4","this","memoizeObjArg","currentArg","_this","newArg","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","_classCallCheck","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","_createClass","context","start","end","betterDefaultSeparator","diffSeverity","d0","d1","ca","getMarkerYear","getMarkerMonth","getMarkerDay","computeMarkerDiffSeverity","calendarSystem","format","biggestUnitForPartial","full0","full1","partialFormattingFunc","options","biggestUnit","partialOptions","computePartialFormattingOptions","partial0","partial1","insertion","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","before","after","findCommonInsertion","defaultSeparator","standardDatePropCnt","num","weekText","weekTextLong","locale","display","parts","simpleNumberFormat","direction","reverse","join","formatWeekNumber","computeWeekNumber","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","tzoStr","replaced","injectTzoStr","trim","toLocaleLowerCase","postProcess","buildNativeFormattingFunc","expandZonedMarker","dateInfo","markerToArray","array","createVerboseFormattingArg","startInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","defaultAllDayEventDuration","defaultTimedEventDuration","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","defaultAllDay","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","moreLinkHint","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","plugins","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","fixedWeekCount","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","monthStartFormat","handleCustomRendering","customRenderingMetaMap","customRenderingReplacesEl","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isMaybeArraysEqual","VIEW_OPTION_REFINERS","type","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","refined","extra","raw","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","expandRecurring","eventStore","framingRange","dateEnv","pluginHooks","defs","instances","instance","recurringDef","def","allDay","_step3","_iterator3","expandRecurringRanges","recurringTypes","add","eventDef","markers","typeId","expand","typeData","subtract","map","parseEvents","rawEvents","eventSource","allowOpenRange","defIdMap","instanceIdMap","_step4","eventRefiners","buildEventRefiners","_iterator4","tuple","parseEvent","eventTupleToStore","getRelevantEvents","newStore","filterEventStoreDefs","lookDef","def0","def1","groupId","createEmptyEventStore","mergeEventStores","store0","store1","filterFunc","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","normalizeConstraint","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","id","title","url","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","_refineEventDef","refineEventDef","computeIsDefaultAllDay","recurringRes","parsed","parse","allDayGuess","parseRecurring","parseEventDef","sourceId","singleRes","startMeta","endMeta","startMarker","hasEnd","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","parseSingle","publicId","_step5","ui","_iterator5","eventDefMemberAdders","memberAdder","freeze","canVGrowWithinCell","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","rawDefs","filter","rawDef","refineInputs","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","intersectRects","rect1","rect2","left","right","min","top","bottom","getCanVGrowWithinCell","createElement","position","innerHTML","body","appendChild","possible","offsetHeight","computeCanVGrowWithinCell","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","_this4","keyInfos","getKeyInfo","defKeys","dateSelections","dateSelection","individualUi","eventUiBases","eventStores","eventDrags","eventDrag","eventResizes","eventResize","splitProps","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpan","dateSpans","_step6","_iterator6","getKeysForDateSpan","_this5","getKeysForEventDef","splitStores","_step7","_iterator7","_step8","_iterator8","splitHashes","_step9","_iterator9","interaction","splitStates","affectedStores","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","invertRanges","ranges","constraintRange","dateRange","invertedRanges","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","getDateMeta","todayRange","nowDate","dateProfile","isDisabled","activeRange","isOther","currentRange","isToday","isPast","isFuture","getDayClassNames","meta","theme","getClass","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","dateMarker","viewType","isTabbable","calendarApi","dateStr","zonedDate","toDate","handleInteraction","customAction","zoomTo","_scrollbarWidths","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","firstChild","computeIsRtlScrollbarOnLeft","getScrollbarWidths","computeScrollbarWidthsForEl","computeScrollbarWidths","x","clientHeight","y","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeRect","rect","pageXOffset","pageYOffset","getClippingParents","parents","overflowY","overflowX","unpromisify","normalizedSuccessCallback","normalizedFailureCallback","isResolved","wrappedSuccess","wrappedFailure","error","then","Emitter","handlers","thisContext","addToHash","removeFromHash","attachedHandlers","optionHandler","_len2","_key7","_step11","_iterator11","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","_step12","lefts","rights","_iterator12","originClientTop","_step13","tops","bottoms","_iterator13","leftPosition","topPosition","leftIndex","topIndex","otherCache","similarNumArrays","ScrollController","getScrollHeight","getClientHeight","getScrollWidth","getClientWidth","getMaxScrollTop","getMaxScrollLeft","getScrollTop","getScrollLeft","ElementScrollController","_ScrollController","_inherits","_super","_createSuper","_this6","scrollTop","scrollLeft","scrollWidth","scrollHeight","WindowScrollController","_ScrollController2","_super2","scroll","Theme","calendarOptions","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","isRtl","rtlIconClasses","baseIconClass","customButtonProps","iconOverrideCustomButtonOption","l$1","u$1","i$1","t","o","r$1","f$1","e$1","c$1","l","u","a$1","h","r","children","defaultProps","v$1","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","current","p","_","k$1","base","b$1","g$2","__r","debounceRendering","setTimeout","some","__P","j$2","__n","ownerSVGElement","z$1","w$2","c","k","g","w","C","m$1","A","N","M","x$1","nextSibling","insertBefore","$$1","setProperty","H$1","cssText","toLowerCase","slice","T$1","I$1","removeAttribute","setAttribute","event","v","$","H","I","T","contextType","__E","render","O","sub","state","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L$1","diffed","localName","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","C$1","checked","unmount","componentWillUnmount","P$1","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","shift","__H","w$1","__N","__V","requestAnimationFrame","j$1","g$1","clearTimeout","cancelAnimationFrame","isPureReactComponent","__f","L","U","D","__u","F","__a","V","__R","__O","pop","fallback","W","revealOrder","size","P","splice","containerInfo","get","Map","set","z","Symbol","B","Z","isReactComponent","defineProperty","configurable","writable","G","J","K","cancelBubble","Q","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","nn","tn","multiple","selected","defaultValue","enumerable","$$typeof","en","flushSync","runBeforeFlush","oldDebounceRendering","callbackQ","callback","FakeComponent","_d","_super3","createContext","ContextType","Consumer","Provider","B$1","origProvider","_this7","isNew","subs","_props","old","preact","__proto__","createPortal","Component","Fragment","cloneElement","createRef","hydrate","S","isValidElement","toChildArray","ScrollResponder","execFunc","emitter","_this8","handleScrollRequest","request","queuedRequest","drain","on","fireInitialScroll","off","isDatesNew","time","ViewContextType","buildViewContext","viewSpec","viewApi","viewOptions","dateProfileGenerator","dispatch","getCurrentData","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","_d2","_super4","nextProps","nextState","debug","console","log","propEquality","stateEquality","newState","addPropsEquality","create","addStateEquality","BaseComponent","_PureComponent","_super5","setRef","DateComponent","_BaseComponent","_super6","_this9","uid","positionLeft","positionTop","elWidth","elHeight","getNow","nowInput","createNowMarker","createMarker","DateProfileGenerator","initHiddenDays","currentDateProfile","currentDate","forceToValid","prevDate","startOf","currentRangeUnit","build","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","durationUnit","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","greatestWholeUnit","getFallbackDuration","_this$props","_this$props2","computeRes","isHiddenDay","skipHiddenDays","_this$props3","runningCount","visibleRangeInput","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","triggerDateSelect","selection","pev","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","_step14","span","_iterator14","dateSpanTransforms","transform","buildRangeApi","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","compileEventUis","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","standardProps","startDelta","endDelta","copy","_step15","_iterator15","eventDefMutationAppliers","applier","eventInstance","forceAllDay","clearEnd","datesDelta","EventSourceImpl","internalEventSource","sourceIds","isRefetch","EventImpl","_context","_def","_instance","warn","mutate","granularity","maintainDuration","endInput","instanceRange","deltaInput","delta","formatInput","formatRange","relevantEvents","oldEvent","relatedEvents","buildEventApis","revert","asStore","eventApiToStore","formatIso","omitTime","settings","startStr","endStr","collapseColor","collapseExtendedProps","toPlainObject","eventApi","excludeInstance","eventApis","excludeInstanceId","sliceEventStore","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","origRange","normalRange","slicedRange","isStart","isEnd","_step16","_iterator16","invertedRange","_step17","_iterator17","bg","fg","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","buildSegCompareObj","eventRange","_seg","computeSegDraggable","_step18","transformers","isDraggableTransformers","_seg$eventRange","_iterator18","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","getSegAnchorAttrs","_seg$eventRange2","href","hasHandlers","STANDARD_PROPS","parseDateSpan","defaultDuration","_refineProps","parseOpenDateSpan","buildRangeApiWithTimeZone","calendarSystemClassMap","theClass","GregorianCalendarSystem","arr","ISO_RE","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","createCalendarSystem","weekDow","weekDoy","weekNumberFunc","timestampToMarker","arrayToMarker","diffHours","diffMinutes","diffSeconds","diff","asRoughMonths","startOfYear","startOfMonth","startOfWeek","startOfHour","startOfMinute","startOfSecond","nextW","weekOfYear","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","inputs","_step19","hiddenEntries","_iterator19","insertEntry","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","rects","_step20","entries","_iterator20","span0","span1","item","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","interactionSettingsStore","ElementDragging","bool","DRAG_META_REFINERS","CalendarRoot","_BaseComponent2","_super7","_this10","forPrint","handleBeforePrint","handleAfterPrint","isHeightAuto","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","renderProps","text","ContentInjector","_BaseComponent3","_super8","_this11","queuedDomNodes","currentDomNodes","handleEl","elRef","innerContent","currentGeneratorMeta","customGenerator","defaultGenerator","attrs","buildElAttrs","useDefault","customGeneratorRes","isObject","html","domNodes","hasCustomRenderingHandler","generatorName","elTag","applyQueueudDomNodes","triggerCustomRendering","isActive","_context$options","generatorMeta","containerEl","reportNewContainerEl","elClasses","isTruthy","_step23","_iterator23","newNode","extraClassNames","elAttrs","elStyle","_step2","_iterator2","RenderId","ContentContainer","_d3","_super9","_this12","InnerContent","InnerContentInjector","bind","_assertThisInitialized","classNameGenerator","generatedClassNames","renderId","containerComponent","parentProps","TableDateCell","_BaseComponent4","_super10","_this$context","dayMeta","navLinkAttrs","colCnt","extraRenderProps","role","colSpan","extraDataAttrs","InnerContainer","isSticky","WEEKDAY_FORMAT","TableDowCell","_BaseComponent5","_super11","_this$context2","dateMeta","NowTimer","_d4","_super12","_this13","initialNowDate","initialNowQueriedMs","computeTiming","currentState","prevProps","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","_setTimeout","toString","_this14","_this$computeTiming","timeoutId","_clearTimeout","DayHeader","_BaseComponent6","_super13","_this15","createDayHeaderFormatter","_this$props4","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","sliceRange","segs","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","_len3","extraArgs","_key8","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","_len4","_key9","_len5","_key10","computeActiveRange","rangeRes","_len6","_key11","sliceEventRanges","_len7","_key12","affectedInstances","activeDateSpanRange","fabricateEventRange","_len8","_key13","_step24","_iterator24","eventRanges","_step25","_iterator25","sliceEventRange","_step26","_iterator26","isComponentAllDay","reduceEventStore","action","fetchId","fetchRange","latestFetchId","subset","transformRawEvents","excludeEventsBySourceId","receiveRawEvents","existingEventStore","_buildPublicIdMaps","buildPublicIdMaps","newEventStore","resetRawEvents","expandRange","addEvent","master","filteredDefs","filteredInstances","excludeSubEventStore","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","_step27","_iterator27","rawEvent","refinedEvent","isNewPropsValid","calendarState","isPropsValid","dateSpanMeta","filterConfig","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","selectionConfig","otherEventStore","removals","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","_step28","calendarEventStore","_iterator28","subjectAllow","subjectDateSpan","origDef","origInstance","isInteractionPropsValid","relevantEventStore","relevantDefs","relevantInstances","selectionRange","_context$getCurrentDa2","selectOverlapFunc","relevantInstanceId","relevantInstance","_step29","_iterator29","selectionAllow","isDateSelectionPropsValid","businessHoursUnexpanded","_step30","_iterator30","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","_step31","_iterator31","JsonRequestError","_Error","_super14","message","response","_this16","_wrapNativeSuper","requestJson","method","params","fetchOptions","toUpperCase","URLSearchParams","headers","fetch","fetchRes","ok","json","parsedResponse","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","delay","isPaused","tryDrain","scope","force","drained","_clearTimeout2","VISIBLE_HIDDEN_RE","Scroller","_BaseComponent7","_super15","_this17","liquid","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","realClientWidth","getYScrollbarWidth","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","_this18","currentMap","depths","callbackMap","handleValue","removed","added","_this19","refCallback","computeShrinkWidth","chunkEls","_step32","largestWidth","_iterator32","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","_step33","colNodes","_iterator33","colProps","sanitizeShrinkWidth","hasShrinkWidth","_step34","_iterator34","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","SimpleScrollGrid","_BaseComponent8","_super16","_this20","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","safeSetState","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","renderSection","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","_this$state","needsYScrolling","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","_step36","_iterator36","getSectionByKey","scrollerElRef","getAll","scrollbarWidth","scroller","_step35","_iterator35","harnessEl","EventContainer","_BaseComponent9","_super17","_this21","timeText","disableDragging","disableResizing","isDateSelecting","StandardEvent","_BaseComponent10","_super18","defaultTimeFormat","renderInnerContent$1","eventContentArg","innerProps","DAY_NUM_FORMAT","DayCellContainer","_BaseComponent11","_super19","_this22","refineRenderProps","isMonthStart","showDayNumber","hasCustomDayCellContent","dayNumberText","BgEvent","_BaseComponent12","_super20","renderInnerContent","renderInner","Popover","_BaseComponent13","_super21","_this23","titleId","handleRootEl","rootEl","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","_this$context3","extraAttrs","getIconClass","parentEl","updateSize","_this$props5","alignmentEl","alignGridTop","alignmentRect","_step10","clippingParents","_iterator10","intersection","computeClippedClientRect","popoverDims","popoverTop","popoverLeft","origin","offsetParent","MorePopover","_DateComponent","_super22","_this24","useEventCenter","_this$context4","startDate","endDate","extraDateSpan","dayEl","layer","MoreLinkContainer","_BaseComponent14","_super23","_this25","isPopoverOpen","popoverId","handleLinkEl","linkEl","handleClick","_assertThisInitialize","computeRange","buildPublicSeg","_seg$eventRange3","allDayDate","allSegs","hiddenSegs","handlePopoverClose","_this26","moreCnt","hint","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","pickLatestEnd","pickEarliestStart","seg0","seg1","ViewContainer","_BaseComponent15","_super24","buildViewClassNames","queriedNonceValue","injectedStyleEls","rootHasStyles","WeakMap","injectStyles","css","injectStylesInParent","head","nonce","metaWithNonce","hasAttribute","getAttribute","elWithNonce","queryNonceValue","getNonceValue","innerText","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","rawObj","buildEventSourceRefiners","_refineProps3","metaRes","eventSourceDefs","parseMeta","sourceDefId","buildEventSourceMeta","_raw","isFetching","eventSourceRefiners","CalendarImpl","currentDataManager","optionName","rawOptionValue","currentCalendarOptionsInput","availableRawLocales","handlerName","currentCalendarOptionsRefiners","_this$currentDataMana","_len9","_key14","dateOrRange","_this27","batchRendering","spec","viewSpecs","getUnitViewSpec","_this$getCurrentData","toolbarConfig","viewTypes","header","viewsWithButtons","footer","singleUnit","addYears","zonedDateInput","dateOrObj","selectionInput","triggerDateUnselect","eventInput","sourceInput","triggerEventAdd","_slicedToArray","sourceApi","getEventSourceById","newEventApi","_this28","_state$eventStore","currentData","sourceHash","sourceApis","internalId","sources","timeInput","CustomRenderingStore","_Store","_super25","_this29","customRendering","updated","has","Store","currentValue","_step37","_iterator37","internal","preventSelection","classList","allowSelection","remove","preventContextMenu","allowContextMenu","compareNumbers","enableCursor","disableCursor","isMultiDayRange","removeExact","exactVal","removeCnt","memoizeArraylike","_this2","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","_this3","currentArgHash","currentResHash","newArgHash","newResHash","pointInsideRect","point","constrainPoint","getRectCenter","diffPoints","point1","point2","translateRect","deltaX","deltaY","findDirectChildren","parent","childNode","getSlotClassNames","whenTransitionDone","realCallback","eventName","computeInnerRect","goWithinPadding","outerRect","edges","isDateSpansEqual","isSpanPropsEqual","addWeeks","diffWeeks","asCleanDays","multiplyDuration","addDurations","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","formatIsoTimeString","formatIsoMonthStr","match","parseMarker","groupIntersectingEntries","_step21","merges","_iterator21","_step22","filteredMerges","hungryMerge","_iterator22","merge","interactionSettingsToStore","config","parseDragMeta","_refineProps2","leftoverProps","hasBgRendering","sortEventSegs","eventOrderSpecs","objs","getSegMeta","segRange","buildEventRangeKey","isInteractionValid","isDateSelectionValid","renderScrollShim","getStickyFooterScrollbar","getStickyHeaderDates","NowIndicatorContainer","isAxis","renderFill","fillType","WeekNumberContainer","defaultFormat","globalLocales","MINIMAL_RAW_EN_LOCALE","code","prev","next","prevYear","nextYear","today","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","_step38","defaultCode","allRawLocales","rawLocaleMap","_iterator38","rawLocale","buildLocale","inputSingular","available","codeArg","simpleId","queryRawLocale","parseLocale","queryLocale","merged","NumberFormat","createPlugin","premiumReleaseDate","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","listenerRefiners","optionRefiners","propSetHandlers","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","globalDefs","pluginDefs","currentPluginIds","hooks","addDefs","_step39","hooks0","hooks1","_iterator39","pluginName","currentId","compareOptionalDates","buildPluginHooks","StandardTheme","_Theme","_super26","ensureViewDef","defaultConfigs","overrideConfigs","viewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","buildViewDef","parseViewConfigs","parseViewConfig","viewProps","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","compileViewDefs","durationInput","singleUnitOverrides","JSON","stringify","durationInputMap","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","buildViewSpec","root","tableCellShaded","buttonGroup","button","buttonActive","close","initEventSources","addSources","rawSources","_step41","_iterator41","source","parseInitialSources","reduceEventSources","eventSourceHash","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","computeEventSourcesLoading","_step40","_iterator40","doesSourceNeedRange","isSourceDirty","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","errorHandled","ignoreRange","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionRes","parseSection","widgets","sectionStr","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","getCustomButtonIconClass","changeView","textFallback","prevOrNext","navUnit","ViewImpl","viewTitle","handleEventSources","unfoundSources","_step42","newInputs","_iterator42","inputFound","_step43","_iterator43","unfoundSource","_i15","_newInputs","newInput","addEventSource","globalPlugins","successCallback","errorCallback","extraParams","requestParams","customRequestParams","buildRequestParams","_ref3","_ref4","startRecur","endRecur","recurringData","clippedFramingRange","dowHash","dayMarker","instanceStarts","instanceStart","expandRanges","TaskRunner","runTaskOption","queue","delayedRunner","task","pause","resume","completedTasks","runTask","buildTitle","buildTitleFormat","CalendarDataManager","_this30","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsForRefining","optionsForHandling","optionsData","computeOptionsData","currentViewType","currentViewData","setThisContext","setOptions","initialDateInput","_step44","calendarContext","_iterator44","_step45","initialState","renderableEventStore","contextAndState","_iterator45","reducer","computeIsLoading","changedOptionNames","_this$optionsForRefin","reduceDynamicOptionOverrides","reduceViewType","reduceCurrentDate","dp","buildPrev","buildNext","reduceDateProfile","_step46","_this$buildViewUiProp","eventUiSingleBase","eventUiBySource","_iterator46","wasLoading","isLoading","onAction","oldDateEnv","newDateEnv","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","stableOptionOverrides","stableDynamicOptionOverrides","stableCalendarOptionsData","_this$processRawCalen","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","_this$optionsForHandl","_mergeRawOptions","currentRaw","currentRefined","anyChanges","_this$processRawViewO","processRawViewOptions","explicitLocale","_step47","_iterator47","isLoadingFunc","viewName","ToolbarSection","_BaseComponent16","_super27","_this31","widgetGroups","widgetGroup","renderWidgetGroup","_step48","isOnlyButtons","_iterator48","widget","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","disabled","groupClassName","Toolbar","_BaseComponent17","_super28","startContent","endContent","_this$props6","model","extraClassName","forceLtr","centerContent","ViewHarness","_BaseComponent18","_super29","_this32","availableWidth","updateAvailableWidth","handleResize","labeledById","EventClicking","_Interaction","_super30","_this33","handleSegClick","segEl","isValidSegDownEl","hasUrlContainer","location","destroy","EventHovering","_Interaction2","_super31","_this34","onMouseEnter","onMouseLeave","currentMatchedChild","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","mouseOverEv","realOnMouseLeave","mouseLeaveEv","publicEvName","CalendarContent","_PureComponent2","_super32","_this35","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","settingsInput","parseInteractionSettings","interactions","TheInteractionClass","listeners","_step49","_iterator49","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","viewContext","renderView","buildAppendContent","CalendarInteractionClass","clear","_step50","_iterator50","_step51","_iterator51","todayInfo","prevInfo","nextInfo","theClasses","TheClass","Calendar","_CalendarImpl","_super33","_this36","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","handleData","handleRenderRequest","setClassNames","setHeight","calendarEl","getRootNode","_i12","_injectedStyleEls","ensureElHasStyles","wasRendering","_this37","_get","_getPrototypeOf","resetOptions","_step52","_iterator52","_step53","_iterator53","Internal","Preact","formatDate","dateInput","sliceEvents","version","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","getter","__esModule","definition","prop"],"sourceRoot":""}